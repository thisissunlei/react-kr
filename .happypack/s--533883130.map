{"version":3,"sources":["src/Containers/Operation/CustomerManage/AgreementList/Join/Create/NewCreateForm.js"],"names":["NewCreateForm","decorate","props","context","onBlur","item","stationVos","state","allMoney","setAllRent","list","_this","stationList","map","unitprice","dispatch","callAPI","JSON","stringify","then","response","setState","allRent","catch","err","show","message","type","getSingleRent","mounth","rentBegin","leaseBeginDate","split","rentEnd","leaseEndDate","rentDay","rentMounth","years","a","mounthIndex","rentPriceByDay","toFixed","showMore","HeightAuto","dealRentName","name","nzhcn","cn","allRentName","encodeB","parseFloat","allRentNameArray","length","xiaoshu","stationRefs","onCancel","bind","onSubmit","onStationDelete","onStationSelect","getStationUrl","onIframeClose","openStationDialog","onStationUnitPrice","openStationUnitPriceDialog","openPreStationUnitPriceDialog","onStationVosChange","onChangeSearchPersonel","onChangeLeaseBeginDate","onChangeLeaseEndDate","calcStationNum","selectedStation","openStation","openStationUnitPrice","stationnum","boardroomnum","forEach","index","stationType","value","form","price","indexOf","filter","changeValues","wherefloor","leaseBegindate","leaseEnddate","Date","initialValues","nextProps","billList","lessorAddress","firstpaydate","signdate","contractVersionType","totalrent","url","optionValues","obj","id","stationId","params","mainBillId","orderId","communityId","mainbillCommunityId","floors","goalStationNum","goalBoardroomNum","selectedObjs","startDate","endDate","Object","keys","hasOwnProperty","replace","stationName","whereFloor","console","log","personel","mobile","lastname","error","handleSubmit","pristine","reset","submitting","fnaCorporationList","leaseId","corporationAddress","width","paddingLeft","marginLeft","floorList","position","padding","marginTop","textAlign","display","lineHeight","left","marginBottom","typeLink","requestChange","maxWidth","marginRight","color","paddingBottom","requiredValue","pattern","customerName","communityName","communityAddress","paymentList","payTypeList","files","contextTypes","PropTypes","object","isRequired","DefaultPropTypes","func","validate","errors","values","lessorContactid","contractcode","leaseContact","leaseAddress","isNaN","String","totaldeposit","paymodel","paytype","selector","enableReinitialize","keepDirtyOnReinitialize","lessorId"],"mappings":";;;;;;;;;;AAAA;;;;AAKA;;AAKA;;;;AACA;;;;AACA;;AAIA;;AAGA;;;;AACA;;;;AACA;;;;AAkBA;;;;AAEA;;;;;;;;;;IAgCMA,a,WADL,qBAAWC,QAAX,uC;;;AAwBA,wBAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAI3B;AAJ2B,6HACrBD,KADqB,EACdC,OADc;;AAAA,SAmW5BC,MAnW4B,GAmWrB,UAACC,IAAD,EAAQ;AAAA,OACTC,UADS,GACK,OAAKC,KADV,CACTD,UADS;;AAEd,OAAIE,WAAW,CAAf;AACA,UAAKC,UAAL,CAAgBH,UAAhB;AAEA,GAxW2B;;AAAA,SAyW5BG,UAzW4B,GAyWjB,UAACC,IAAD,EAAQ;AAClB,OAAIC,cAAJ;AACA,OAAIC,cAAcF,KAAKG,GAAL,CAAS,UAACR,IAAD,EAAQ;AAClC,QAAG,CAACA,KAAKS,SAAT,EAAmB;AAClBT,UAAKS,SAAL,GAAiB,CAAjB;AACA;AACD,WAAOT,IAAP;AACA,IALiB,CAAlB;AAMA,gBAAMU,QAAN,CAAe,eAAQC,OAAR,CAAgB,YAAhB,EAA6B,EAA7B,EAAgC,EAACJ,aAAYK,KAAKC,SAAL,CAAeR,IAAf,CAAb,EAAhC,CAAf,EAAoFS,IAApF,CAAyF,UAASC,QAAT,EAAmB;AAC3GT,UAAMU,QAAN,CAAe;AACdC,cAAQF;AADM,KAAf;AAGA,IAJD,EAIGG,KAJH,CAIS,UAASC,GAAT,EAAc;AACtB,iBAAOC,IAAP,CAAY,CAAC;AACZC,cAASF,IAAIE,OADD;AAEZC,WAAM;AAFM,KAAD,CAAZ;AAIA,IATD;AAUA,GA3X2B;;AAAA,SA4X5BC,aA5X4B,GA4Xd,UAACvB,IAAD,EAAQ;AACrB;AACA,OAAIwB,SAAS,CAAC,EAAD,EAAI,EAAJ,EAAO,EAAP,EAAU,EAAV,EAAa,EAAb,EAAgB,EAAhB,EAAmB,EAAnB,EAAsB,EAAtB,EAAyB,EAAzB,EAA4B,EAA5B,EAA+B,EAA/B,EAAkC,EAAlC,CAAb;AACA,OAAIC,YAAY,0BAAWzB,KAAK0B,cAAhB,EAAgC,YAAhC,EAA8CC,KAA9C,CAAoD,GAApD,CAAhB;AACA,OAAIC,UAAU,0BAAW5B,KAAK6B,YAAhB,EAA8B,YAA9B,EAA4CF,KAA5C,CAAkD,GAAlD,CAAd;AACA,OAAIG,UAAU,CAAd;AACA,OAAIC,aAAa,CAACH,QAAQ,CAAR,IAAWH,UAAU,CAAV,CAAZ,IAA0B,EAA1B,IAA8BG,QAAQ,CAAR,IAAWH,UAAU,CAAV,CAAzC,CAAjB;AACA,OAAIO,QAAQJ,QAAQ,CAAR,CAAZ;AACA,OAAGH,UAAU,CAAV,IAAaG,QAAQ,CAAR,CAAb,IAA2B,CAA9B,EAAgC;AAC/BE,cAAU,CAAV;AACA,IAFD,MAEK;AACJ,QAAIG,IAAGL,QAAQ,CAAR,IAAWH,UAAU,CAAV,CAAlB;AACA,QAAGQ,KAAG,CAAN,EAAQ;AACPH,eAAUG,IAAE,CAAZ;AAEA,KAHD,MAGK;AACJ,SAAIC,cAAcN,QAAQ,CAAR,IAAW,CAA7B;AACA,SAAII,QAAM,CAAN,IAAS,CAAT,IAAcA,QAAM,GAAN,IAAW,CAA1B,IAA+BA,QAAM,GAAN,IAAW,CAAZ,IAAkBJ,QAAQ,CAAR,KAAY,CAA/D,EAAkE;AACjEE,gBAAUN,OAAOU,WAAP,IAAoB,CAApB,GAAsBD,CAAhC;AACA;AACDH,eAAUN,OAAOU,WAAP,IAAoB,CAApB,GAAsBD,CAAhC;AACAF,kBAAaA,aAAW,CAAxB;AACA;AACD;AACD;AACA;AACA,OAAII,iBAAiB,CAAEnC,KAAKS,SAAL,GAAe,EAAhB,GAAoB,GAArB,EAA0B2B,OAA1B,CAAkC,CAAlC,CAArB;AACA;AACA,OAAInB,UAAWkB,iBAAiBL,OAAlB,GAA8BC,aAAW/B,KAAKS,SAA5D;AACAQ,aAAUA,QAAQmB,OAAR,CAAgB,CAAhB,IAAmB,CAA7B;AACA,UAAOnB,OAAP;AACA,GA3Z2B;;AAAA,SA2c5BoB,QA3c4B,GA2cjB,YAAM;AAChB,UAAKrB,QAAL,CAAc;AACbsB,gBAAY,CAAC,OAAKpC,KAAL,CAAWoC;AADX,IAAd;AAIA,GAhd2B;;AAAA,SAid5BC,YAjd4B,GAidf,UAACtB,OAAD,EAAW;AACvB,OAAIuB,OAAO,EAAX;AACA,OAAIC,QAAQ,cAAIC,EAAhB;AACA,OAAG,CAACzB,OAAJ,EAAY;AACX,WAAO,GAAP;AACA;AACD,OAAK0B,cAAcF,MAAMG,OAAN,CAAcC,WAAW5B,OAAX,CAAd,CAAnB;AACA,OAAI6B,mBAAmBH,YAAYhB,KAAZ,CAAkB,GAAlB,CAAvB;AACA,OAAGmB,iBAAiBC,MAAjB,IAAyB,CAA5B,EAA8B;AAC7BP,WAAOM,iBAAiB,CAAjB,IAAsB,IAA7B;AACA,IAFD,MAEK;AACJ,QAAIE,UAAUF,iBAAiB,CAAjB,CAAd;AACAN,WAAOM,iBAAiB,CAAjB,IAAoB,GAApB,GAAwBE,QAAQ,CAAR,CAAxB,GAAmC,GAA1C;AACA,QAAGA,QAAQ,CAAR,CAAH,EAAc;AACbR,YAAOA,OAAKQ,QAAQ,CAAR,CAAL,GAAgB,GAAvB;AACA;AACD;AACD,UAAOR,IAAP;AACA,GAne2B;;AAK3B,SAAKS,WAAL,GAAmB,EAAnB;;AAEA,SAAKC,QAAL,GAAgB,OAAKA,QAAL,CAAcC,IAAd,QAAhB;AACA,SAAKC,QAAL,GAAgB,OAAKA,QAAL,CAAcD,IAAd,QAAhB;AACA,SAAKE,eAAL,GAAuB,OAAKA,eAAL,CAAqBF,IAArB,QAAvB;AACA,SAAKG,eAAL,GAAuB,OAAKA,eAAL,CAAqBH,IAArB,QAAvB;;AAEA,SAAKI,aAAL,GAAqB,OAAKA,aAAL,CAAmBJ,IAAnB,QAArB;AACA,SAAKK,aAAL,GAAqB,OAAKA,aAAL,CAAmBL,IAAnB,QAArB;AACA,SAAKM,iBAAL,GAAyB,OAAKA,iBAAL,CAAuBN,IAAvB,QAAzB;AACA,SAAKO,kBAAL,GAA0B,OAAKA,kBAAL,CAAwBP,IAAxB,QAA1B;AACA,SAAKQ,0BAAL,GAAkC,OAAKA,0BAAL,CAAgCR,IAAhC,QAAlC;AACA,SAAKS,6BAAL,GAAqC,OAAKA,6BAAL,CAAmCT,IAAnC,QAArC;;AAEA,SAAKU,kBAAL,GAA0B,OAAKA,kBAAL,CAAwBV,IAAxB,QAA1B;AACA,SAAKW,sBAAL,GAA8B,OAAKA,sBAAL,CAA4BX,IAA5B,QAA9B;;AAEA,SAAKY,sBAAL,GAA8B,OAAKA,sBAAL,CAA4BZ,IAA5B,QAA9B;AACA,SAAKa,oBAAL,GAA4B,OAAKA,oBAAL,CAA0Bb,IAA1B,QAA5B;;AAEA,SAAKc,cAAL,GAAsB,OAAKA,cAAL,CAAoBd,IAApB,QAAtB;;AAGA,SAAKjD,KAAL,GAAa;AACZD,eAAY,EADA;AAEZiE,oBAAiB,EAFL;AAGZC,gBAAa,KAHD;AAIZC,yBAAsB,KAJV;AAKZ9B,eAAY,KALA;AAMZrB,YAAQ;;AANI,GAAb;AA5B2B;AAqC3B;;;;mCAEgB;AAAA,OAEfhB,UAFe,GAGZ,KAAKC,KAHO,CAEfD,UAFe;;;AAKhB,OAAIoE,aAAa,CAAjB;AACA,OAAIC,eAAe,CAAnB;;AAEArE,cAAWsE,OAAX,CAAmB,UAASvE,IAAT,EAAewE,KAAf,EAAsB;AACxC,QAAIxE,KAAKyE,WAAL,IAAoB,CAAxB,EAA2B;AAC1BJ;AACA,KAFD,MAEO;AACNC;AACA;AACD,IAND;;AASA,gBAAM5D,QAAN,CAAe,uBAAO,gBAAP,EAAyB,YAAzB,EAAuC2D,UAAvC,CAAf;AACA,gBAAM3D,QAAN,CAAe,uBAAO,gBAAP,EAAyB,cAAzB,EAAyC4D,YAAzC,CAAf;AACA;;AAED;;;;yCACuBI,K,EAAO;;AAE7BA,WAAQ,0BAAWA,KAAX,EAAkB,qBAAlB,CAAR;;AAF6B,OAK5BzE,UAL4B,GAMzB,KAAKC,KANoB,CAK5BD,UAL4B;;;AAQ7B,OAAI,CAACA,WAAW8C,MAAhB,EAAwB;AACvB;AACA;;AAED,QAAK/B,QAAL,CAAc;AACbf,gBAAY,EADC;AAEbgB,aAAQ;AAFK,IAAd;AAKA;;AAED;;;;uCACqByD,K,EAAO;AAC3BA,WAAQ,0BAAWA,KAAX,EAAkB,qBAAlB,CAAR;AAD2B,OAG1BzE,UAH0B,GAIvB,KAAKC,KAJkB,CAG1BD,UAH0B;;;AAM3B,OAAI,CAACA,WAAW8C,MAAhB,EAAwB;AACvB;AACA;;AAED,QAAK/B,QAAL,CAAc;AACbf,gBAAY,EADC;AAEbgB,aAAQ;AAFK,IAAd;AAKA;;;qCAEkBuD,K,EAAOE,K,EAAO;AAAA,OAG/BzE,UAH+B,GAI5B,KAAKC,KAJuB,CAG/BD,UAH+B;;AAKhCA,cAAWuE,KAAX,EAAkB/D,SAAlB,GAA8BiE,KAA9B;;AAEA,QAAK1D,QAAL,CAAc;AACbf;AADa,IAAd;AAGA;;;kDAE+B;AAAA,OAE9BiE,eAF8B,GAG3B,KAAKhE,KAHsB,CAE9BgE,eAF8B;;AAI/B,OAAI,CAACA,gBAAgBnB,MAArB,EAA6B;AAC5B,iBAAO3B,IAAP,CAAY,CAAC;AACZC,cAAS,cADG;AAEZC,WAAM;AAFM,KAAD,CAAZ;AAIA;AACA;AACD,QAAKqC,0BAAL;AACA;;AAGD;;;;+CAC6B;AAC5B,QAAK3C,QAAL,CAAc;AACboD,0BAAsB,CAAC,KAAKlE,KAAL,CAAWkE;AADrB,IAAd;AAGA;;AAED;;;;qCACmBO,I,EAAM;;AAExB,OAAID,QAAQC,KAAKC,KAAjB;AAFwB,gBAMpB,KAAK1E,KANe;AAAA,OAIvBD,UAJuB,UAIvBA,UAJuB;AAAA,OAKvBiE,eALuB,UAKvBA,eALuB;;AAOxB,OAAIjD,UAAU,CAAd;AACA,OAAIX,QAAQ,IAAZ;;AAEAL,gBAAaA,WAAWO,GAAX,CAAe,UAASR,IAAT,EAAewE,KAAf,EAAsB;AACjD,QAAIN,gBAAgBW,OAAhB,CAAwBL,KAAxB,KAAkC,CAAC,CAAvC,EAA0C;AACzCxE,UAAKS,SAAL,GAAiBiE,KAAjB;AACA;AACD,WAAO1E,IAAP;AACA,IALY,CAAb;AAMA,QAAKI,UAAL,CAAgBH,UAAhB;AACA;AACA;AACA;AACA;;;AAIA,QAAKe,QAAL,CAAc;AACbf,0BADa;AAEbgB;AAFa,IAAd;;AAKA,QAAK0C,0BAAL;AACA;;AAED;;;;oCACkB;AACjB,OAAIrD,QAAQ,IAAZ;;AADiB,iBAMb,KAAKJ,KANQ;AAAA,OAIhBgE,eAJgB,WAIhBA,eAJgB;AAAA,OAKhBjE,UALgB,WAKhBA,UALgB;;AAOjB,OAAIgB,UAAU,CAAd;AACAhB,gBAAaA,WAAW6E,MAAX,CAAkB,UAAS9E,IAAT,EAAewE,KAAf,EAAsB;AACpD,QAAIN,gBAAgBW,OAAhB,CAAwBL,KAAxB,KAAkC,CAAC,CAAvC,EAA0C;AACzC,YAAO,KAAP;AACA;AACD,WAAO,IAAP;AACA,IALY,CAAb;AAMAvE,cAAWO,GAAX,CAAe,UAACR,IAAD,EAAQ;AACtBiB,eAAWX,MAAMiB,aAAN,CAAoBvB,IAApB,CAAX;AACA,IAFD;AAGAiB,aAAU4B,WAAW5B,OAAX,EAAoBmB,OAApB,CAA4B,CAA5B,IAA+B,CAAzC;;AAEA,QAAKpB,QAAL,CAAc;AACbf,0BADa;AAEbgB;AAFa,IAAd,EAGG,YAAW;AACb,SAAKgD,cAAL;AACA,IALD;AAMA;;;kCAEeC,e,EAAiB;AAChC,QAAKlD,QAAL,CAAc;AACbkD;AADa,IAAd;AAGA;;;sCAEmB;AAAA,OAGlBa,YAHkB,GAIf,KAAKlF,KAJU,CAGlBkF,YAHkB;AAAA,OAOlBC,UAPkB,GAUfD,YAVe,CAOlBC,UAPkB;AAAA,OAQlBC,cARkB,GAUfF,YAVe,CAQlBE,cARkB;AAAA,OASlBC,YATkB,GAUfH,YAVe,CASlBG,YATkB;;;AAYnB,OAAI,CAACF,UAAL,EAAiB;AAChB,iBAAO5D,IAAP,CAAY,CAAC;AACZC,cAAS,QADG;AAEZC,WAAM;AAFM,KAAD,CAAZ;AAIA;AACA;;AAED,OAAI,CAAC2D,cAAL,EAAqB;AACpB,iBAAO7D,IAAP,CAAY,CAAC;AACZC,cAAS,WADG;AAEZC,WAAM;AAFM,KAAD,CAAZ;AAIA;AACA;;AAED,OAAI,CAAC4D,YAAL,EAAmB;AAClB,iBAAO9D,IAAP,CAAY,CAAC;AACZC,cAAS,WADG;AAEZC,WAAM;AAFM,KAAD,CAAZ;AAIA;AACA;;AAED,OAAG,IAAI6D,IAAJ,CAASD,YAAT,IAAuB,IAAIC,IAAJ,CAASF,cAAT,CAA1B,EAAmD;AAClD,iBAAO7D,IAAP,CAAY,CAAC;AACZC,cAAS,cADG;AAEZC,WAAM;AAFM,KAAD,CAAZ;AAIA;AACA;;AAED,QAAKN,QAAL,CAAc;AACbmD,iBAAa,CAAC,KAAKjE,KAAL,CAAWiE;AADZ,IAAd;AAGA;;;sCAGmB;AAAA,OAElBiB,aAFkB,GAGf,KAAKvF,KAHU,CAElBuF,aAFkB;;AAInB,gBAAM1E,QAAN,CAAe,2BAAW,gBAAX,EAA6B0E,aAA7B,CAAf;AACA;;;4CAEyBC,S,EAAW,CAEpC;;;2BAEQV,I,EAAM;AAAA,OAKb1E,UALa,GAMV,KAAKC,KANK,CAKbD,UALa;AAAA,OAUbqF,QAVa,GAWV,KAAKpF,KAXK,CAUboF,QAVa;AAAA,OAcbP,YAda,GAeV,KAAKlF,KAfK,CAcbkF,YAda;;AAgBd,OAAI,CAAC9E,WAAW8C,MAAhB,EAAwB;AACvB,iBAAO3B,IAAP,CAAY,CAAC;AACZC,cAAS,OADG;AAEZC,WAAM;AAFM,KAAD,CAAZ;AAIA;AACA;AACDqD,QAAKY,aAAL,GAAqBR,aAAaQ,aAAlC;;AAEAZ,QAAKa,YAAL,GAAoB,0BAAWb,KAAKa,YAAhB,EAA8B,qBAA9B,CAApB;AACAb,QAAKc,QAAL,GAAgB,0BAAWd,KAAKc,QAAhB,EAA0B,qBAA1B,CAAhB;AACAd,QAAKM,cAAL,GAAsB,0BAAWN,KAAKM,cAAhB,EAAgC,qBAAhC,CAAtB;AACAN,QAAKO,YAAL,GAAoB,0BAAWP,KAAKO,YAAhB,EAA8B,qBAA9B,CAApB;AACAP,QAAKe,mBAAL,GAA2B,KAA3B;AACAf,QAAKgB,SAAL,GAAkB,KAAKzF,KAAL,CAAWe,OAAZ,CAAqBmB,OAArB,CAA6B,CAA7B,CAAjB;;AAEA,OAAI9B,QAAQ,IAAZ;;AAEAqE,QAAK1E,UAAL,GAAkBA,UAAlB;AAlCc,OAoCbmD,QApCa,GAqCV,KAAKvD,KArCK,CAoCbuD,QApCa;;AAsCdA,eAAYA,SAASuB,IAAT,CAAZ;AACA;;;6BAEU;AAAA,OAETzB,QAFS,GAGN,KAAKrD,KAHC,CAETqD,QAFS;;AAIVA,eAAYA,UAAZ;AACA;;;kCAEe;;AAEf,OAAI0C,MAAM,qRAAV;;AAFe,gBAQX,KAAK/F,KARM;AAAA,OAKdkF,YALc,UAKdA,YALc;AAAA,OAMdK,aANc,UAMdA,aANc;AAAA,OAOdS,YAPc,UAOdA,YAPc;AAAA,OAUd5F,UAVc,GAWX,KAAKC,KAXM,CAUdD,UAVc;;;AAafA,gBAAaA,WAAWO,GAAX,CAAe,UAASR,IAAT,EAAe;AAC1C,QAAI8F,MAAM,EAAV;AACAA,QAAIC,EAAJ,GAAS/F,KAAKgG,SAAd;AACAF,QAAIxE,IAAJ,GAAWtB,KAAKyE,WAAhB;AACA,WAAOqB,GAAP;AACA,IALY,CAAb;;AAOA,OAAIG,SAAS;AACZC,gBAAY,KAAKpG,OAAL,CAAamG,MAAb,CAAoBE,OADpB;AAEZC,iBAAaP,aAAaQ,mBAFd;AAGZC,YAAQvB,aAAaC,UAHT;AAIZ;AACAuB,oBAAgBxB,aAAaV,UALjB;AAMZ;AACAmC,sBAAkBzB,aAAaT,YAPnB;AAQZmC,kBAAc7F,KAAKC,SAAL,CAAeZ,UAAf,CARF;AASZyG,eAAW,0BAAW3B,aAAaE,cAAxB,EAAwC,YAAxC,CATC;AAUZ0B,aAAS,0BAAW5B,aAAaG,YAAxB,EAAsC,YAAtC,CAVG;AAWZzE,eAAU;;AAXE,IAAb;;AAgBA,OAAImG,OAAOC,IAAP,CAAYZ,MAAZ,EAAoBlD,MAAxB,EAAgC;AAC/B,SAAK,IAAI/C,IAAT,IAAiBiG,MAAjB,EAAyB;AACxB,SAAIA,OAAOa,cAAP,CAAsB9G,IAAtB,CAAJ,EAAiC;AAChC4F,YAAMA,IAAImB,OAAJ,CAAY,MAAM/G,IAAN,GAAa,GAAzB,EAA8BiG,OAAOjG,IAAP,CAA9B,CAAN;AACA,aAAOiG,OAAOjG,IAAP,CAAP;AACA;AACD;AACD;;AAED,UAAO4F,GAAP;AACA;;;gCA2DaN,Q,EAAU;;AAEvB,QAAK7B,iBAAL;;AAGA,OAAI,CAAC6B,QAAL,EAAe;AACd;AACA;;AAED,OAAIhF,QAAQ,IAAZ;;AATuB,OAYtByE,YAZsB,GAanB,KAAKlF,KAbc,CAYtBkF,YAZsB;AAAA,OAgBtB9E,UAhBsB,GAiBnB,KAAKC,KAjBc,CAgBtBD,UAhBsB;;;AAmBvB,OAAI;AACHqF,aAAS9E,GAAT,CAAa,UAASR,IAAT,EAAewE,KAAf,EAAsB;AAClCxE,UAAK0B,cAAL,GAAsBqD,aAAaE,cAAnC;AACAjF,UAAK6B,YAAL,GAAoBkD,aAAaG,YAAjC;AACAlF,UAAKgG,SAAL,GAAiBhG,KAAK+F,EAAtB;AACA/F,UAAKyE,WAAL,GAAmBzE,KAAKsB,IAAxB;AACAtB,UAAKgH,WAAL,GAAmBhH,KAAKwC,IAAxB;AACAxC,UAAKS,SAAL,GAAiB,EAAjB;AACAT,UAAKiH,UAAL,GAAkBjH,KAAKgF,UAAvB;AACA,KARD;AASA,IAVD,CAUE,OAAO7D,GAAP,EAAY;AACb+F,YAAQC,GAAR,CAAY,qBAAZ;AACA;;AAGD,QAAKnG,QAAL,CAAc;AACbf,gBAAYqF,QADC;AAEbrE,aAAQ;AAFK,IAAd,EAGG,YAAW;AACb,SAAKgD,cAAL;AACA,IALD;AAMA;;;yCAEsBmD,Q,EAAU;AAChC,gBAAM1G,QAAN,CAAe,uBAAO,gBAAP,EAAyB,kBAAzB,EAA6C0G,SAASC,MAAtD,CAAf;AACA,gBAAM3G,QAAN,CAAe,uBAAO,gBAAP,EAAyB,mBAAzB,EAA8C0G,SAASE,QAAvD,CAAf;AACA;;;2BA2BQ;AAAA;;AACR,OAAIhH,QAAQ,IAAZ;AADQ,iBAWJ,KAAKT,KAXD;AAAA,OAGP0H,KAHO,WAGPA,KAHO;AAAA,OAIPC,YAJO,WAIPA,YAJO;AAAA,OAKPC,QALO,WAKPA,QALO;AAAA,OAMPC,KANO,WAMPA,KANO;AAAA,OAOPC,UAPO,WAOPA,UAPO;AAAA,OAQPvC,aARO,WAQPA,aARO;AAAA,OASPL,YATO,WASPA,YATO;AAAA,OAUPc,YAVO,WAUPA,YAVO;AAAA,OAcP+B,kBAdO,GAeJ/B,YAfI,CAcP+B,kBAdO;;;AAiBRA,yBAAsBA,mBAAmBpH,GAAnB,CAAuB,UAASR,IAAT,EAAewE,KAAf,EAAsB;AAClE,QAAIO,aAAa8C,OAAb,IAAwB7H,KAAK+F,EAAjC,EAAqC;AACpChB,kBAAaQ,aAAb,GAA6BvF,KAAK8H,kBAAlC;AACA;AACD,IAJqB,CAAtB;;AAjBQ,iBA4BJ,KAAK5H,KA5BD;AAAA,OAwBPoF,QAxBO,WAwBPA,QAxBO;AAAA,OAyBPrF,UAzBO,WAyBPA,UAzBO;AAAA,OA0BPqC,UA1BO,WA0BPA,UA1BO;AAAA,OA2BPrB,OA3BO,WA2BPA,OA3BO;;AA6BR,OAAK0B,cAAc,KAAKJ,YAAL,CAAkBtB,OAAlB,CAAnB;;AAIA,UAGC;AAAA;AAAA,MAAK,OAAO,EAAC8G,OAAM,GAAP,EAAZ;AAED;AAAA;AAAA,OAAM,WAAU,WAAhB,EAA4B,UAAUP,aAAa,KAAKpE,QAAlB,CAAtC;AACA;AAAA;AAAA,QAAK,WAAU,OAAf,EAAuB,OAAO,EAAC4E,aAAY,CAAb,EAAeC,YAAW,EAA1B,EAA9B;AACC;AAAA;AAAA,SAAK,WAAU,UAAf,EAA0B,OAAO,EAACA,YAAW,CAAC,EAAb,EAAjC;AAAmD;AAAA;AAAA,UAAM,WAAU,cAAhB;AAAA;AAAA,QAAnD;AAA0F,+CAAM,WAAU,MAAhB,GAA1F;AAAwH;AAAA;AAAA,UAAO,WAAU,aAAjB;AAAA;AAAA;AAAxH,OADD;AAEC;AAAA;AAAA,SAAK,WAAU,aAAf;AACC,sDAAS,MAAK,YAAd,EAA2B,OAAO,EAACF,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAlC,EAA6D,WAAU,QAAvE,EAAgF,OAAM,0BAAtF,EAA6F,SAASpC,aAAaqC,SAAnH,EAA8H,OAAO,IAArI,EAA2I,cAAc,IAAzJ,GADD;AAEC;AAAA;AAAA,UAAS,OAAO,EAACH,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAyBE,UAAS,UAAlC,EAAhB,EAA+D,WAAU,OAAzE,EAAiF,OAAM,0BAAvF,EAA8F,cAAc,IAA5G;AACC;AAAA;AAAA;AACC;AAAA;AAAA,YAAe,OAAO,EAACJ,OAAM,KAAP,EAAaK,SAAQ,CAArB,EAAuBH,YAAW,OAAlC,EAA0CI,WAAU,OAApD,EAAtB;AAAA;AAAqF,yDAAS,MAAK,gBAAd,EAA+B,OAAO,EAACN,OAAM,GAAP,EAAtC,EAAmD,WAAU,MAA7D,EAAoE,UAAU,KAAKhE,sBAAnF,EAA2G,QAAQ,IAAnH;AAArF,UADD;AAEC;AAAA;AAAA,YAAe,OAAO,EAACgE,OAAM,IAAP,EAAYO,WAAU,QAAtB,EAA+BF,SAAQ,CAAvC,EAAyCH,YAAW,EAApD,EAAuDI,WAAU,OAAjE,EAAtB;AAAiG;AAAA;AAAA,aAAM,OAAO,EAACE,SAAQ,cAAT,EAAwBC,YAAW,MAAnC,EAA0CT,OAAM,MAAhD,EAAuDO,WAAU,QAAjE,EAA0EG,MAAK,MAA/E,EAAsFN,UAAS,UAA/F,EAAb;AAAA;AAAA;AAAjG,UAFD;AAGC;AAAA;AAAA,YAAe,OAAO,EAACJ,OAAM,KAAP,EAAaK,SAAQ,CAArB,EAAuBC,WAAU,OAAjC,EAAtB;AAAA;AAAkE,yDAAS,OAAO,EAACN,OAAM,GAAP,EAAhB,EAA6B,MAAK,cAAlC,EAAiD,WAAU,MAA3D,EAAkE,UAAU,KAAK/D,oBAAjF,EAAuG,QAAQ,IAA/G,GAAlE;AAAA;AAAA;AAHD;AADD,QAFD;AAUC;AAAA;AAAA,UAAK,WAAU,aAAf,EAA6B,OAAO,EAACqE,WAAU,OAAX,EAAmBJ,YAAW,MAA9B,EAAqCF,OAAM,OAA3C,EAApC;AAEA;AAAA;AAAA,WAAU,OAAM,0BAAhB,EAAuB,OAAO,EAACM,WAAU,EAAX,EAAcK,cAAa,EAA3B,EAA9B;AAEO;AAAA;AAAA,YAAM,OAAO,EAACL,WAAU,OAAX,EAAmBK,cAAa,MAAhC,EAAb;AACJ;AAAA;AAAA;AACC;AAAA;AAAA,cAAK,OAAM,OAAX;AACC;AAAA;AAAA;AACC,2DAAQ,OAAM,0BAAd,EAAsB,YAAY,KAAKjF,iBAAvC,GADD;AAEI,2DAAQ,OAAM,sCAAd,EAAuB,OAAO,GAA9B,EAAmC,YAAY,KAAKG,6BAApD,GAFJ;AAGC,2DAAQ,OAAM,cAAd,EAAmB,QAAQ,IAA3B,EAAiC,MAAK,QAAtC,EAA+C,QAAQ,EAAvD,EAA2D,YAAY,KAAKP,eAA5E;AAHD;AADD;AADD;AADI,UAFP;AAcF;AAAA;AAAA,YAAM,WAAWf,aAAW,MAAX,GAAkB,cAAnC,EAAmD,OAAO,EAAC+F,WAAU,OAAX,EAA1D;AACE;AAAA;AAAA,aAAQ,iBAAiB,IAAzB,EAA+B,UAAU,KAAK/E,eAA9C;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA,aADA;AAEA;AAAA;AAAA;AAAA;AAAA,aAFA;AAGA;AAAA;AAAA;AAAA;AAAA,aAHA;AAIC;AAAA;AAAA;AAAA;AAAA,aAJD;AAKE;AAAA;AAAA;AAAA;AAAA;AALF,YADA;AAQE;AAAA;AAAA;AAECrD,uBAAWO,GAAX,CAAe,UAACR,IAAD,EAAOwE,KAAP,EAAiB;AAC/B,iBAAImE,WAAW;AACdjE,qBAAO,OAAKxE,KAAL,CAAWD,UAAX,CAAsBuE,KAAtB,EAA6B/D,SADtB;AAEdmI,6BAAe,OAAK/E,kBAAL,CAAwBV,IAAxB,CAA6B,IAA7B,EAAmCqB,KAAnC;AAFD,cAAf;AAIA,oBACC;AAAA;AAAA,gBAAU,KAAKA,KAAf;AACC;AAAA;AAAA;AAAkBxE,oBAAKyE,WAAL,IAAoB,CAArB,GAAyB,IAAzB,GAA8B;AAA/C,eADD;AAEC;AAAA;AAAA;AAAiBzE,oBAAKgH;AAAtB,eAFD;AAGC;AAAA;AAAA;AACE,wDAAO,MAAK,MAAZ,EAAmB,MAAK,KAAxB,EAA+B,WAAW2B,QAA1C,EAAqD,QAAQ,OAAK5I,MAAL,CAAYoD,IAAZ,SAAsBnD,IAAtB,CAA7D,EAA0F,OAAO,EAAC6I,UAAS,OAAV,EAAjG;AADF,eAHD;AAMC;AAAA;AAAA;AAAA;AAAiB,6DAAQ,OAAO7I,KAAK0B,cAApB;AAAjB,eAND;AAOC;AAAA;AAAA;AAAgB,6DAAQ,OAAO1B,KAAK6B,YAApB;AAAhB;AAPD,cADD;AAYA,aAjBD;AAFD;AARF;AADF,UAdE;AA+CG5B,oBAAW8C,MAAX,GAAkB,CAAlB,GAAoB;AAAA;AAAA,YAAK,WAAU,YAAf,EAA6B,YAAY,KAAKV,QAA9C;AAAA;AAAyD;AAAA;AAAA;AAAG;AAAA;AAAA;AAAOC,yBAAW,IAAX,GAAgB;AAAvB,YAAH;AAAsC,mDAAM,WAAWA,aAAW,QAAX,GAAoB,WAArC;AAAtC;AAAzD,UAApB,GAAuL;AA/C1L,SAFA;AAoDiB;AAAA;AAAA,WAAK,OAAO,EAAC+F,WAAU,KAAX,EAAiBK,cAAa,EAA9B,EAAZ;AAAA;AAAqD;AAAA;AAAA,YAAM,OAAO,EAACI,aAAY,EAAb,EAAgBC,OAAM,KAAtB,EAAb;AAAA;AAA6C9H;AAA7C,UAArD;AAAiH;AAAA;AAAA;AAAO0B;AAAP;AAAjH;AApDjB,QAVD;AAkEC;AAAA;AAAA,UAAK,WAAU,UAAf,EAA0B,OAAO,EAACsF,YAAW,CAAC,EAAb,EAAjC;AAAmD;AAAA;AAAA,WAAM,WAAU,cAAhB;AAAA;AAAA,SAAnD;AAA0F,gDAAM,WAAU,MAAhB,GAA1F;AAAwH;AAAA;AAAA,WAAO,WAAU,aAAjB;AAAA;AAAA;AAAxH,QAlED;AAmEE;AAAA;AAAA,UAAK,WAAU,aAAf,EAA6B,OAAO,EAACe,eAAc,CAAf,EAApC;AACA,uDAAW,MAAK,YAAhB,EAA6B,MAAK,QAAlC,EAA2C,WAAU,OAArD,GADA;AAGA,uDAAW,MAAK,eAAhB,EAAgC,MAAK,QAArC,EAA8C,WAAU,OAAxD,GAHA;AAKA,uDAAW,MAAK,cAAhB,EAA+B,MAAK,QAApC,EAA6C,WAAU,OAAvD,GALA;AAMA,uDAAW,MAAK,YAAhB,EAA6B,MAAK,QAAlC,EAA2C,WAAU,OAArD,GANA;AAQA,uDAAS,MAAM,CAAf,EAAmB,MAAK,YAAxB,EAAqC,MAAK,QAA1C,EAAmD,WAAU,OAA7D,EAAqE,OAAM,cAA3E,GARA;AASA,uDAAS,MAAM,CAAf,EAAmB,MAAK,cAAxB,EAAuC,MAAK,QAA5C,EAAqD,WAAU,OAA/D,EAAuE,OAAM,oBAA7E,GATA;AAaA,uDAAS,MAAK,SAAd,EAAwB,OAAO,EAACjB,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAA/B,EAA2D,WAAU,QAArE,EAA8E,OAAM,oBAApF,EAA0F,SAASpC,aAAa+B,kBAAhH,EAAoI,cAAc,IAAlJ,GAbA;AAeA,uDAAW,OAAO,EAACG,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAlB,EAA6C,MAAK,eAAlD,EAAkE,MAAK,MAAvE,EAA8E,QAAQ,KAAtF,EAA6F,WAAU,WAAvG,EAAmH,OAAM,cAAzH,EAA8H,OAAOlD,aAAaQ,aAAlJ,EAAkK,cAAa,QAA/K,GAfA;AAkBA,uDAAU,OAAO,EAACwC,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAjB,EAA6C,MAAK,iBAAlD,EAAoE,WAAU,gBAA9E,EAA+F,OAAM,oBAArG,EAA2G,UAAU,KAAKnE,sBAA1H,EAAkJ,cAAc,IAAhK,GAlBA;AAmBA,uDAAU,OAAO,EAACiE,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAjB,EAA4C,MAAK,kBAAjD,EAAoE,MAAK,MAAzE,EAAgF,WAAU,OAA1F,EAAkG,OAAM,cAAxG,EAA6G,cAAc,IAA3H;AACG,wBAAe,IADlB,EACwB,SAAS,0EADjC,EAC6G,QAAQ,EAACgB,eAAc,UAAf,EAA0BC,SAAQ,UAAlC,EADrH,GAnBA;AAsBA,uDAAW,OAAO,EAACnB,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAlB,EAA8C,WAAU,WAAxD,EAAoE,OAAM,oBAA1E,EAAgF,QAAQ,KAAxF,EAA+F,OAAOpC,aAAasD,YAAnH,GAtBA;AAwBA,uDAAU,OAAO,EAACpB,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAjB,EAA6C,MAAK,cAAlD,EAAiE,MAAK,MAAtE,EAA6E,WAAU,OAAvF,EAA+F,OAAM,cAArG,EAA0G,cAAc,IAAxH;AACA,wBAAe,IADf,EACqB,SAAS,YAD9B,EAC4C,QAAQ,EAACgB,eAAc,QAAf,EAAwBC,SAAQ,SAAhC,EADpD,GAxBA;AA2BA,uDAAU,OAAO,EAACnB,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAjB,EAA4C,MAAK,cAAjD,EAAgE,MAAK,MAArE,EAA4E,WAAU,OAAtF,EAA8F,OAAM,oBAApG,EAA0G,cAAc,IAAxH;AACA,wBAAe,IADf,EACqB,SAAS,WAD9B,EAC2C,QAAQ,EAACgB,eAAc,SAAf,EAAyBC,SAAQ,UAAjC,EADnD,GA3BA;AA6BA,uDAAW,OAAO,EAACnB,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAlB,EAA8C,MAAK,iBAAnD,EAAqE,MAAK,MAA1E,EAAiF,WAAU,OAA3F,EAAmG,OAAM,cAAzG,EAA8G,cAAc,IAA5H;AACC,wBAAe,IADhB,EACsB,SAAS,0EAD/B,EAC2G,QAAQ,EAACgB,eAAc,UAAf,EAA0BC,SAAQ,UAAlC,EADnH,GA7BA;AAgCA,uDAAW,OAAO,EAACnB,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAlB,EAA6C,MAAK,aAAlD,EAAgE,WAAU,WAA1E,EAAsF,QAAQ,KAA9F,EAAqG,OAAM,0BAA3G,EAAkH,OAAOpC,aAAauD,aAAtI,GAhCA;AAoCA,uDAAY,OAAO,EAACrB,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAnB,EAA+C,MAAK,kBAApD,EAAuE,WAAU,WAAjF,EAA6F,OAAM,cAAnG,EAAwG,QAAQ,KAAhH,EAAuH,OAAOpC,aAAawD,gBAA3I,GApCA;AAqCA,uDAAY,OAAO,EAACtB,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAnB,EAA8C,MAAK,cAAnD,EAAkE,MAAK,MAAvE,EAA8E,WAAU,OAAxF,EAAgG,OAAM,0BAAtG,EAA8G,cAAc,IAA5H;;AAEA,wBAAe,IAFf,EAEqB,SAAS,WAF9B,EAE2C,QAAQ,EAACgB,eAAc,UAAf,EAA0BC,SAAQ,WAAlC,EAFnD,GArCA;AA8CA,uDAAS,MAAK,UAAd,EAA0B,OAAO,EAACnB,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAjC,EAA6D,WAAU,QAAvE,EAAgF,OAAM,0BAAtF,EAA6F,SAASpC,aAAayD,WAAnH,EAAgI,cAAc,IAA9I,GA9CA;AA+CA,uDAAS,MAAK,SAAd,EAAyB,OAAO,EAACvB,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAhC,EAA6D,WAAU,QAAvE,EAAgF,OAAM,0BAAtF,EAA6F,SAASpC,aAAa0D,WAAnH,EAAgI,cAAc,IAA9I,GA/CA;AAiDA,uDAAU,MAAK,UAAf,EAA2B,OAAO,EAACxB,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAlC,EAA6D,WAAU,MAAvE,EAA+E,OAAM,0BAArF,EAA4F,cAAc7C,cAAcK,QAAxH,EAAkI,cAAc,IAAhJ,GAjDA;AAmDA,uDAAU,OAAO,EAACsC,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAjB,EAA6C,MAAK,cAAlD,EAAiE,WAAU,MAA3E,EAAkF,OAAM,gCAAxF,EAAgG,cAAc,IAA9G,GAnDA;AAuDA,uDAAU,OAAO,EAACF,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAjB,EAA4C,MAAK,WAAjD,EAA6D,MAAK,MAAlE,EAAyE,WAAU,WAAnF,EAA+F,OAAM,0BAArG,EAA4G,aAAY,EAAxH,EAA2H,cAAc,IAAzI;AACA,gBAAOhH,OADP,EACgB,cAAa,GAD7B,EACiC,QAAQ,KADzC;AAEA,wBAAe,IAFf,EAEqB,SAAS,wBAF9B,EAEwD,QAAQ,EAACgI,eAAc,UAAf,EAA0BC,SAAQ,kBAAlC,EAFhE,GAvDA;AA0DA,uDAAU,OAAO,EAACnB,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAjB,EAA6C,MAAK,cAAlD,EAAiE,MAAK,MAAtE,EAA6E,WAAU,OAAvF,EAA+F,OAAM,0BAArG,EAA4G,cAAc,IAA1H;AACA,wBAAe,IADf,EACqB,SAAS,wBAD9B,EACwD,QAAQ,EAACgB,eAAc,UAAf,EAA0BC,SAAQ,kBAAlC,EADhE,GA1DA;AA4DC,uDAAS,OAAO,EAACnB,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAhB,EAA4C,MAAK,YAAjD,EAA8D,WAAU,WAAxE,EAAoF,MAAK,MAAzF,EAAgG,OAAM,0BAAtG,EAA6G,OAAOlD,aAAaV,UAAjI,EAA6I,cAAa,GAA1J,EAA8J,cAAc,IAA5K,EAAkL,QAAQ,KAA1L,GA5DD;AA6DA,uDAAU,OAAO,EAAC0D,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAjB,EAA4C,MAAK,cAAjD,EAAgE,WAAU,WAA1E,EAAsF,MAAK,MAA3F,EAAkG,OAAM,gCAAxG,EAAgH,OAAOlD,aAAaT,YAApI,EAAkJ,cAAa,GAA/J,EAAmK,cAAc,IAAjL,EAAuL,QAAQ,KAA/L,GA7DA;AA+DA,uDAAU,OAAO,EAACyD,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAjB,EAA6C,MAAK,cAAlD,EAAiE,WAAU,UAA3E,EAAsF,OAAM,cAA5F,EAAiG,SAAS,GAA1G;AA/DA,QAnEF;AAqIC,8CAAK,WAAU,WAAf;AArID;AAFD,MADA;AA4IE,oDAAU,OAAO,EAACF,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAyBI,WAAU,OAAnC,EAAjB,EAA8D,MAAK,kBAAnE,EAAsF,WAAU,OAAhG,EAAwG,MAAK,QAA7G,EAAsH,OAAM,0BAA5H,GA5IF;AA6IE,oDAAU,OAAO,EAACN,OAAM,GAAP,EAAWE,YAAW,EAAtB,EAAyBI,WAAU,OAAnC,EAAjB,EAA8D,MAAK,YAAnE,EAAgF,WAAU,MAA1F,EAAiG,OAAM,0BAAvG,EAA8G,cAAc,EAA5H,EAAgI,UAAU,kBAACmB,KAAD,EAAS;AAClJ,oBAAM9I,QAAN,CAAe,uBAAO,gBAAP,EAAwB,kBAAxB,EAA2C8I,KAA3C,CAAf;AACA,OAFD,GA7IF;AAiJI;AAAA;AAAA;AACA;AAAA;AAAA,SAAK,OAAO,EAACR,eAAc,EAAf,EAAZ;AACA;AAAA;AAAA,UAAK,IAAI,EAAT,EAAa,OAAM,QAAnB;AACC;AAAA;AAAA;AACC,uDAAS,OAAM,cAAf,EAAoB,MAAK,QAAzB,EAAmC,UAAUrB,UAA7C,GADD;AAEC,uDAAS,OAAM,cAAf,EAAoB,QAAQ,IAA5B,EAAkC,MAAK,QAAvC,EAAiD,YAAY,KAAKzE,QAAlE;AAFD;AADD;AADA;AADA;AAjJJ,KAFC;AAiKE;AAAA;AAAA;AACC,aAAM,0BADP;AAEC,6BAAuB,IAFxB;AAGC,oBAAe,EAAE6E,OAAO,MAAT,EAAiBc,UAAU,MAA3B,EAHhB;AAIC,YAAM,KAAK3I,KAAL,CAAWiE,WAJlB;AAKC,eAAS,KAAKV;AALf;AAOE,0DAAe,KAAK,KAAKF,aAAL,EAApB,EAA0C,SAAS,KAAKC,aAAxD;AAPF,KAjKF;AA2KE;AAAA;AAAA;AACC,aAAM,0BADP;AAEC,6BAAuB,IAFxB;AAGC,gBAAU,KAAKG,0BAHhB;AAIC,YAAM,KAAKzD,KAAL,CAAWkE,oBAJlB;AAKE,oBAAc,EAAC2D,OAAM,GAAP,EALhB;AAME,eAAS,KAAKpE;AANhB;AAQG,8DAAgB,UAAU,KAAKD,kBAA/B,EAAmD,UAAU,KAAKC,0BAAlE;AARH;AA3KF,IAHD;AA0LA;;;;;AAvtBIhE,a,CAEE8J,Y,GAAe;AACrBxD,SAAQ,gBAAMyD,SAAN,CAAgBC,MAAhB,CAAuBC;AADV,C;AAFjBjK,a,CAMEkK,gB,GAAmB;AACzBzE,gBAAe;AACd+D,gBAAc,EADA;AAEdC,iBAAe,EAFD;AAGd7D,iBAAe,EAHD;AAIdgE,eAAa,EAJC;AAKdD,eAAa,EALC;AAMd1B,sBAAoB;AANN;AADU,C;AANrBjI,a,CAiBE+J,S,GAAY;AAClBtE,gBAAe,gBAAMsE,SAAN,CAAgBC,MADb;AAElBvG,WAAU,gBAAMsG,SAAN,CAAgBI,IAFR;AAGlB5G,WAAU,gBAAMwG,SAAN,CAAgBI;AAHR,C;;;AAysBpB,IAAMC,WAAW,SAAXA,QAAW,SAAU;;AAE1B,KAAMC,SAAS,EAAf;;AAEA,KAAI,CAACC,OAAOpC,OAAZ,EAAqB;AACpBmC,SAAOnC,OAAP,GAAiB,QAAjB;AACA;;AAED,KAAI,CAACoC,OAAOC,eAAZ,EAA6B;AAC5BF,SAAOE,eAAP,GAAyB,WAAzB;AACA;;AAED,KAAI,CAACD,OAAOjF,UAAZ,EAAwB;AACvBgF,SAAOhF,UAAP,GAAoB,SAApB;AACA;AACD;;;;;;AAMA,KAAI,CAACiF,OAAOE,YAAZ,EAA0B;AACzBH,SAAOG,YAAP,GAAsB,SAAtB;AACA;;AAED,KAAI,CAACF,OAAOG,YAAZ,EAA0B;AACzBJ,SAAOI,YAAP,GAAsB,WAAtB;AACA;;AAED,KAAI,CAACH,OAAOI,YAAZ,EAA0B;AACzBL,SAAOK,YAAP,GAAsB,UAAtB;AACA;;AAED,KAAIJ,OAAOI,YAAP,IAAuB,CAACC,MAAML,OAAOI,YAAb,CAA5B,EAAwD;AACvDL,SAAOK,YAAP,GAAsB,YAAtB;AACA;;AAED,KAAI,CAACE,OAAON,OAAOtE,SAAd,CAAL,EAA+B;AAC9BqE,SAAOrE,SAAP,GAAmB,SAAnB;AACA;;AAED,KAAIsE,OAAOtE,SAAP,IAAoB2E,MAAML,OAAOtE,SAAb,CAAxB,EAAiD;AAChDqE,SAAOrE,SAAP,GAAmB,WAAnB;AACA;;AAGD,KAAI,CAACsE,OAAOO,YAAZ,EAA0B;AACzBR,SAAOQ,YAAP,GAAsB,SAAtB;AACA;;AAED,KAAIP,OAAOO,YAAP,IAAuBF,MAAML,OAAOO,YAAb,CAA3B,EAAuD;AACtDR,SAAOQ,YAAP,GAAsB,WAAtB;AACA;;AAGD,KAAI,CAACP,OAAOQ,QAAZ,EAAsB;AACrBT,SAAOS,QAAP,GAAkB,SAAlB;AACA;;AAED,KAAI,CAACR,OAAOS,OAAZ,EAAqB;AACpBV,SAAOU,OAAP,GAAiB,SAAjB;AACA;;AAED,KAAI,CAACT,OAAOxE,QAAZ,EAAsB;AACrBuE,SAAOvE,QAAP,GAAkB,SAAlB;AACA;;AAED,KAAI,CAACwE,OAAOhF,cAAZ,EAA4B;AAC3B+E,SAAO/E,cAAP,GAAwB,WAAxB;AACA;;AAED,KAAI,CAACgF,OAAOzE,YAAZ,EAA0B;AACzBwE,SAAOxE,YAAP,GAAsB,UAAtB;AACA;;AAED,KAAI,CAACyE,OAAO/E,YAAZ,EAA0B;AACzB8E,SAAO9E,YAAP,GAAsB,WAAtB;AACA;;AAGD,QAAO8E,MAAP;AACA,CAjFD;;AAmFA,IAAMW,WAAW,kCAAkB,gBAAlB,CAAjB;;AAEAhL,gBAAgB,0BAAU;AACzBgF,OAAM,gBADmB;AAEzBoF,mBAFyB;AAGzBa,qBAAoB,IAHK;AAIzBC,0BAAyB;AAJA,CAAV,EAKblL,aALa,CAAhB;;eAOe,oBAAQ,UAACO,KAAD,EAAW;;AAEjC,KAAI6E,eAAe,EAAnB;;AAEAA,cAAa+F,QAAb,GAAwBH,SAASzK,KAAT,EAAgB,UAAhB,CAAxB;AACA6E,cAAa8C,OAAb,GAAuB8C,SAASzK,KAAT,EAAgB,SAAhB,CAAvB;AACA6E,cAAaV,UAAb,GAA0BsG,SAASzK,KAAT,EAAgB,YAAhB,KAAiC,CAA3D;AACA6E,cAAaT,YAAb,GAA4BqG,SAASzK,KAAT,EAAgB,cAAhB,KAAmC,CAA/D;AACA6E,cAAaE,cAAb,GAA8B0F,SAASzK,KAAT,EAAgB,gBAAhB,CAA9B;AACA6E,cAAaG,YAAb,GAA4ByF,SAASzK,KAAT,EAAgB,cAAhB,CAA5B;AACA6E,cAAaC,UAAb,GAA0B2F,SAASzK,KAAT,EAAgB,YAAhB,KAAiC,CAA3D;;AAEA,QAAO;AACN6E;AADM,EAAP;AAIA,CAhBc,EAgBZpF,aAhBY,C;;;;;;;;;;+BAtzBTA,a;;+BA0tBAoK,Q;;+BAmFAY,Q","file":"NewCreateForm.js","sourceRoot":"/Users/liuyihao/Code/kr-admin","sourcesContent":["import React, {\n\tComponent,\n\tPropTypes\n} from 'react';\n\nimport {\n\tconnect,\n\tReduxFrom\n} from 'kr/Redux';\n\nimport Param from 'jquery-param';\nimport nzh from 'nzh';\nimport {\n\tFields\n} from 'redux-form';\n\nimport {\n\tBinder\n} from 'react-binding';\nimport ReactMixin from \"react-mixin\";\nimport LinkedStateMixin from 'react-addons-linked-state-mixin';\nimport dateFormat from 'dateformat';\n\n\nimport {\n\treduxForm,\n\tformValueSelector,\n\tchange,\n\tinitialize,\n\tarrayPush,\n\tarrayInsert,\n\tFieldArray\n} from 'redux-form';\n\nimport {\n\tActions,\n\tStore\n} from 'kr/Redux';\n\nimport UnitPriceForm from './UnitPriceForm';\n\nimport {\n\tMenu,\n\tMenuItem,\n\tDropDownMenu,\n\tIconMenu,\n\tDialog,\n\n\tTable,\n\tTableBody,\n\tTableHeader,\n\tTableHeaderColumn,\n\tTableRow,\n\tTableRowColumn,\n\tTableFooter,\n\tSection,\n\tKrField,\n\tGrid,\n\tRow,\n\tCol,\n\tButton,\n\tNotify,\n\tIframeContent,\n\tKrDate,\n\tDotTitle,\n\tButtonGroup,\n\tListGroup,\n\tListGroupItem,\n\tPaper,\n\tCircleStyle\n} from 'kr-ui';\n\n@ReactMixin.decorate(LinkedStateMixin)\nclass NewCreateForm extends Component {\n\n\tstatic contextTypes = {\n\t\tparams: React.PropTypes.object.isRequired\n\t}\n\n\tstatic DefaultPropTypes = {\n\t\tinitialValues: {\n\t\t\tcustomerName: '',\n\t\t\tcommunityName: '',\n\t\t\tlessorAddress: '',\n\t\t\tpayTypeList: [],\n\t\t\tpaymentList: [],\n\t\t\tfnaCorporationList: [],\n\t\t}\n\t}\n\n\tstatic PropTypes = {\n\t\tinitialValues: React.PropTypes.object,\n\t\tonSubmit: React.PropTypes.func,\n\t\tonCancel: React.PropTypes.func,\n\t}\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\n\t\t//stationsRefs表单\n\t\tthis.stationRefs = {};\n\n\t\tthis.onCancel = this.onCancel.bind(this);\n\t\tthis.onSubmit = this.onSubmit.bind(this);\n\t\tthis.onStationDelete = this.onStationDelete.bind(this);\n\t\tthis.onStationSelect = this.onStationSelect.bind(this);\n\n\t\tthis.getStationUrl = this.getStationUrl.bind(this);\n\t\tthis.onIframeClose = this.onIframeClose.bind(this);\n\t\tthis.openStationDialog = this.openStationDialog.bind(this);\n\t\tthis.onStationUnitPrice = this.onStationUnitPrice.bind(this);\n\t\tthis.openStationUnitPriceDialog = this.openStationUnitPriceDialog.bind(this);\n\t\tthis.openPreStationUnitPriceDialog = this.openPreStationUnitPriceDialog.bind(this);\n\n\t\tthis.onStationVosChange = this.onStationVosChange.bind(this);\n\t\tthis.onChangeSearchPersonel = this.onChangeSearchPersonel.bind(this);\n\n\t\tthis.onChangeLeaseBeginDate = this.onChangeLeaseBeginDate.bind(this);\n\t\tthis.onChangeLeaseEndDate = this.onChangeLeaseEndDate.bind(this);\n\n\t\tthis.calcStationNum = this.calcStationNum.bind(this);\n\n\n\t\tthis.state = {\n\t\t\tstationVos: [],\n\t\t\tselectedStation: [],\n\t\t\topenStation: false,\n\t\t\topenStationUnitPrice: false,\n\t\t\tHeightAuto: false,\n\t\t\tallRent:0,\n\n\t\t}\n\t}\n\n\tcalcStationNum() {\n\t\tlet {\n\t\t\tstationVos\n\t\t} = this.state;\n\n\t\tvar stationnum = 0;\n\t\tvar boardroomnum = 0;\n\n\t\tstationVos.forEach(function(item, index) {\n\t\t\tif (item.stationType == 1) {\n\t\t\t\tstationnum++;\n\t\t\t} else {\n\t\t\t\tboardroomnum++;\n\t\t\t}\n\t\t});\n\n\n\t\tStore.dispatch(change('joinCreateForm', 'stationnum', stationnum));\n\t\tStore.dispatch(change('joinCreateForm', 'boardroomnum', boardroomnum));\n\t}\n\n\t//修改租赁期限－开始时间\n\tonChangeLeaseBeginDate(value) {\n\n\t\tvalue = dateFormat(value, \"yyyy-mm-dd hh:MM:ss\");\n\n\t\tlet {\n\t\t\tstationVos\n\t\t} = this.state;\n\n\t\tif (!stationVos.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState({\n\t\t\tstationVos: [],\n\t\t\tallRent:0\n\t\t});\n\n\t}\n\n\t//修改租赁期限-结束时间\n\tonChangeLeaseEndDate(value) {\n\t\tvalue = dateFormat(value, \"yyyy-mm-dd hh:MM:ss\");\n\t\tlet {\n\t\t\tstationVos\n\t\t} = this.state;\n\n\t\tif (!stationVos.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState({\n\t\t\tstationVos: [],\n\t\t\tallRent:0\n\t\t});\n\n\t}\n\n\tonStationVosChange(index, value) {\n\n\t\tlet {\n\t\t\tstationVos\n\t\t} = this.state;\n\t\tstationVos[index].unitprice = value;\n\n\t\tthis.setState({\n\t\t\tstationVos\n\t\t});\n\t}\n\n\topenPreStationUnitPriceDialog() {\n\t\tlet {\n\t\t\tselectedStation\n\t\t} = this.state;\n\t\tif (!selectedStation.length) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: '请先选择要录入单价的工位',\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t\treturn;\n\t\t}\n\t\tthis.openStationUnitPriceDialog();\n\t}\n\n\n\t//录入单价dialog\n\topenStationUnitPriceDialog() {\n\t\tthis.setState({\n\t\t\topenStationUnitPrice: !this.state.openStationUnitPrice\n\t\t});\n\t}\n\n\t//录入单价\n\tonStationUnitPrice(form) {\n\n\t\tvar value = form.price;\n\t\tlet {\n\t\t\tstationVos,\n\t\t\tselectedStation\n\t\t} = this.state;\n\t\tlet allRent = 0;\n\t\tlet _this = this;\n\n\t\tstationVos = stationVos.map(function(item, index) {\n\t\t\tif (selectedStation.indexOf(index) != -1) {\n\t\t\t\titem.unitprice = value;\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\t\tthis.setAllRent(stationVos);\n\t\t// stationVos.map((item)=>{\n\t\t// \tallRent += _this.getSingleRent(item);\n\t\t// })\n\t\t// allRent = parseFloat(allRent).toFixed(2)*1;\n\n\n\n\t\tthis.setState({\n\t\t\tstationVos,\n\t\t\tallRent\n\t\t});\n\n\t\tthis.openStationUnitPriceDialog();\n\t}\n\n\t//删除工位\n\tonStationDelete() {\n\t\tlet _this = this;\n\n\t\tlet {\n\t\t\tselectedStation,\n\t\t\tstationVos\n\t\t} = this.state;\n\t\tlet allRent = 0;\n\t\tstationVos = stationVos.filter(function(item, index) {\n\t\t\tif (selectedStation.indexOf(index) != -1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t\tstationVos.map((item)=>{\n\t\t\tallRent += _this.getSingleRent(item);\n\t\t})\n\t\tallRent = parseFloat(allRent).toFixed(2)*1;\n\n\t\tthis.setState({\n\t\t\tstationVos,\n\t\t\tallRent\n\t\t}, function() {\n\t\t\tthis.calcStationNum();\n\t\t});\n\t}\n\n\tonStationSelect(selectedStation) {\n\t\tthis.setState({\n\t\t\tselectedStation\n\t\t})\n\t}\n\n\topenStationDialog() {\n\n\t\tlet {\n\t\t\tchangeValues\n\t\t} = this.props;\n\n\t\tlet {\n\t\t\twherefloor,\n\t\t\tleaseBegindate,\n\t\t\tleaseEnddate\n\t\t} = changeValues;\n\n\t\tif (!wherefloor) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: '请先选择楼层',\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!leaseBegindate) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: '请选择租赁开始时间',\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!leaseEnddate) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: '请选择租赁结束时间',\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t\treturn;\n\t\t}\n\n\t\tif(new Date(leaseEnddate)<new Date(leaseBegindate)){\n\t\t\tNotify.show([{\n\t\t\t\tmessage: '结束时间不能小于开始时间',\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState({\n\t\t\topenStation: !this.state.openStation\n\t\t});\n\t}\n\n\n\tcomponentDidMount() {\n\t\tlet {\n\t\t\tinitialValues\n\t\t} = this.props;\n\t\tStore.dispatch(initialize('joinCreateForm', initialValues));\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\n\t}\n\n\tonSubmit(form) {\n\n\n\n\t\tlet {\n\t\t\tstationVos\n\t\t} = this.state;\n\n\n\t\tlet {\n\t\t\tbillList\n\t\t} = this.state;\n\n\t\tlet {\n\t\t\tchangeValues\n\t\t} = this.props;\n\t\tif (!stationVos.length) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: \"请选择工位\",\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t\treturn;\n\t\t};\n\t\tform.lessorAddress = changeValues.lessorAddress;\n\n\t\tform.firstpaydate = dateFormat(form.firstpaydate, \"yyyy-mm-dd hh:MM:ss\");\n\t\tform.signdate = dateFormat(form.signdate, \"yyyy-mm-dd hh:MM:ss\");\n\t\tform.leaseBegindate = dateFormat(form.leaseBegindate, \"yyyy-mm-dd hh:MM:ss\");\n\t\tform.leaseEnddate = dateFormat(form.leaseEnddate, \"yyyy-mm-dd hh:MM:ss\");\n\t\tform.contractVersionType = 'NEW';\n\t\tform.totalrent = (this.state.allRent).toFixed(2);\n\n\t\tvar _this = this;\n\n\t\tform.stationVos = stationVos;\n\t\tconst {\n\t\t\tonSubmit\n\t\t} = this.props;\n\t\tonSubmit && onSubmit(form);\n\t}\n\n\tonCancel() {\n\t\tconst {\n\t\t\tonCancel\n\t\t} = this.props;\n\t\tonCancel && onCancel();\n\t}\n\n\tgetStationUrl() {\n\n\t\tlet url = \"/krspace_operate_web/commnuity/communityFloorPlan/toCommunityFloorPlanSel?mainBillId={mainBillId}&communityId={communityId}&floors={floors}&goalStationNum={goalStationNum}&goalBoardroomNum={goalBoardroomNum}&selectedObjs={selectedObjs}&startDate={startDate}&endDate={endDate}\";\n\n\t\tlet {\n\t\t\tchangeValues,\n\t\t\tinitialValues,\n\t\t\toptionValues\n\t\t} = this.props;\n\t\tlet {\n\t\t\tstationVos\n\t\t} = this.state;\n\n\t\tstationVos = stationVos.map(function(item) {\n\t\t\tvar obj = {};\n\t\t\tobj.id = item.stationId;\n\t\t\tobj.type = item.stationType;\n\t\t\treturn obj;\n\t\t});\n\n\t\tlet params = {\n\t\t\tmainBillId: this.context.params.orderId,\n\t\t\tcommunityId: optionValues.mainbillCommunityId,\n\t\t\tfloors: changeValues.wherefloor,\n\t\t\t//工位\n\t\t\tgoalStationNum: changeValues.stationnum,\n\t\t\t//会议室\n\t\t\tgoalBoardroomNum: changeValues.boardroomnum,\n\t\t\tselectedObjs: JSON.stringify(stationVos),\n\t\t\tstartDate: dateFormat(changeValues.leaseBegindate, \"yyyy-mm-dd\"),\n\t\t\tendDate: dateFormat(changeValues.leaseEnddate, \"yyyy-mm-dd\"),\n\t\t\tunitprice:0\n\n\t\t};\n\n\n\t\tif (Object.keys(params).length) {\n\t\t\tfor (let item in params) {\n\t\t\t\tif (params.hasOwnProperty(item)) {\n\t\t\t\t\turl = url.replace('{' + item + '}', params[item]);\n\t\t\t\t\tdelete params[item];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn url;\n\t}\n\tonBlur=(item)=>{\n\t\tlet {stationVos} = this.state;\n\t\tlet allMoney = 0;\n\t\tthis.setAllRent(stationVos);\n\t\t\n\t}\n\tsetAllRent=(list)=>{\n\t\tlet _this = this;\n\t\tlet stationList = list.map((item)=>{\n\t\t\tif(!item.unitprice){\n\t\t\t\titem.unitprice = 0;\n\t\t\t}\n\t\t\treturn item;\n\t\t})\n\t\tStore.dispatch(Actions.callAPI('getAllRent',{},{stationList:JSON.stringify(list)})).then(function(response) {\n\t\t\t_this.setState({\n\t\t\t\tallRent:response\n\t\t\t})\n\t\t}).catch(function(err) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: err.message,\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t});\n\t}\n\tgetSingleRent=(item)=>{\n\t\t//年月日\n\t\tlet mounth = [31,28,31,30,31,30,31,31,30,31,30,31];\n\t\tlet rentBegin = dateFormat(item.leaseBeginDate, \"yyyy-mm-dd\").split('-');\n\t\tlet rentEnd = dateFormat(item.leaseEndDate, \"yyyy-mm-dd\").split('-');\n\t\tlet rentDay = 0;\n\t\tlet rentMounth = (rentEnd[0]-rentBegin[0])*12+(rentEnd[1]-rentBegin[1]);\n\t\tlet years = rentEnd[0];\n\t\tif(rentBegin[2]-rentEnd[2] == 1){\n\t\t\trentDay = 0;\n\t\t}else{\n\t\t\tlet a =rentEnd[2]-rentBegin[2];\n\t\t\tif(a>=0){\n\t\t\t\trentDay = a+1;\n\n\t\t\t}else{\n\t\t\t\tlet mounthIndex = rentEnd[1]-1;\n\t\t\t\tif((years%4==0 && years%100!=0)||(years%400==0) && rentEnd[1]==2 ){\n\t\t\t\t\trentDay = mounth[mounthIndex]+2+a;\n\t\t\t\t}\n\t\t\t\trentDay = mounth[mounthIndex]+1+a;\n\t\t\t\trentMounth = rentMounth-1;\n\t\t\t}\n\t\t}\n\t\t//计算日单价\n\t\t// let rentPriceByDay = Math.ceil(((item.unitprice*12)/365)*100)/100;\n\t\tlet rentPriceByDay = ((item.unitprice*12)/365).toFixed(6);\n\t\t//工位总价钱\n\t\tlet allRent = (rentPriceByDay * rentDay) + (rentMounth*item.unitprice);\n\t\tallRent = allRent.toFixed(2)*1;\n\t\treturn allRent;\n\t}\n\n\tonIframeClose(billList) {\n\n\t\tthis.openStationDialog();\n\n\n\t\tif (!billList) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar _this = this;\n\n\t\tlet {\n\t\t\tchangeValues\n\t\t} = this.props;\n\n\t\tlet {\n\t\t\tstationVos\n\t\t} = this.state;\n\n\t\ttry {\n\t\t\tbillList.map(function(item, index) {\n\t\t\t\titem.leaseBeginDate = changeValues.leaseBegindate;\n\t\t\t\titem.leaseEndDate = changeValues.leaseEnddate;\n\t\t\t\titem.stationId = item.id;\n\t\t\t\titem.stationType = item.type;\n\t\t\t\titem.stationName = item.name;\n\t\t\t\titem.unitprice = '';\n\t\t\t\titem.whereFloor = item.wherefloor;\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tconsole.log('billList 租赁明细工位列表为空');\n\t\t}\n\n\n\t\tthis.setState({\n\t\t\tstationVos: billList,\n\t\t\tallRent:0\n\t\t}, function() {\n\t\t\tthis.calcStationNum();\n\t\t});\n\t}\n\n\tonChangeSearchPersonel(personel) {\n\t\tStore.dispatch(change('joinCreateForm', 'lessorContacttel', personel.mobile));\n\t\tStore.dispatch(change('joinCreateForm', 'lessorContactName', personel.lastname));\n\t}\n\tshowMore = () => {\n\t\tthis.setState({\n\t\t\tHeightAuto: !this.state.HeightAuto\n\t\t})\n\n\t}\n\tdealRentName=(allRent)=>{\n\t\tlet name = '';\n\t\tvar nzhcn = nzh.cn;\n\t\tif(!allRent){\n\t\t\treturn '零';\n\t\t}\n\t\tlet  allRentName = nzhcn.encodeB(parseFloat(allRent));\n\t\tlet allRentNameArray = allRentName.split('点');\n\t\tif(allRentNameArray.length==1){\n\t\t\tname = allRentNameArray[0] + '元整';\n\t\t}else{\n\t\t\tlet xiaoshu = allRentNameArray[1];\n\t\t\tname = allRentNameArray[0]+'元'+xiaoshu[0]+'角';\n\t\t\tif(xiaoshu[1]){\n\t\t\t\tname = name+xiaoshu[1]+'分';\n\t\t\t}\n\t\t}\n\t\treturn name;\n\t}\n\n\trender() {\n\t\tvar _this = this;\n\t\tlet {\n\t\t\terror,\n\t\t\thandleSubmit,\n\t\t\tpristine,\n\t\t\treset,\n\t\t\tsubmitting,\n\t\t\tinitialValues,\n\t\t\tchangeValues,\n\t\t\toptionValues\n\t\t} = this.props;\n\n\t\tlet {\n\t\t\tfnaCorporationList\n\t\t} = optionValues;\n\n\t\tfnaCorporationList && fnaCorporationList.map(function(item, index) {\n\t\t\tif (changeValues.leaseId == item.id) {\n\t\t\t\tchangeValues.lessorAddress = item.corporationAddress;\n\t\t\t}\n\t\t});\n\n\t\tlet {\n\t\t\tbillList,\n\t\t\tstationVos,\n\t\t\tHeightAuto,\n\t\t\tallRent\n\t\t} = this.state;\n\t\tlet  allRentName = this.dealRentName(allRent);\n\n\n\n\t\treturn (\n\n\n\t\t\t<div style={{width:615}}>\n\n\t\t<form className=\"join-form\" onSubmit={handleSubmit(this.onSubmit)} >\n\t\t<div className=\"cheek\" style={{paddingLeft:0,marginLeft:23}}>\n\t\t\t<div className=\"titleBar\" style={{marginLeft:-23}}><span className=\"order-number\">1</span><span className=\"wire\"></span><label className=\"small-title\">租赁明细</label></div>\n\t\t\t<div className=\"small-cheek\">\n\t\t\t\t<KrField name=\"wherefloor\" style={{width:262,marginLeft:25}} component=\"select\" label=\"所在楼层\" options={optionValues.floorList} multi={true} requireLabel={true}/>\n\t\t\t\t<KrField style={{width:343,marginLeft:25,position:\"absolute\"}} component=\"group\" label=\"租赁期限\" requireLabel={true}>\n\t\t\t\t\t<ListGroup>\n\t\t\t\t\t\t<ListGroupItem style={{width:'141',padding:0,marginLeft:'-10px',marginTop:'-10px'}}> <KrField name=\"leaseBegindate\" style={{width:141}} component=\"date\" onChange={this.onChangeLeaseBeginDate} simple={true}/></ListGroupItem>\n\t\t\t\t\t\t<ListGroupItem style={{width:'31',textAlign:'center',padding:0,marginLeft:10,marginTop:'-10px'}}><span style={{display:'inline-block',lineHeight:'60px',width:'31px',textAlign:'center',left:'10px',position:\"relative\"}}>至</span></ListGroupItem>\n\t\t\t\t\t\t<ListGroupItem style={{width:'141',padding:0,marginTop:'-10px'}}> <KrField style={{width:141}} name=\"leaseEnddate\" component=\"date\" onChange={this.onChangeLeaseEndDate} simple={true}/> </ListGroupItem>\n\t\t\t\t\t</ListGroup>\n\t\t\t\t</KrField>\n\n\t\t\t\t<div className=\"detail-list\" style={{marginTop:\"-35px\",marginLeft:\"30px\",width:\"621px\"}}>\n\n\t\t\t\t<DotTitle title='租赁明细' style={{marginTop:53,marginBottom:25}}>\n\n\t\t\t\t       <Grid style={{marginTop:\"-28px\",marginBottom:\"10px\"}}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col align=\"right\">\n\t\t\t\t\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t\t\t\t\t<Button label=\"选择工位\"  onTouchTap={this.openStationDialog}  />\n\t\t\t\t\t\t\t\t\t    <Button label=\"批量录入单价\" width={100} onTouchTap={this.openPreStationUnitPriceDialog} />\n\t\t\t\t\t\t\t\t\t\t<Button label=\"删除\" cancle={true} type=\"button\" height={28} onTouchTap={this.onStationDelete} />\n\n\t\t\t\t\t\t\t\t  </ButtonGroup>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Grid>\n\t\t<div  className={HeightAuto?'auto':'station-list'} style={{marginTop:\"-10px\"}}>\n\t\t\t\t<Table  displayCheckbox={true} onSelect={this.onStationSelect}>\n\t\t\t\t<TableHeader>\n\t\t\t\t<TableHeaderColumn>类别</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn>编号／名称</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn>单价(元/月)</TableHeaderColumn>\n\t\t\t\t\t<TableHeaderColumn>租赁开始时间</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>租赁结束时间</TableHeaderColumn>\n\t\t\t\t\t\t</TableHeader>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstationVos.map((item, index) => {\n\t\t\t\t\t\t\t\tvar typeLink = {\n\t\t\t\t\t\t\t\t\tvalue: this.state.stationVos[index].unitprice,\n\t\t\t\t\t\t\t\t\trequestChange: this.onStationVosChange.bind(null, index)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<TableRow key={index}>\n\t\t\t\t\t\t\t\t\t\t<TableRowColumn>{(item.stationType == 1) ?'工位':'会议室'}</TableRowColumn>\n\t\t\t\t\t\t\t\t\t\t<TableRowColumn>{item.stationName}</TableRowColumn>\n\t\t\t\t\t\t\t\t\t\t<TableRowColumn>\n\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"age\"  valueLink={typeLink}  onBlur={this.onBlur.bind(this,item)} style={{maxWidth:'128px'}}/>\n\t\t\t\t\t\t\t\t\t\t</TableRowColumn>\n\t\t\t\t\t\t\t\t\t\t<TableRowColumn> <KrDate value={item.leaseBeginDate}/></TableRowColumn>\n\t\t\t\t\t\t\t\t\t\t<TableRowColumn><KrDate value={item.leaseEndDate}/></TableRowColumn>\n\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t{stationVos.length>5?<div className=\"bottom-tip\"  onTouchTap={this.showMore}> <p><span>{HeightAuto?'收起':'展开'}</span><span className={HeightAuto?'toprow':'bottomrow'}></span></p></div>:''}\n\n                        </DotTitle>\n                     <div style={{marginTop:'0px',marginBottom:60}}>服务费总计：<span style={{marginRight:50,color:'red'}}>￥{allRent}</span><span>{allRentName}</span></div>\n\n\t\t\t\t\t</div>\n\n\t\t\t\t<div className=\"titleBar\" style={{marginLeft:-23}}><span className=\"order-number\">2</span><span className=\"wire\"></span><label className=\"small-title\">合同基本信息</label></div>\n\t\t\t\t\t<div className=\"small-cheek\" style={{paddingBottom:0}}>\n\t\t\t\t\t<KrField   name=\"mainbillid\" type=\"hidden\" component=\"input\" />\n\n\t\t\t\t\t<KrField   name=\"contractstate\" type=\"hidden\" component=\"input\" />\n\n\t\t\t\t\t<KrField   name=\"contracttype\" type=\"hidden\" component=\"input\" />\n\t\t\t\t\t<KrField   name=\"mainbillid\" type=\"hidden\" component=\"input\" />\n\n\t\t\t\t\t<KrField grid={1}  name=\"stationnum\" type=\"hidden\" component=\"input\" label=\"工位\"/>\n\t\t\t\t\t<KrField grid={1}  name=\"boardroomnum\" type=\"hidden\" component=\"input\" label=\"会议室\"/>\n\n\n\n\t\t\t\t\t<KrField name=\"leaseId\" style={{width:262,marginLeft:25}}  component=\"select\" label=\"出租方\" options={optionValues.fnaCorporationList} requireLabel={true} />\n\n\t\t\t\t\t<KrField   style={{width:262,marginLeft:25}} name=\"lessorAddress\" type=\"text\" inline={false} component=\"labelText\" label=\"地址\" value={changeValues.lessorAddress}  defaultValue=\"无\"/>\n\n\n\t\t\t\t\t<KrField  style={{width:262,marginLeft:25}}  name=\"lessorContactid\" component=\"searchPersonel\" label=\"联系人\" onChange={this.onChangeSearchPersonel} requireLabel={true} />\n\t\t\t\t\t<KrField  style={{width:262,marginLeft:25}} name=\"lessorContacttel\" type=\"text\" component=\"input\" label=\"电话\" requireLabel={true}\n\t\t\t\t\t   requiredValue={true} pattern={/(^((\\+86)|(86))?[1][3456789][0-9]{9}$)|(^(0\\d{2,3}-\\d{7,8})(-\\d{1,4})?$)/} errors={{requiredValue:'电话号码为必填项',pattern:'请输入正确电话号'}}/>\n\n\t\t\t\t\t<KrField   style={{width:262,marginLeft:25}}  component=\"labelText\" label=\"承租方\" inline={false} value={optionValues.customerName}/>\n\n\t\t\t\t\t<KrField  style={{width:262,marginLeft:25}}  name=\"leaseAddress\" type=\"text\" component=\"input\" label=\"地址\" requireLabel={true}\n\t\t\t\t\trequiredValue={true} pattern={/^.{0,120}$/} errors={{requiredValue:'地址为必填项',pattern:'地址最大60位'}}/>\n\n\t\t\t\t\t<KrField  style={{width:262,marginLeft:25}} name=\"leaseContact\" type=\"text\" component=\"input\" label=\"联系人\" requireLabel={true}\n\t\t\t\t\trequiredValue={true} pattern={/^.{0,20}$/} errors={{requiredValue:'联系人为必填项',pattern:'联系人最大20位'}} />\n\t\t\t\t\t<KrField   style={{width:262,marginLeft:25}}  name=\"leaseContacttel\" type=\"text\" component=\"input\" label=\"电话\" requireLabel={true}\n\t\t\t\t\t requiredValue={true} pattern={/(^((\\+86)|(86))?[1][3456789][0-9]{9}$)|(^(0\\d{2,3}-\\d{7,8})(-\\d{1,4})?$)/} errors={{requiredValue:'电话号码为必填项',pattern:'请输入正确电话号'}}/>\n\n\t\t\t\t\t<KrField   style={{width:262,marginLeft:25}} name=\"communityid\" component=\"labelText\" inline={false} label=\"所属社区\" value={optionValues.communityName} />\n\n\n\n\t\t\t\t\t<KrField    style={{width:262,marginLeft:25}}  name=\"communityAddress\" component=\"labelText\" label=\"地址\" inline={false} value={optionValues.communityAddress}  />\n\t\t\t\t\t<KrField    style={{width:262,marginLeft:25}} name=\"contractcode\" type=\"text\" component=\"input\" label=\"合同编号\"  requireLabel={true}\n\n\t\t\t\t\trequiredValue={true} pattern={/^.{0,50}$/} errors={{requiredValue:'合同编码为必填项',pattern:'合同编号最大50位'}}/>\n\n\n\n\n\n\n\t\t\t\t\t<KrField name=\"paymodel\"  style={{width:262,marginLeft:25}}  component=\"select\" label=\"付款方式\" options={optionValues.paymentList} requireLabel={true} />\n\t\t\t\t\t<KrField name=\"paytype\"  style={{width:262,marginLeft:25}}   component=\"select\" label=\"支付方式\" options={optionValues.payTypeList} requireLabel={true} />\n\n\t\t\t\t\t<KrField  name=\"signdate\"  style={{width:262,marginLeft:25}} component=\"date\"  label=\"签署时间\" defaultValue={initialValues.signdate} requireLabel={true}/>\n\n\t\t\t\t\t<KrField  style={{width:262,marginLeft:25}}  name=\"firstpaydate\" component=\"date\" label=\"首付款时间\" requireLabel={true}  />\n\n\n\n\t\t\t\t\t<KrField  style={{width:262,marginLeft:25}} name=\"totalrent\" type=\"text\" component=\"labelText\" label=\"租金总额\" placeholder=\"\" requireLabel={true}\n\t\t\t\t\tvalue={allRent} defaultValue='0' inline={false}\n\t\t\t\t\trequiredValue={true} pattern={/^\\d{0,16}(\\.\\d{0,2})?$/} errors={{requiredValue:'租金总额为必填项',pattern:'请输入正数金额，小数点后最多两位'}} />\n\t\t\t\t\t<KrField  style={{width:262,marginLeft:25}}  name=\"totaldeposit\" type=\"text\" component=\"input\" label=\"押金总额\" requireLabel={true}\n\t\t\t\t\trequiredValue={true} pattern={/^\\d{0,16}(\\.\\d{0,2})?$/} errors={{requiredValue:'押金总额为必填项',pattern:'请输入正数金额，小数点后最多两位'}} />\n\t\t\t\t\t\t<KrField style={{width:262,marginLeft:25}}  name=\"stationnum\" component=\"labelText\" type=\"text\" label=\"租赁工位\" value={changeValues.stationnum} defaultValue=\"0\" requireLabel={true} inline={false}/>\n\t\t\t\t\t<KrField  style={{width:262,marginLeft:25}} name=\"boardroomnum\" component=\"labelText\" type=\"text\" label=\"租赁会议室\" value={changeValues.boardroomnum} defaultValue=\"0\" requireLabel={true} inline={false}/>\n\n\t\t\t\t\t<KrField  style={{width:545,marginLeft:25}}  name=\"contractmark\" component=\"textarea\" label=\"备注\" maxSize={200}/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"end-round\"></div>\n\t\t</div>\n\t</div>\n\n\t\t\t\t<KrField  style={{width:545,marginLeft:25,marginTop:'-20px'}} name=\"contractFileList\" component=\"input\" type=\"hidden\" label=\"合同附件\"/>\n\t\t\t\t<KrField  style={{width:545,marginLeft:25,marginTop:'-20px'}} name=\"fileIdList\" component=\"file\" label=\"合同附件\" defaultValue={[]} onChange={(files)=>{\n\t\t\t\t\tStore.dispatch(change('joinCreateForm','contractFileList',files));\n\t\t\t\t}} />\n\n\t\t\t\t\t\t<Grid>\n\t\t\t\t\t\t<Row style={{paddingBottom:50}}>\n\t\t\t\t\t\t<Col md={12} align=\"center\">\n\t\t\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t\t\t<Button  label=\"确定\" type=\"submit\"  disabled={submitting} />\n\t\t\t\t\t\t\t\t<Button  label=\"取消\" cancle={true} type=\"button\"  onTouchTap={this.onCancel}/>\n\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t  </Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t</form>\n\n\n\t\t\t\t\t<Dialog\n\t\t\t\t\t\ttitle=\"分配工位\"\n\t\t\t\t\t\tautoScrollBodyContent={true}\n\t\t\t\t\t\tcontentStyle ={{ width: '100%', maxWidth: 'none'}}\n\t\t\t\t\t\topen={this.state.openStation}\n\t\t\t\t\t\tonClose={this.openStationDialog}\n\t\t\t\t\t\t >\n\t\t\t\t\t\t\t<IframeContent src={this.getStationUrl()} onClose={this.onIframeClose}/>\n\t\t\t\t\t  </Dialog>\n\n\t\t\t\t\t<Dialog\n\t\t\t\t\t\ttitle=\"录入单价\"\n\t\t\t\t\t\tautoScrollBodyContent={true}\n\t\t\t\t\t\tonCancel={this.openStationUnitPriceDialog}\n\t\t\t\t\t\topen={this.state.openStationUnitPrice}\n\t\t\t\t\t\t contentStyle={{width:436}}\n\t\t\t\t\t\t onClose={this.openStationUnitPriceDialog}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<UnitPriceForm  onSubmit={this.onStationUnitPrice} onCancel={this.openStationUnitPriceDialog}/>\n\t\t\t\t\t  </Dialog>\n\n\t\t\t</div>);\n\t}\n}\n\nconst validate = values => {\n\n\tconst errors = {}\n\n\tif (!values.leaseId) {\n\t\terrors.leaseId = '请输入出租方';\n\t}\n\n\tif (!values.lessorContactid) {\n\t\terrors.lessorContactid = '请输入出租方联系人';\n\t}\n\n\tif (!values.wherefloor) {\n\t\terrors.wherefloor = '请输入所在楼层';\n\t}\n\t/*\n\t\tif (!values.lessorContacttel) {\n\t\t\terrors.lessorContacttel = '请输入出租方联系电话';\n\t\t}\n\t*/\n\n\tif (!values.contractcode) {\n\t\terrors.contractcode = '请输入合同编号';\n\t}\n\n\tif (!values.leaseContact) {\n\t\terrors.leaseContact = '请输入承租方联系人';\n\t}\n\n\tif (!values.leaseAddress) {\n\t\terrors.leaseAddress = '请输入承租方地址';\n\t}\n\n\tif (values.leaseAddress && !isNaN(values.leaseAddress)) {\n\t\terrors.leaseAddress = '承租方地址不能为数字';\n\t}\n\n\tif (!String(values.totalrent)) {\n\t\terrors.totalrent = '请输入租金总额';\n\t}\n\n\tif (values.totalrent && isNaN(values.totalrent)) {\n\t\terrors.totalrent = '租金总额必须为数字';\n\t}\n\n\n\tif (!values.totaldeposit) {\n\t\terrors.totaldeposit = '请输入押金总额';\n\t}\n\n\tif (values.totaldeposit && isNaN(values.totaldeposit)) {\n\t\terrors.totaldeposit = '押金总额必须为数字';\n\t}\n\n\n\tif (!values.paymodel) {\n\t\terrors.paymodel = '请输入付款方式';\n\t}\n\n\tif (!values.paytype) {\n\t\terrors.paytype = '请输入支付方式';\n\t}\n\n\tif (!values.signdate) {\n\t\terrors.signdate = '请输入签署时间';\n\t}\n\n\tif (!values.leaseBegindate) {\n\t\terrors.leaseBegindate = '请输入租赁开始时间';\n\t}\n\n\tif (!values.firstpaydate) {\n\t\terrors.firstpaydate = '请输入首付款时间';\n\t}\n\n\tif (!values.leaseEnddate) {\n\t\terrors.leaseEnddate = '请输入租赁结束时间';\n\t}\n\n\n\treturn errors\n}\n\nconst selector = formValueSelector('joinCreateForm');\n\nNewCreateForm = reduxForm({\n\tform: 'joinCreateForm',\n\tvalidate,\n\tenableReinitialize: true,\n\tkeepDirtyOnReinitialize: true,\n})(NewCreateForm);\n\nexport default connect((state) => {\n\n\tlet changeValues = {};\n\n\tchangeValues.lessorId = selector(state, 'lessorId');\n\tchangeValues.leaseId = selector(state, 'leaseId');\n\tchangeValues.stationnum = selector(state, 'stationnum') || 0;\n\tchangeValues.boardroomnum = selector(state, 'boardroomnum') || 0;\n\tchangeValues.leaseBegindate = selector(state, 'leaseBegindate');\n\tchangeValues.leaseEnddate = selector(state, 'leaseEnddate');\n\tchangeValues.wherefloor = selector(state, 'wherefloor') || 0;\n\n\treturn {\n\t\tchangeValues\n\t}\n\n})(NewCreateForm);\n"]}