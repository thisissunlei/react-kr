{"version":3,"sources":["src/Components/KrField/DateComponent/index.js"],"names":["DateComponent","props","onChange","bind","supplementZero","formatDate","setInputValue","isInit","state","value","Date","parse","setState","input","flag","dt","year","getFullYear","month","getMonth","date","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","result","dateNoSecond","label","type","meta","touched","error","requireLabel","disabled","search","placeholder","style","defaultValue","inline","styles","border","height","borderRadius","paddingLeft","color","backgroundColor","opacity","name","Component","displayName","defaultProps","PropTypes","string","func","bool"],"mappings":"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","file":"index.js","sourceRoot":"/Users/tmac_zc/Code/kr-admin","sourcesContent":["import React from 'react';\nimport {\n\tField,\n\treduxForm\n} from 'redux-form';\n\n//import DatePicker from 'material-ui/DatePicker';\nimport DatePicker from '../../DatePicker';\nimport InputDate from '../../InputDate';\n\nimport {\n\tDateFormat\n} from 'kr/Utils';\n\nimport './index.less';\n\nimport WrapComponent from '../WrapComponent';\n\nexport default class DateComponent extends React.Component {\n\n\tstatic displayName = 'DateComponent';\n\n\tstatic defaultProps = {\n\t\tinline: false\n\t}\n\n\tstatic PropTypes = {\n\t\tdefaultValue: React.PropTypes.string,\n\t\tonChange: React.PropTypes.func,\n\t\tinline: React.PropTypes.bool,\n\t\tsearch: React.PropTypes.bool\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.supplementZero = this.supplementZero.bind(this);\n\n\t\tthis.formatDate = this.formatDate.bind(this);\n\t\tthis.setInputValue = this.setInputValue.bind(this);\n\n\t\tthis.isInit = false;\n\t\tthis.state = {\n\t\t\tvalue: ''\n\t\t}\n\n\t}\n\n\tsetDefaultDate(value) {\n\n\t\tif (!value) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (typeof value === 'string') {\n\t\t\tvalue = new Date(Date.parse(value));\n\t\t\tthis.setInputValue(value);\n\t\t}\n\n\t\tif (typeof value === 'number') {\n\t\t\tthis.setInputValue(value);\n\t\t\tvalue = new Date(value);\n\t\t}\n\n\t\tthis.setState({\n\t\t\tvalue\n\t\t});\n\n\t\tthis.isInit = true;\n\t}\n\n\tsetInputValue(value) {\n\n\t\tlet {\n\t\t\tinput\n\t\t} = this.props;\n\n\t\tif(this.props.flag=='true'){\n\t\t\treturn ;\n\t\t}\n\t\tvalue = DateFormat(value, \"yyyy-mm-dd\") + ' 00:00:00';\n\t\tinput.onChange(value);\n\n\n\t}\n\n\tcomponentDidMount() {\n\t}\n\n\tsupplementZero(value) {\n\t\tif (value < 10) {\n\t\t\tvalue = '0' + value;\n\t\t}\n\t\treturn value\n\t}\n\n\tformatDate(value) {\n\n\t\tvar dt = new Date(value);\n\t\tvar year = dt.getFullYear();\n\t\tvar month = this.supplementZero(1 + dt.getMonth());\n\t\tvar date = this.supplementZero(dt.getDate());\n\t\tvar hours = this.supplementZero(dt.getHours());\n\t\tvar minutes = this.supplementZero(dt.getMinutes());\n\t\tvar seconds = this.supplementZero(dt.getSeconds());\n\n\t\tvar result = `${year}-${month}-${date} 00:00:00`;\n\n\t\tif(this.props.dateNoSecond=='true'){\n\t\t var result = `${year}-${month}-${date}`;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tonChange(value) {\n\n\n\t\tif (!value) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet { input, onChange} = this.props;\n\n\t\tvar result = this.formatDate(value);\n\n\n\t\tthis.setInputValue(result);\n\n\t\tonChange && onChange(result);\n\t}\n\n\trender() {\n\n\n\t\tlet {\n\t\t\tinput,\n\t\t\tlabel,\n\t\t\ttype,\n\t\t\tmeta: {\n\t\t\t\ttouched,\n\t\t\t\terror\n\t\t\t},\n\t\t\trequireLabel,\n\t\t\tdisabled,\n\t\t\tsearch,\n\t\t\tplaceholder,\n\t\t\tstyle,\n\t\t\tdefaultValue,\n\t\t\tinline,\n\t\t} = this.props;\n\n\n\t\tconst styles = {\n\t\t\tborder: '1px solid #ddd',\n\t\t\theight: 40,\n\t\t\tborderRadius: '4px',\n\t\t\tpaddingLeft: 10,\n\t\t\tcolor: '#fff',\n\t\t\tbackgroundColor: 'transparent',\n\t\t\topacity: 0\n\t\t}\n\n\t\treturn (\n\n\t\t\t<WrapComponent label={label} wrapStyle={style} requireLabel={requireLabel} inline={inline} search={search}>\n\t\t\t\t\t<div className=\"date-component\">\n\t\t\t\t\t\t\t\t\t<InputDate\n\t\t\t\t\t\t\t\t\t\t\t\tvalue = {input.value}\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\t\t\t\t\t\t\tname={input.name}\n\t\t\t\t\t\t\t\t\t\t\t\tdefaultValue={defaultValue}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.onChange}/>\n\t\t\t\t\t</div>\n\t\t\t\t\t{touched && error && <div className=\"error-wrap error-tip\"> <span>{error}</span></div> }\n\t\t\t\t</WrapComponent>\n\t\t);\n\t}\n\n}\n"]}