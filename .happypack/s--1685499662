'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.dateTimeFormat = dateTimeFormat;
exports.addDays = addDays;
exports.addMonths = addMonths;
exports.addYears = addYears;
exports.cloneDate = cloneDate;
exports.cloneAsDate = cloneAsDate;
exports.getDaysInMonth = getDaysInMonth;
exports.getFirstDayOfMonth = getFirstDayOfMonth;
exports.getFirstDayOfWeek = getFirstDayOfWeek;
exports.getWeekArray = getWeekArray;
exports.localizedWeekday = localizedWeekday;
exports.formatIso = formatIso;
exports.isEqualDate = isEqualDate;
exports.isBeforeDate = isBeforeDate;
exports.isAfterDate = isAfterDate;
exports.isBetweenDates = isBetweenDates;
exports.monthDiff = monthDiff;
exports.yearDiff = yearDiff;

var _warning = require('warning');

var _warning2 = _interopRequireDefault(_warning);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

//const dayAbbreviation = ['S', 'M', 'T', 'W', 'T', 'F', 'S'];
var dayAbbreviation = ['日', '一', '二', '三', '四', '五', '六'];
//const dayList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
var dayList = ['日', '一', '二', '三', '四', '五', '六'];
//const monthList = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
var monthList = ['一', '二', '三', '四', '五', '六', '七', '八', '九', '十', '十一', '十二'];
//const monthLongList = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];

var monthLongList = ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'];

function dateTimeFormat(locale, options) {
  process.env.NODE_ENV !== "production" ? (0, _warning2.default)(locale === 'en-US', 'Material-UI: The ' + locale + ' locale is not supported by the built-in DateTimeFormat.\n  Use the `DateTimeFormat` prop to supply an alternative implementation.') : void 0;

  this.format = function (date) {
    if (options.month === 'short' && options.weekday === 'short' && options.day === '2-digit') {
      return dayList[date.getDay()] + ', ' + monthList[date.getMonth()] + ' ' + date.getDate();
    } else if (options.year === 'numeric' && options.month === 'numeric' && options.day === 'numeric') {
      return date.getMonth() + 1 + '/' + date.getDate() + '/' + date.getFullYear();
    } else if (options.year === 'numeric' && options.month === 'long') {
      return monthLongList[date.getMonth()] + ' ' + date.getFullYear();
    } else if (options.weekday === 'narrow') {
      return dayAbbreviation[date.getDay()];
    } else if (options.year === 'numeric') {
      return date.getFullYear().toString();
    } else if (options.day === 'numeric') {
      return date.getDate();
    } else {
      process.env.NODE_ENV !== "production" ? (0, _warning2.default)(false, 'Material-UI: Wrong usage of DateTimeFormat') : void 0;
    }
  };
}

function addDays(d, days) {
  var newDate = cloneDate(d);
  newDate.setDate(d.getDate() + days);
  return newDate;
}

function addMonths(d, months) {
  var newDate = cloneDate(d);
  newDate.setMonth(d.getMonth() + months);
  return newDate;
}

function addYears(d, years) {
  var newDate = cloneDate(d);
  newDate.setFullYear(d.getFullYear() + years);
  return newDate;
}

function cloneDate(d) {
  return new Date(d.getTime());
}

function cloneAsDate(d) {
  var clonedDate = cloneDate(d);
  clonedDate.setHours(0, 0, 0, 0);
  return clonedDate;
}

function getDaysInMonth(d) {
  var resultDate = getFirstDayOfMonth(d);

  resultDate.setMonth(resultDate.getMonth() + 1);
  resultDate.setDate(resultDate.getDate() - 1);

  return resultDate.getDate();
}

function getFirstDayOfMonth(d) {
  return new Date(d.getFullYear(), d.getMonth(), 1);
}

function getFirstDayOfWeek() {
  var now = new Date();
  return new Date(now.setDate(now.getDate() - now.getDay()));
}

function getWeekArray(d, firstDayOfWeek) {
  var dayArray = [];
  var daysInMonth = getDaysInMonth(d);
  var weekArray = [];
  var week = [];

  for (var i = 1; i <= daysInMonth; i++) {
    dayArray.push(new Date(d.getFullYear(), d.getMonth(), i));
  }

  var addWeek = function addWeek(week) {
    var emptyDays = 7 - week.length;
    for (var _i = 0; _i < emptyDays; ++_i) {
      week[weekArray.length ? 'push' : 'unshift'](null);
    }
    weekArray.push(week);
  };

  dayArray.forEach(function (day) {
    if (week.length > 0 && day.getDay() === firstDayOfWeek) {
      addWeek(week);
      week = [];
    }
    week.push(day);
    if (dayArray.indexOf(day) === dayArray.length - 1) {
      addWeek(week);
    }
  });

  return weekArray;
}

function localizedWeekday(DateTimeFormat, locale, day, firstDayOfWeek) {
  var weekdayFormatter = new DateTimeFormat(locale, { weekday: 'narrow' });
  var firstDayDate = getFirstDayOfWeek();

  return weekdayFormatter.format(addDays(firstDayDate, day + firstDayOfWeek));
}

// Convert date to ISO 8601 (YYYY-MM-DD) date string, accounting for current timezone
function formatIso(date) {
  return new Date(date.toDateString() + ' 12:00:00 +0000').toISOString().substring(0, 10);
}

function isEqualDate(d1, d2) {
  return d1 && d2 && d1.getFullYear() === d2.getFullYear() && d1.getMonth() === d2.getMonth() && d1.getDate() === d2.getDate();
}

function isBeforeDate(d1, d2) {
  var date1 = cloneAsDate(d1);
  var date2 = cloneAsDate(d2);

  return date1.getTime() < date2.getTime();
}

function isAfterDate(d1, d2) {
  var date1 = cloneAsDate(d1);
  var date2 = cloneAsDate(d2);

  return date1.getTime() > date2.getTime();
}

function isBetweenDates(dateToCheck, startDate, endDate) {
  return !isBeforeDate(dateToCheck, startDate) && !isAfterDate(dateToCheck, endDate);
}

function monthDiff(d1, d2) {
  var m = void 0;
  m = (d1.getFullYear() - d2.getFullYear()) * 12;
  m += d1.getMonth();
  m -= d2.getMonth();
  return m;
}

function yearDiff(d1, d2) {
  return ~~(monthDiff(d1, d2) / 12);
}
;

var _temp = function () {
  if (typeof __REACT_HOT_LOADER__ === 'undefined') {
    return;
  }

  __REACT_HOT_LOADER__.register(dayAbbreviation, 'dayAbbreviation', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(dayList, 'dayList', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(monthList, 'monthList', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(monthLongList, 'monthLongList', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(dateTimeFormat, 'dateTimeFormat', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(addDays, 'addDays', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(addMonths, 'addMonths', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(addYears, 'addYears', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(cloneDate, 'cloneDate', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(cloneAsDate, 'cloneAsDate', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(getDaysInMonth, 'getDaysInMonth', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(getFirstDayOfMonth, 'getFirstDayOfMonth', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(getFirstDayOfWeek, 'getFirstDayOfWeek', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(getWeekArray, 'getWeekArray', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(localizedWeekday, 'localizedWeekday', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(formatIso, 'formatIso', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(isEqualDate, 'isEqualDate', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(isBeforeDate, 'isBeforeDate', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(isAfterDate, 'isAfterDate', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(isBetweenDates, 'isBetweenDates', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(monthDiff, 'monthDiff', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(yearDiff, 'yearDiff', '/Users/tmac_zc/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');
}();

;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9Db21wb25lbnRzL0RhdGVQaWNrZXIvRGF0ZVBpY2tlci9kYXRlVXRpbHMuanMiXSwibmFtZXMiOlsiZGF0ZVRpbWVGb3JtYXQiLCJhZGREYXlzIiwiYWRkTW9udGhzIiwiYWRkWWVhcnMiLCJjbG9uZURhdGUiLCJjbG9uZUFzRGF0ZSIsImdldERheXNJbk1vbnRoIiwiZ2V0Rmlyc3REYXlPZk1vbnRoIiwiZ2V0Rmlyc3REYXlPZldlZWsiLCJnZXRXZWVrQXJyYXkiLCJsb2NhbGl6ZWRXZWVrZGF5IiwiZm9ybWF0SXNvIiwiaXNFcXVhbERhdGUiLCJpc0JlZm9yZURhdGUiLCJpc0FmdGVyRGF0ZSIsImlzQmV0d2VlbkRhdGVzIiwibW9udGhEaWZmIiwieWVhckRpZmYiLCJkYXlBYmJyZXZpYXRpb24iLCJkYXlMaXN0IiwibW9udGhMaXN0IiwibW9udGhMb25nTGlzdCIsImxvY2FsZSIsIm9wdGlvbnMiLCJmb3JtYXQiLCJkYXRlIiwibW9udGgiLCJ3ZWVrZGF5IiwiZGF5IiwiZ2V0RGF5IiwiZ2V0TW9udGgiLCJnZXREYXRlIiwieWVhciIsImdldEZ1bGxZZWFyIiwidG9TdHJpbmciLCJkIiwiZGF5cyIsIm5ld0RhdGUiLCJzZXREYXRlIiwibW9udGhzIiwic2V0TW9udGgiLCJ5ZWFycyIsInNldEZ1bGxZZWFyIiwiRGF0ZSIsImdldFRpbWUiLCJjbG9uZWREYXRlIiwic2V0SG91cnMiLCJyZXN1bHREYXRlIiwibm93IiwiZmlyc3REYXlPZldlZWsiLCJkYXlBcnJheSIsImRheXNJbk1vbnRoIiwid2Vla0FycmF5Iiwid2VlayIsImkiLCJwdXNoIiwiYWRkV2VlayIsImVtcHR5RGF5cyIsImxlbmd0aCIsImZvckVhY2giLCJpbmRleE9mIiwiRGF0ZVRpbWVGb3JtYXQiLCJ3ZWVrZGF5Rm9ybWF0dGVyIiwiZmlyc3REYXlEYXRlIiwidG9EYXRlU3RyaW5nIiwidG9JU09TdHJpbmciLCJzdWJzdHJpbmciLCJkMSIsImQyIiwiZGF0ZTEiLCJkYXRlMiIs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c0JDLEVBQXRCLEVBQTBCO0FBQy9CLFNBQU8sQ0FBQyxFQUFFcEQsVUFBVW1ELEVBQVYsRUFBY0MsRUFBZCxJQUFvQixFQUF0QixDQUFSO0FBQ0Q7Ozs7Ozs7O2dDQS9KS2xELGU7O2dDQUVBQyxPOztnQ0FFQUMsUzs7Z0NBSUFDLGE7O2dDQUVVckIsYzs7Z0NBdUJBQyxPOztnQ0FNQUMsUzs7Z0NBTUFDLFE7O2dDQU1BQyxTOztnQ0FJQUMsVzs7Z0NBTUFDLGM7O2dDQVNBQyxrQjs7Z0NBSUFDLGlCOztnQ0FLQUMsWTs7Z0NBZ0NBQyxnQjs7Z0NBUUFDLFM7O2dDQUlBQyxXOztnQ0FPQUMsWTs7Z0NBT0FDLFc7O2dDQU9BQyxjOztnQ0FLQUMsUzs7Z0NBUUFDLFEiLCJmaWxlIjoiZGF0ZVV0aWxzLmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy90bWFjX3pjL0NvZGUva3ItYWRtaW4iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgd2FybmluZyBmcm9tICd3YXJuaW5nJztcblxuLy9jb25zdCBkYXlBYmJyZXZpYXRpb24gPSBbJ1MnLCAnTScsICdUJywgJ1cnLCAnVCcsICdGJywgJ1MnXTtcbmNvbnN0IGRheUFiYnJldmlhdGlvbiA9IFsn5pelJywgJ+S4gCcsICfkuownLCAn5LiJJywgJ+WbmycsICfkupQnLCAn5YWtJ107XG4vL2NvbnN0IGRheUxpc3QgPSBbJ1N1bicsICdNb24nLCAnVHVlJywgJ1dlZCcsICdUaHUnLCAnRnJpJywgJ1NhdCddO1xuY29uc3QgZGF5TGlzdCA9IFsn5pelJywgJ+S4gCcsICfkuownLCAn5LiJJywgJ+WbmycsICfkupQnLCAn5YWtJ107XG4vL2NvbnN0IG1vbnRoTGlzdCA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLCAnT2N0JywgJ05vdicsICdEZWMnXTtcbmNvbnN0IG1vbnRoTGlzdCA9IFsn5LiAJywgJ+S6jCcsICfkuIknLCAn5ZubJywgJ+S6lCcsICflha0nLCAn5LiDJywgJ+WFqycsICfkuZ0nLFxuICAn5Y2BJywgJ+WNgeS4gCcsICfljYHkuownXTtcbi8vY29uc3QgbW9udGhMb25nTGlzdCA9IFsnSmFudWFyeScsICdGZWJydWFyeScsICdNYXJjaCcsICdBcHJpbCcsICdNYXknLCAnSnVuZScsICdKdWx5JywgJ0F1Z3VzdCcsICdTZXB0ZW1iZXInLCAnT2N0b2JlcicsICdOb3ZlbWJlcicsICdEZWNlbWJlciddO1xuXG5jb25zdCBtb250aExvbmdMaXN0ID0gWycx5pyIJywgJzLmnIgnLCAnM+aciCcsICc05pyIJywgJzXmnIgnLCAnNuaciCcsJzfmnIgnLCAnOOaciCcsICc55pyIJywgJzEw5pyIJywgJzEx5pyIJywgJzEy5pyIJ107XG5cbmV4cG9ydCBmdW5jdGlvbiBkYXRlVGltZUZvcm1hdChsb2NhbGUsIG9wdGlvbnMpIHtcbiAgd2FybmluZyhsb2NhbGUgPT09ICdlbi1VUycsIGBNYXRlcmlhbC1VSTogVGhlICR7bG9jYWxlfSBsb2NhbGUgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYnVpbHQtaW4gRGF0ZVRpbWVGb3JtYXQuXG4gIFVzZSB0aGUgXFxgRGF0ZVRpbWVGb3JtYXRcXGAgcHJvcCB0byBzdXBwbHkgYW4gYWx0ZXJuYXRpdmUgaW1wbGVtZW50YXRpb24uYCk7XG5cbiAgdGhpcy5mb3JtYXQgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgaWYgKG9wdGlvbnMubW9udGggPT09ICdzaG9ydCcgJiYgb3B0aW9ucy53ZWVrZGF5ID09PSAnc2hvcnQnICYmIG9wdGlvbnMuZGF5ID09PSAnMi1kaWdpdCcpIHtcbiAgICAgIHJldHVybiBgJHtkYXlMaXN0W2RhdGUuZ2V0RGF5KCldfSwgJHttb250aExpc3RbZGF0ZS5nZXRNb250aCgpXX0gJHtkYXRlLmdldERhdGUoKX1gO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy55ZWFyID09PSAnbnVtZXJpYycgJiYgb3B0aW9ucy5tb250aCA9PT0gJ251bWVyaWMnICYmIG9wdGlvbnMuZGF5ID09PSAnbnVtZXJpYycpIHtcbiAgICAgIHJldHVybiBgJHtkYXRlLmdldE1vbnRoKCkgKyAxfS8ke2RhdGUuZ2V0RGF0ZSgpfS8ke2RhdGUuZ2V0RnVsbFllYXIoKX1gO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy55ZWFyID09PSAnbnVtZXJpYycgJiYgb3B0aW9ucy5tb250aCA9PT0gJ2xvbmcnKSB7XG4gICAgICByZXR1cm4gYCR7bW9udGhMb25nTGlzdFtkYXRlLmdldE1vbnRoKCldfSAke2RhdGUuZ2V0RnVsbFllYXIoKX1gO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy53ZWVrZGF5ID09PSAnbmFycm93Jykge1xuICAgICAgcmV0dXJuIGRheUFiYnJldmlhdGlvbltkYXRlLmdldERheSgpXTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMueWVhciA9PT0gJ251bWVyaWMnKSB7XG4gICAgICByZXR1cm4gZGF0ZS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCk7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmRheSA9PT0gJ251bWVyaWMnKSB7XG4gICAgICByZXR1cm4gZGF0ZS5nZXREYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsICdNYXRlcmlhbC1VSTogV3JvbmcgdXNhZ2Ugb2YgRGF0ZVRpbWVGb3JtYXQnKTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGREYXlzKGQsIGRheXMpIHtcbiAgY29uc3QgbmV3RGF0ZSA9IGNsb25lRGF0ZShkKTtcbiAgbmV3RGF0ZS5zZXREYXRlKGQuZ2V0RGF0ZSgpICsgZGF5cyk7XG4gIHJldHVybiBuZXdEYXRlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkTW9udGhzKGQsIG1vbnRocykge1xuICBjb25zdCBuZXdEYXRlID0gY2xvbmVEYXRlKGQpO1xuICBuZXdEYXRlLnNldE1vbnRoKGQuZ2V0TW9udGgoKSArIG1vbnRocyk7XG4gIHJldHVybiBuZXdEYXRlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkWWVhcnMoZCwgeWVhcnMpIHtcbiAgY29uc3QgbmV3RGF0ZSA9IGNsb25lRGF0ZShkKTtcbiAgbmV3RGF0ZS5zZXRGdWxsWWVhcihkLmdldEZ1bGxZZWFyKCkgKyB5ZWFycyk7XG4gIHJldHVybiBuZXdEYXRlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVEYXRlKGQpIHtcbiAgcmV0dXJuIG5ldyBEYXRlKGQuZ2V0VGltZSgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lQXNEYXRlKGQpIHtcbiAgY29uc3QgY2xvbmVkRGF0ZSA9IGNsb25lRGF0ZShkKTtcbiAgY2xvbmVkRGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcbiAgcmV0dXJuIGNsb25lZERhdGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXREYXlzSW5Nb250aChkKSB7XG4gIGNvbnN0IHJlc3VsdERhdGUgPSBnZXRGaXJzdERheU9mTW9udGgoZCk7XG5cbiAgcmVzdWx0RGF0ZS5zZXRNb250aChyZXN1bHREYXRlLmdldE1vbnRoKCkgKyAxKTtcbiAgcmVzdWx0RGF0ZS5zZXREYXRlKHJlc3VsdERhdGUuZ2V0RGF0ZSgpIC0gMSk7XG5cbiAgcmV0dXJuIHJlc3VsdERhdGUuZ2V0RGF0ZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Rmlyc3REYXlPZk1vbnRoKGQpIHtcbiAgcmV0dXJuIG5ldyBEYXRlKGQuZ2V0RnVsbFllYXIoKSwgZC5nZXRNb250aCgpLCAxKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpcnN0RGF5T2ZXZWVrKCkge1xuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICByZXR1cm4gbmV3IERhdGUobm93LnNldERhdGUobm93LmdldERhdGUoKSAtIG5vdy5nZXREYXkoKSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2Vla0FycmF5KGQsIGZpcnN0RGF5T2ZXZWVrKSB7XG4gIGNvbnN0IGRheUFycmF5ID0gW107XG4gIGNvbnN0IGRheXNJbk1vbnRoID0gZ2V0RGF5c0luTW9udGgoZCk7XG4gIGNvbnN0IHdlZWtBcnJheSA9IFtdO1xuICBsZXQgd2VlayA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IGRheXNJbk1vbnRoOyBpKyspIHtcbiAgICBkYXlBcnJheS5wdXNoKG5ldyBEYXRlKGQuZ2V0RnVsbFllYXIoKSwgZC5nZXRNb250aCgpLCBpKSk7XG4gIH1cblxuICBjb25zdCBhZGRXZWVrID0gKHdlZWspID0+IHtcbiAgICBjb25zdCBlbXB0eURheXMgPSA3IC0gd2Vlay5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbXB0eURheXM7ICsraSkge1xuICAgICAgd2Vla1t3ZWVrQXJyYXkubGVuZ3RoID8gJ3B1c2gnIDogJ3Vuc2hpZnQnXShudWxsKTtcbiAgICB9XG4gICAgd2Vla0FycmF5LnB1c2god2Vlayk7XG4gIH07XG5cbiAgZGF5QXJyYXkuZm9yRWFjaCgoZGF5KSA9PiB7XG4gICAgaWYgKHdlZWsubGVuZ3RoID4gMCAmJiBkYXkuZ2V0RGF5KCkgPT09IGZpcnN0RGF5T2ZXZWVrKSB7XG4gICAgICBhZGRXZWVrKHdlZWspO1xuICAgICAgd2VlayA9IFtdO1xuICAgIH1cbiAgICB3ZWVrLnB1c2goZGF5KTtcbiAgICBpZiAoZGF5QXJyYXkuaW5kZXhPZihkYXkpID09PSBkYXlBcnJheS5sZW5ndGggLSAxKSB7XG4gICAgICBhZGRXZWVrKHdlZWspO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHdlZWtBcnJheTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxvY2FsaXplZFdlZWtkYXkoRGF0ZVRpbWVGb3JtYXQsIGxvY2FsZSwgZGF5LCBmaXJzdERheU9mV2Vlaykge1xuICBjb25zdCB3ZWVrZGF5Rm9ybWF0dGVyID0gbmV3IERhdGVUaW1lRm9ybWF0KGxvY2FsZSwge3dlZWtkYXk6ICduYXJyb3cnfSk7XG4gIGNvbnN0IGZpcnN0RGF5RGF0ZSA9IGdldEZpcnN0RGF5T2ZXZWVrKCk7XG5cbiAgcmV0dXJuIHdlZWtkYXlGb3JtYXR0ZXIuZm9ybWF0KGFkZERheXMoZmlyc3REYXlEYXRlLCBkYXkgKyBmaXJzdERheU9mV2VlaykpO1xufVxuXG4vLyBDb252ZXJ0IGRhdGUgdG8gSVNPIDg2MDEgKFlZWVktTU0tREQpIGRhdGUgc3RyaW5nLCBhY2NvdW50aW5nIGZvciBjdXJyZW50IHRpbWV6b25lXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0SXNvKGRhdGUpIHtcbiAgcmV0dXJuIChuZXcgRGF0ZShgJHtkYXRlLnRvRGF0ZVN0cmluZygpfSAxMjowMDowMCArMDAwMGApKS50b0lTT1N0cmluZygpLnN1YnN0cmluZygwLCAxMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VxdWFsRGF0ZShkMSwgZDIpIHtcbiAgcmV0dXJuIGQxICYmIGQyICYmXG4gICAgKGQxLmdldEZ1bGxZZWFyKCkgPT09IGQyLmdldEZ1bGxZZWFyKCkpICYmXG4gICAgKGQxLmdldE1vbnRoKCkgPT09IGQyLmdldE1vbnRoKCkpICYmXG4gICAgKGQxLmdldERhdGUoKSA9PT0gZDIuZ2V0RGF0ZSgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQmVmb3JlRGF0ZShkMSwgZDIpIHtcbiAgY29uc3QgZGF0ZTEgPSBjbG9uZUFzRGF0ZShkMSk7XG4gIGNvbnN0IGRhdGUyID0gY2xvbmVBc0RhdGUoZDIpO1xuXG4gIHJldHVybiAoZGF0ZTEuZ2V0VGltZSgpIDwgZGF0ZTIuZ2V0VGltZSgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQWZ0ZXJEYXRlKGQxLCBkMikge1xuICBjb25zdCBkYXRlMSA9IGNsb25lQXNEYXRlKGQxKTtcbiAgY29uc3QgZGF0ZTIgPSBjbG9uZUFzRGF0ZShkMik7XG5cbiAgcmV0dXJuIChkYXRlMS5nZXRUaW1lKCkgPiBkYXRlMi5nZXRUaW1lKCkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNCZXR3ZWVuRGF0ZXMoZGF0ZVRvQ2hlY2ssIHN0YXJ0RGF0ZSwgZW5kRGF0ZSkge1xuICByZXR1cm4gKCEoaXNCZWZvcmVEYXRlKGRhdGVUb0NoZWNrLCBzdGFydERhdGUpKSAmJlxuICAgICAgICAgICEoaXNBZnRlckRhdGUoZGF0ZVRvQ2hlY2ssIGVuZERhdGUpKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb250aERpZmYoZDEsIGQyKSB7XG4gIGxldCBtO1xuICBtID0gKGQxLmdldEZ1bGxZZWFyKCkgLSBkMi5nZXRGdWxsWWVhcigpKSAqIDEyO1xuICBtICs9IGQxLmdldE1vbnRoKCk7XG4gIG0gLT0gZDIuZ2V0TW9udGgoKTtcbiAgcmV0dXJuIG07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB5ZWFyRGlmZihkMSwgZDIpIHtcbiAgcmV0dXJuIH5+KG1vbnRoRGlmZihkMSwgZDIpIC8gMTIpO1xufVxuIl19