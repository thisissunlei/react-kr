{"version":3,"sources":["src/Containers/Operation/CustomerManage/Order/Edit/OrderEditForm.js"],"names":["OrderEditForm","props","context","onSubmit","values","onCancel","error","handleSubmit","submitting","initialValues","communityOptions","orderTypeOptions","changeValues","cityName","dicName","map","item","communityId","communityid","padding","customerName","width","textAlign","paddingRight","paddingLeft","propTypes","PropTypes","object","array","selector","validate","errors","mainbilltype","mainbillname","form","enableReinitialize","keepDirtyOnReinitialize","state"],"mappings":"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","file":"OrderEditForm.js","sourceRoot":"/Users/tmac_zc/Code/kr-admin","sourcesContent":["import React, {\n\tComponent,\n\tPropTypes\n} from 'react';\n\nimport {\n\treduxForm,\n\tformValueSelector,\n\tinitialize,\n\tarrayPush,\n\tarrayInsert,\n\tFieldArray,\n\tchange\n} from 'redux-form';\n\nimport {\n\tActions,\n\tStore,\n\tconnect\n} from 'kr/Redux';\n\n\nimport {\n\tSection,\n\tKrField,\n\tGrid,\n\tRow,\n\tCol,\n\tNotify,\n\tButton,\n\tKrDate,\n\tDotTitle,\n\tButtonGroup,\n\tPaper,\n\tListGroup,\n\tListGroupItem\n} from 'kr-ui';\n\nclass OrderEditForm extends Component {\n\tstatic propTypes = {\n\t\tinitialValues: React.PropTypes.object,\n\t\tcommunityOptions: React.PropTypes.array,\n\t\torderTypeOptions: React.PropTypes.array,\n\t}\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t}\n\n\tonSubmit = (values) => {\n\t\tconst {\n\t\t\tonSubmit\n\t\t} = this.props;\n\t\tonSubmit && onSubmit(values);\n\t}\n\tonCancel = () => {\n\t\tconst {\n\t\t\tonCancel\n\t\t} = this.props;\n\t\tonCancel && onCancel();\n\t}\n\n\n\n\trender() {\n\n\t\tconst {\n\t\t\terror,\n\t\t\thandleSubmit,\n\t\t\tsubmitting,\n\t\t\tinitialValues,\n\t\t\tcommunityOptions,\n\t\t\torderTypeOptions,\n\t\t\tchangeValues\n\t\t} = this.props;\n\t\tlet cityName = '';\n\t\tlet dicName = '';\n\t\tcommunityOptions.map(function(item) {\n\t\t\tif (item.communityId == changeValues.communityid) {\n\t\t\t\tcityName = item.cityName;\n\t\t\t}\n\t\t});\n\n\n\t\treturn (\n\t\t\t<form onSubmit={handleSubmit(this.onSubmit)} style={{padding:20}}>\n\n\t\t\t<KrField name=\"customerName\" grid={1} label=\"客户名称\" component=\"labelText\" disabled={true} value={initialValues.customerName} inline={false}/>\n\n\t\t\t <KrField name=\"mainbilltype\" grid={1/2} right={30} component=\"select\" label=\"订单类型\" requireLabel={true} inline={false} options={orderTypeOptions}/>\n\n\t\t\t\t <KrField name=\"communityid\" grid={1/2} left={30} component=\"select\" label=\"所在社区\" requireLabel={true} inline={false} options={communityOptions}/>\n\t\t\t\t\t<KrField label=\"所在城市\" grid={1/2} right={30} value={cityName||'无'} component=\"labelText\" inline={false}/>\n\t\t\t\t\t <KrField name=\"mainbillname\" grid={1/2} left={30} type=\"text\" label=\"订单名称\" requireLabel={true} component=\"text\" inline={false}/>\n\t\t\t\t\t <KrField name=\"mainbilldesc\" type=\"textarea\" label=\"订单描述\" component=\"textarea\" inline={false}  maxSize={200}/>\n\n\t\t\t\t\t<Grid >\n\t\t\t\t\t\t<ListGroup>\n\t\t\t\t\t\t\t<ListGroupItem style={{width:'45%',textAlign:'right',paddingRight:15}}><Button  label=\"确定\" type=\"submit\" disabled={submitting} /></ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem style={{width:'45%',textAlign:'left',paddingLeft:15}}><Button  label=\"取消\" cancle={true} type=\"button\"  disabled={submitting} onClick={this.onCancel} /></ListGroupItem>\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t</Grid>\n\t\t\t</form>\n\t\t)\n\t}\n}\nconst selector = formValueSelector('orderEditForm');\nconst validate = values => {\n\n\tconst errors = {}\n\n\tif (!values.mainbilltype) {\n\t\terrors.mainbilltype = '请选择订单类型';\n\t} else if (!values.communityid) {\n\t\terrors.communityid = '请选择所在社区';\n\t} else if (!values.mainbillname) {\n\t\terrors.mainbillname = '订单名称不能为空';\n\t}\n\n\n\treturn errors\n}\n\nOrderEditForm = reduxForm({\n\tform: 'orderEditForm',\n\tvalidate,\n\tenableReinitialize: true,\n\tkeepDirtyOnReinitialize: true\n})(OrderEditForm);\n\nexport default connect((state) => {\n\n\tlet changeValues = {};\n\n\tchangeValues.communityid = selector(state, 'communityid');\n\n\n\treturn {\n\t\tchangeValues\n\t}\n\n})(OrderEditForm);\n"]}