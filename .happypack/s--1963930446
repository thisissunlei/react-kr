'use strict';

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _classnames = require('classnames');

var _classnames2 = _interopRequireDefault(_classnames);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Option = _react2.default.createClass({
	displayName: 'Option',

	propTypes: {
		children: _react2.default.PropTypes.node,
		className: _react2.default.PropTypes.string, // className (based on mouse position)
		instancePrefix: _react2.default.PropTypes.string.isRequired, // unique prefix for the ids (used for aria)
		isDisabled: _react2.default.PropTypes.bool, // the option is disabled
		isFocused: _react2.default.PropTypes.bool, // the option is focused
		isSelected: _react2.default.PropTypes.bool, // the option is selected
		onFocus: _react2.default.PropTypes.func, // method to handle mouseEnter on option element
		onSelect: _react2.default.PropTypes.func, // method to handle click on option element
		onUnfocus: _react2.default.PropTypes.func, // method to handle mouseLeave on option element
		option: _react2.default.PropTypes.object.isRequired, // object that is base for that option
		optionIndex: _react2.default.PropTypes.number },
	blockEvent: function blockEvent(event) {
		event.preventDefault();
		event.stopPropagation();
		if (event.target.tagName !== 'A' || !('href' in event.target)) {
			return;
		}
		if (event.target.target) {
			window.open(event.target.href, event.target.target);
		} else {
			window.location.href = event.target.href;
		}
	},
	handleMouseDown: function handleMouseDown(event) {
		event.preventDefault();
		event.stopPropagation();
		this.props.onSelect(this.props.option, event);
	},
	handleMouseEnter: function handleMouseEnter(event) {
		this.onFocus(event);
	},
	handleMouseMove: function handleMouseMove(event) {
		this.onFocus(event);
	},
	handleTouchEnd: function handleTouchEnd(event) {
		// Check if the view is being dragged, In this case
		// we don't want to fire the click event (because the user only wants to scroll)
		if (this.dragging) return;

		this.handleMouseDown(event);
	},
	handleTouchMove: function handleTouchMove(event) {
		// Set a flag that the view is being dragged
		this.dragging = true;
	},
	handleTouchStart: function handleTouchStart(event) {
		// Set a flag that the view is not being dragged
		this.dragging = false;
	},
	onFocus: function onFocus(event) {
		if (!this.props.isFocused) {
			this.props.onFocus(this.props.option, event);
		}
	},
	render: function render() {
		var _props = this.props,
		    option = _props.option,
		    instancePrefix = _props.instancePrefix,
		    optionIndex = _props.optionIndex;

		var className = (0, _classnames2.default)(this.props.className, option.className);

		return option.disabled ? _react2.default.createElement(
			'div',
			{ className: className,
				onMouseDown: this.blockEvent,
				onClick: this.blockEvent },
			this.props.children
		) : _react2.default.createElement(
			'div',
			{ className: className,
				style: option.style,
				role: 'option',
				onMouseDown: this.handleMouseDown,
				onMouseEnter: this.handleMouseEnter,
				onMouseMove: this.handleMouseMove,
				onTouchStart: this.handleTouchStart,
				onTouchMove: this.handleTouchMove,
				onTouchEnd: this.handleTouchEnd,
				id: instancePrefix + '-option-' + optionIndex,
				title: option.title },
			this.props.children
		);
	}
});

module.exports = Option;
;

var _temp = function () {
	if (typeof __REACT_HOT_LOADER__ === 'undefined') {
		return;
	}

	__REACT_HOT_LOADER__.register(Option, 'Option', '/Users/liuyihao/Code/kr-admin/src/Components/Select/Option.js');
}();

;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9Db21wb25lbnRzL1NlbGVjdC9PcHRpb24uanMiXSwibmFtZXMiOlsiT3B0aW9uIiwiY3JlYXRlQ2xhc3MiLCJwcm9wVHlwZXMiLCJjaGlsZHJlbiIsIlByb3BUeXBlcyIsIm5vZGUiLCJjbGFzc05hbWUiLCJzdHJpbmciLCJpbnN0YW5jZVByZWZpeCIsImlzUmVxdWlyZWQiLCJpc0Rpc2FibGVkIiwiYm9vbCIsImlzRm9jdXNlZCIsImlzU2VsZWN0ZWQiLCJvbkZvY3VzIiwiZnVuYyIsIm9uU2VsZWN0Iiwib25VbmZvY3VzIiwib3B0aW9uIiwib2JqZWN0Iiwib3B0aW9uSW5kZXgiLCJudW1iZXIiLCJibG9ja0V2ZW50IiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsInRhcmdldCIsInRhZ05hbWUiLCJ3aW5kb3ciLCJvcGVuIiwiaHJlZiIsImxvY2F0aW9uIiwiaGFuZGxlTW91c2VEb3duIiwicHJvcHMiLCJoYW5kbGVNb3VzZUVudGVyIiwiaGFuZGxlTW91c2VNb3ZlIiwiaGFuZGxlVG91Y2hFbmQiLCJkcmFnZ2luZyIsImhhbmRsZVRvdWNoTW92ZSIsImhhbmRsZVRvdWNoU3RhcnQiLCJyZW5kZXIiLCJkaXNhYmxlZCIsInN0eWxlIiwidGl0bGUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7O0FBQ0E7Ozs7OztBQUVBLElBQU1BLFNBQVMsZ0JBQU1DLFdBQU4sQ0FBa0I7QUFBQTs7QUFDaENDLFlBQVc7QUFDVkMsWUFBVSxnQkFBTUMsU0FBTixDQUFnQkMsSUFEaEI7QUFFVkMsYUFBVyxnQkFBTUYsU0FBTixDQUFnQkcsTUFGakIsRUFFcUM7QUFDL0NDLGtCQUFnQixnQkFBTUosU0FBTixDQUFnQkcsTUFBaEIsQ0FBdUJFLFVBSDdCLEVBRzBDO0FBQ3BEQyxjQUFZLGdCQUFNTixTQUFOLENBQWdCTyxJQUpsQixFQUlxQztBQUMvQ0MsYUFBVyxnQkFBTVIsU0FBTixDQUFnQk8sSUFM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T0FBT3dCLEtBRGY7QUFFQyxVQUFLLFFBRk47QUFHRSxpQkFBYSxLQUFLVixlQUhwQjtBQUlDLGtCQUFjLEtBQUtFLGdCQUpwQjtBQUtDLGlCQUFhLEtBQUtDLGVBTG5CO0FBTUMsa0JBQWMsS0FBS0ksZ0JBTnBCO0FBT0MsaUJBQWEsS0FBS0QsZUFQbkI7QUFRQyxnQkFBWSxLQUFLRixjQVJsQjtBQVNDLFFBQUk1QixpQkFBaUIsVUFBakIsR0FBOEJZLFdBVG5DO0FBVUMsV0FBT0YsT0FBT3lCLEtBVmY7QUFXRSxRQUFLVixLQUFMLENBQVc5QjtBQVhiLEdBUEQ7QUFxQkE7QUF6RitCLENBQWxCLENBQWY7O0FBNEZBeUMsT0FBT0MsT0FBUCxHQUFpQjdDLE1BQWpCOzs7Ozs7OzsrQkE1Rk1BLE0iLCJmaWxlIjoiT3B0aW9uLmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9saXV5aWhhby9Db2RlL2tyLWFkbWluIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuXG5jb25zdCBPcHRpb24gPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG5cdHByb3BUeXBlczoge1xuXHRcdGNoaWxkcmVuOiBSZWFjdC5Qcm9wVHlwZXMubm9kZSxcblx0XHRjbGFzc05hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsICAgICAgICAgICAgIC8vIGNsYXNzTmFtZSAoYmFzZWQgb24gbW91c2UgcG9zaXRpb24pXG5cdFx0aW5zdGFuY2VQcmVmaXg6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCwgIC8vIHVuaXF1ZSBwcmVmaXggZm9yIHRoZSBpZHMgKHVzZWQgZm9yIGFyaWEpXG5cdFx0aXNEaXNhYmxlZDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsICAgICAgICAgICAgICAvLyB0aGUgb3B0aW9uIGlzIGRpc2FibGVkXG5cdFx0aXNGb2N1c2VkOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCwgICAgICAgICAgICAgICAvLyB0aGUgb3B0aW9uIGlzIGZvY3VzZWRcblx0XHRpc1NlbGVjdGVkOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCwgICAgICAgICAgICAgIC8vIHRoZSBvcHRpb24gaXMgc2VsZWN0ZWRcblx0XHRvbkZvY3VzOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYywgICAgICAgICAgICAgICAgIC8vIG1ldGhvZCB0byBoYW5kbGUgbW91c2VFbnRlciBvbiBvcHRpb24gZWxlbWVudFxuXHRcdG9uU2VsZWN0OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYywgICAgICAgICAgICAgICAgLy8gbWV0aG9kIHRvIGhhbmRsZSBjbGljayBvbiBvcHRpb24gZWxlbWVudFxuXHRcdG9uVW5mb2N1czogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsICAgICAgICAgICAgICAgLy8gbWV0aG9kIHRvIGhhbmRsZSBtb3VzZUxlYXZlIG9uIG9wdGlvbiBlbGVtZW50XG5cdFx0b3B0aW9uOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsICAgICAvLyBvYmplY3QgdGhhdCBpcyBiYXNlIGZvciB0aGF0IG9wdGlvblxuXHRcdG9wdGlvbkluZGV4OiBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyLCAgICAgICAgICAgLy8gaW5kZXggb2YgdGhlIG9wdGlvbiwgdXNlZCB0byBnZW5lcmF0ZSB1bmlxdWUgaWRzIGZvciBhcmlhXG5cdH0sXG5cdGJsb2NrRXZlbnQgKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRpZiAoKGV2ZW50LnRhcmdldC50YWdOYW1lICE9PSAnQScpIHx8ICEoJ2hyZWYnIGluIGV2ZW50LnRhcmdldCkpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKGV2ZW50LnRhcmdldC50YXJnZXQpIHtcblx0XHRcdHdpbmRvdy5vcGVuKGV2ZW50LnRhcmdldC5ocmVmLCBldmVudC50YXJnZXQudGFyZ2V0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSBldmVudC50YXJnZXQuaHJlZjtcblx0XHR9XG5cdH0sXG5cblx0aGFuZGxlTW91c2VEb3duIChldmVudCkge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0dGhpcy5wcm9wcy5vblNlbGVjdCh0aGlzLnByb3BzLm9wdGlvbiwgZXZlbnQpO1xuXHR9LFxuXG5cdGhhbmRsZU1vdXNlRW50ZXIgKGV2ZW50KSB7XG5cdFx0dGhpcy5vbkZvY3VzKGV2ZW50KTtcblx0fSxcblxuXHRoYW5kbGVNb3VzZU1vdmUgKGV2ZW50KSB7XG5cdFx0dGhpcy5vbkZvY3VzKGV2ZW50KTtcblx0fSxcblxuXHRoYW5kbGVUb3VjaEVuZChldmVudCl7XG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIHZpZXcgaXMgYmVpbmcgZHJhZ2dlZCwgSW4gdGhpcyBjYXNlXG5cdFx0Ly8gd2UgZG9uJ3Qgd2FudCB0byBmaXJlIHRoZSBjbGljayBldmVudCAoYmVjYXVzZSB0aGUgdXNlciBvbmx5IHdhbnRzIHRvIHNjcm9sbClcblx0XHRpZih0aGlzLmRyYWdnaW5nKSByZXR1cm47XG5cdFxuXHRcdHRoaXMuaGFuZGxlTW91c2VEb3duKGV2ZW50KTtcblx0fSxcblxuXHRoYW5kbGVUb3VjaE1vdmUgKGV2ZW50KSB7XG5cdFx0Ly8gU2V0IGEgZmxhZyB0aGF0IHRoZSB2aWV3IGlzIGJlaW5nIGRyYWdnZWRcblx0XHR0aGlzLmRyYWdnaW5nID0gdHJ1ZTtcblx0fSxcblxuXHRoYW5kbGVUb3VjaFN0YXJ0IChldmVudCkge1xuXHRcdC8vIFNldCBhIGZsYWcgdGhhdCB0aGUgdmlldyBpcyBub3QgYmVpbmcgZHJhZ2dlZFxuXHRcdHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcblx0fSxcblxuXHRvbkZvY3VzIChldmVudCkge1xuXHRcdGlmICghdGhpcy5wcm9wcy5pc0ZvY3VzZWQpIHtcblx0XHRcdHRoaXMucHJvcHMub25Gb2N1cyh0aGlzLnByb3BzLm9wdGlvbiwgZXZlbnQpO1xuXHRcdH1cblx0fSxcblx0cmVuZGVyICgpIHtcblx0XHR2YXIgeyBvcHRpb24sIGluc3RhbmNlUHJlZml4LCBvcHRpb25JbmRleCB9ID0gdGhpcy5wcm9wcztcblx0XHR2YXIgY2xhc3NOYW1lID0gY2xhc3NOYW1lcyh0aGlzLnByb3BzLmNsYXNzTmFtZSwgb3B0aW9uLmNsYXNzTmFtZSk7XG5cblx0XHRyZXR1cm4gb3B0aW9uLmRpc2FibGVkID8gKFxuXHRcdFx0PGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX1cblx0XHRcdFx0b25Nb3VzZURvd249e3RoaXMuYmxvY2tFdmVudH1cblx0XHRcdFx0b25DbGljaz17dGhpcy5ibG9ja0V2ZW50fT5cblx0XHRcdFx0e3RoaXMucHJvcHMuY2hpbGRyZW59XG5cdFx0XHQ8L2Rpdj5cblx0XHQpIDogKFxuXHRcdFx0PGRpdiBjbGFzc05hbWU9e2NsYXNzTmFtZX1cblx0XHRcdFx0c3R5bGU9e29wdGlvbi5zdHlsZX1cblx0XHRcdFx0cm9sZT1cIm9wdGlvblwiXG5cdFx0XHRcdCBvbk1vdXNlRG93bj17dGhpcy5oYW5kbGVNb3VzZURvd259XG5cdFx0XHRcdG9uTW91c2VFbnRlcj17dGhpcy5oYW5kbGVNb3VzZUVudGVyfVxuXHRcdFx0XHRvbk1vdXNlTW92ZT17dGhpcy5oYW5kbGVNb3VzZU1vdmV9XG5cdFx0XHRcdG9uVG91Y2hTdGFydD17dGhpcy5oYW5kbGVUb3VjaFN0YXJ0fVxuXHRcdFx0XHRvblRvdWNoTW92ZT17dGhpcy5oYW5kbGVUb3VjaE1vdmV9XG5cdFx0XHRcdG9uVG91Y2hFbmQ9e3RoaXMuaGFuZGxlVG91Y2hFbmR9XG5cdFx0XHRcdGlkPXtpbnN0YW5jZVByZWZpeCArICctb3B0aW9uLScgKyBvcHRpb25JbmRleH1cblx0XHRcdFx0dGl0bGU9e29wdGlvbi50aXRsZX0+XG5cdFx0XHRcdHt0aGlzLnByb3BzLmNoaWxkcmVufVxuXHRcdFx0PC9kaXY+XG5cdFx0KTtcblx0fVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gT3B0aW9uO1xuIl19