{"version":3,"sources":["src/Containers/Operation/CustomerManage/AgreementList/Admit/Edit/NewCreateForm.js"],"names":["NewCreateForm","decorate","props","context","openPreStationUnitPriceDialog","selectedStation","state","length","show","message","type","openStationUnitPriceDialog","setState","openStationUnitPrice","onStationUnitPrice","form","value","price","stationVos","_this","allMoney","console","log","map","item","index","indexOf","unitprice","setAllRent","allRent","showMore","HeightAuto","onBlur","list","i","dispatch","callAPI","stationList","JSON","stringify","then","response","catch","err","getSingleRent","mounth","rentBegin","leaseBeginDate","split","rentEnd","leaseEndDate","rentDay","rentMounth","years","a","mounthIndex","rentPriceByDay","toFixed","stationRefs","onCancel","bind","onSubmit","onStationDelete","onStationSelect","getStationUrl","onIframeClose","openStationDialog","onChangeSearchPersonel","onChangeLeaseBeginDate","onChangeLeaseEndDate","onStationVosChange","calcStationNum","onClose","stationUrl","delStationVos","openStation","stationnum","boardroomnum","forEach","stationType","filter","push","changeValues","wherefloor","leaseBegindate","leaseEnddate","Date","initialValues","nextProps","isInit","lessorAddress","signdate","totalrent","url","optionValues","obj","id","stationId","whereFloor","params","contractId","mainBillId","orderId","communityId","mainbillCommunityId","floors","goalStationNum","goalBoardroomNum","selectedObjs","startDate","endDate","Object","keys","hasOwnProperty","replace","billList","data","deleteData","stationName","name","personel","mobile","error","handleSubmit","pristine","reset","submitting","fnaCorporationList","leaseId","corporationAddress","nzhcn","cn","allRentName","encodeB","parseFloat","width","paddingLeft","marginLeft","floorList","position","padding","marginTop","textAlign","display","lineHeight","left","marginBottom","typeLink","requestChange","maxWidth","marginRight","color","paddingBottom","lessorContactName","requiredValue","pattern","customerName","communityName","paymentList","contractFileList","paddingRight","contextTypes","PropTypes","object","isRequired","DefaultPropTypes","payTypeList","func","selector","validate","errors","values","lessorContactid","lessorContacttel","leaseAddress","leaseContacttel","isNaN","leaseContact","paymodel","templockday","contractcode","paymentId","String","totaldownpayment","enableReinitialize","keepDirtyOnReinitialize","lessorId"],"mappings":"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","file":"NewCreateForm.js","sourceRoot":"/Users/liuyihao/Code/kr-admin","sourcesContent":["import React, {\n\tComponent,\n\tPropTypes\n} from 'react';\nimport {\n\tconnect\n} from 'kr/Redux';\nimport Param from 'jquery-param';\nimport {\n\tFields\n} from 'redux-form';\nimport {\n\tBinder\n} from 'react-binding';\nimport nzh from 'nzh';\nimport ReactMixin from \"react-mixin\";\nimport LinkedStateMixin from 'react-addons-linked-state-mixin';\nimport dateFormat from 'dateformat';\nimport {\n\treduxForm,\n\tformValueSelector,\n\tchange,\n\tinitialize,\n\tarrayPush,\n\tarrayInsert,\n\tFieldArray\n} from 'redux-form';\n\nimport {\n\tActions,\n\tStore\n} from 'kr/Redux';\nimport \"./index.less\";\nimport UnitPriceForm from './UnitPriceForm';\n\nimport {\n\tMenu,\n\tMenuItem,\n\tDropDownMenu,\n\tIconMenu,\n\tDialog,\n\n\tTable,\n\tTableBody,\n\tTableHeader,\n\tTableHeaderColumn,\n\tTableRow,\n\tTableRowColumn,\n\tTableFooter,\n\tSection,\n\tKrField,\n\tGrid,\n\tRow,\n\tCol,\n\tButton,\n\tNotify,\n\tIframeContent,\n\tDotTitle,\n\tButtonGroup,\n\tPaper,\n\tListGroup,\n\tListGroupItem,\n\tKrDate,\n\tCircleStyle\n} from 'kr-ui';\n\n@ReactMixin.decorate(LinkedStateMixin)\nclass NewCreateForm extends Component {\n\n\n\n\tstatic contextTypes = {\n\t\tparams: React.PropTypes.object.isRequired\n\t}\n\n\tstatic DefaultPropTypes = {\n\t\tinitialValues: {\n\t\t\tcustomerName: '',\n\t\t\tcommunityName: '',\n\t\t\tlessorAddress: '',\n\t\t\tpayTypeList: [],\n\t\t\tpaymentList: [],\n\t\t\tfnaCorporationList: [],\n\t\t}\n\t}\n\n\tstatic PropTypes = {\n\t\tinitialValues: React.PropTypes.object,\n\t\tonSubmit: React.PropTypes.func,\n\t\tonCancel: React.PropTypes.func,\n\t}\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\t//stationsRefs表单\n\t\tthis.stationRefs = {};\n\n\t\tthis.onCancel = this.onCancel.bind(this);\n\t\tthis.onSubmit = this.onSubmit.bind(this);\n\t\tthis.onStationDelete = this.onStationDelete.bind(this);\n\t\tthis.onStationSelect = this.onStationSelect.bind(this);\n\n\t\tthis.getStationUrl = this.getStationUrl.bind(this);\n\t\tthis.onIframeClose = this.onIframeClose.bind(this);\n\t\tthis.openStationDialog = this.openStationDialog.bind(this);\n\n\t\tthis.openStationUnitPriceDialog = this.openStationUnitPriceDialog.bind(this);\n\t\tthis.onChangeSearchPersonel = this.onChangeSearchPersonel.bind(this);\n\t\tthis.onChangeLeaseBeginDate = this.onChangeLeaseBeginDate.bind(this);\n\t\tthis.onChangeLeaseEndDate = this.onChangeLeaseEndDate.bind(this);\n\t\tthis.onStationVosChange = this.onStationVosChange.bind(this);\n\t\tthis.calcStationNum = this.calcStationNum.bind(this);\n\t\tthis.onClose = this.onClose.bind(this);\n\t\tthis.state = {\n\t\t\tstationUrl: '',\n\t\t\tstationVos: this.props.stationVos,\n\t\t\tdelStationVos: [],\n\t\t\tselectedStation: [],\n\t\t\topenStation: false,\n\t\t\topenStationUnitPrice: false,\n\t\t\tHeightAuto: false,\n\t\t\tallRent:'-1',\n\n\t\t}\n\t}\n\tcalcStationNum() {\n\t\tlet {\n\t\t\tstationVos\n\t\t} = this.state;\n\n\t\tvar stationnum = 0;\n\t\tvar boardroomnum = 0;\n\n\t\tstationVos.forEach(function(item, index) {\n\t\t\tif (item.stationType == 1) {\n\t\t\t\tstationnum++;\n\t\t\t} else {\n\t\t\t\tboardroomnum++;\n\t\t\t}\n\t\t});\n\n\t\tStore.dispatch(change('admitCreateForm', 'stationnum', stationnum));\n\t\tStore.dispatch(change('admitCreateForm', 'boardroomnum', boardroomnum));\n\t}\n\n\tonStationVosChange(index, value) {\n\n\t\tlet {\n\t\t\tstationVos\n\t\t} = this.state;\n\t\tstationVos[index].unitprice = value;\n\n\t\tthis.setState({\n\t\t\tstationVos\n\t\t});\n\t}\n\n\t//录入单价dialog\n\topenStationUnitPriceDialog() {\n\t\tthis.setState({\n\t\t\topenStationUnitPrice: !this.state.openStationUnitPrice\n\t\t});\n\t}\n\n\t//修改租赁期限－开始时间\n\tonChangeLeaseBeginDate(value) {\n\n\t\tlet {\n\t\t\tstationVos\n\t\t} = this.state;\n\n\t\tif (!stationVos.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState({\n\t\t\tstationVos: [],\n\t\t\tdelStationVos: stationVos\n\t\t}, function() {\n\t\t\tthis.calcStationNum();\n\t\t});\n\t}\n\n\t//修改租赁期限-结束时间\n\tonChangeLeaseEndDate(value) {\n\t\tlet {\n\t\t\tstationVos\n\t\t} = this.state;\n\n\t\tif (!stationVos.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState({\n\t\t\tstationVos: [],\n\t\t\tdelStationVos: stationVos\n\t\t}, function() {\n\t\t\tthis.calcStationNum();\n\t\t});\n\t}\n\n\n\t//删除工位\n\tonStationDelete() {\n\t\tlet {\n\t\t\tselectedStation,\n\t\t\tstationVos,\n\t\t\tdelStationVos\n\t\t} = this.state;\n\n\t\tstationVos = stationVos.filter(function(item, index) {\n\t\t\tif (selectedStation.indexOf(index) != -1) {\n\t\t\t\tdelStationVos.push(item);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\n\t\tthis.setState({\n\t\t\tstationVos,\n\t\t\tdelStationVos\n\t\t}, function() {\n\t\t\tthis.calcStationNum();\n\t\t});\n\n\t}\n\n\n\n\tonStationSelect(selectedStation) {\n\t\tthis.setState({\n\t\t\tselectedStation\n\t\t})\n\t}\n\n\topenStationDialog() {\n\n\n\t\tthis.getStationUrl();\n\n\t\tlet {\n\t\t\tchangeValues\n\t\t} = this.props;\n\n\t\tlet {\n\t\t\twherefloor,\n\t\t\tleaseBegindate,\n\t\t\tleaseEnddate\n\t\t} = changeValues;\n\n\t\tif (!wherefloor) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: '请先选择楼层',\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!leaseBegindate) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: '请选择租赁开始时间',\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!leaseEnddate) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: '请选择租赁结束时间',\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t\treturn;\n\t\t}\n\n\t\tif(new Date(leaseEnddate)<new Date(leaseBegindate)){\n\t\t\tNotify.show([{\n\t\t\t\tmessage: '结束时间不能小于开始时间',\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState({\n\t\t\topenStation: !this.state.openStation\n\t\t});\n\t}\n\tonClose() {\n\t\tthis.setState({\n\t\t\topenStation: !this.state.openStation\n\t\t});\n\t}\n\n\t \n\n\n\n\tcomponentDidMount() {\n\t\tlet {\n\t\t\tinitialValues\n\t\t} = this.props;\n\t\tStore.dispatch(initialize('admitCreateForm', initialValues));\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (!this.isInit && nextProps.stationVos.length) {\n\t\t\tlet stationVos = nextProps.stationVos;\n\t\t\tthis.setState({\n\t\t\t\tstationVos,\n\t\t\t});\n\t\t\tthis.isInit = true;\n\t\t}\n\t}\n\topenPreStationUnitPriceDialog=()=> {\n\t\tlet {\n\t\t\tselectedStation\n\t\t} = this.state;\n\t\tif (!selectedStation.length) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: '请先选择要录入单价的工位',\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t\treturn;\n\t\t}\n\t\tthis.openStationUnitPriceDialog();\n\t}\n\n\t//录入单价dialog\n\topenStationUnitPriceDialog=()=> {\n\t\tthis.setState({\n\t\t\topenStationUnitPrice: !this.state.openStationUnitPrice\n\t\t});\n\t}\n\n\t//录入单价\n\tonStationUnitPrice=(form)=> {\n\n\t\tvar value = form.price;\n\t\tlet {\n\t\t\tstationVos,\n\t\t\tselectedStation\n\t\t} = this.state;\n\t\tlet _this = this;\n\t\tlet allMoney = 0;\n\t\tconsole.log(\"44444\",stationVos);\n\n\t\tstationVos = stationVos.map(function(item, index) {\n\t\t\tif (selectedStation.indexOf(index) != -1) {\n\t\t\t\titem.unitprice = value;\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\t\tthis.setAllRent(stationVos);\n\t\t// stationVos.map((item)=>{\n\t\t// \tallMoney += _this.getSingleRent(item);\n\t\t// })\n\t\t// allMoney = parseFloat(allMoney).toFixed(2)*1;\n\n\t\tthis.setState({\n\t\t\tstationVos,\n\t\t\tallRent:allMoney\n\t\t});\n\n\t\tthis.openStationUnitPriceDialog();\n\t}\n\n\n\tonSubmit(form) {\n\n\t\tform = Object.assign({}, form);\n\n\t\tlet {\n\t\t\tstationVos,\n\t\t\tdelStationVos\n\t\t} = this.state;\n\n\t\tlet {\n\t\t\tchangeValues\n\t\t} = this.props;\n\n\t\tform.lessorAddress = changeValues.lessorAddress;\n\n\t\tvar _this = this;\n\n\t\tform.delStationVos = JSON.stringify(delStationVos);\n\t\tform.stationVos = JSON.stringify(stationVos);\n\t\tform.leaseBegindate = dateFormat(form.leaseBegindate, \"yyyy-mm-dd hh:MM:ss\");\n\t\tform.leaseEnddate = dateFormat(form.leaseEnddate, \"yyyy-mm-dd hh:MM:ss\");\n\t\tform.signdate = dateFormat(form.signdate, \"yyyy-mm-dd hh:MM:ss\");\n\t\tform.totalrent = this.state.allRent?this.state.allRent:initialValues.totalrent;\n\n\t\tconst {\n\t\t\tonSubmit\n\t\t} = this.props;\n\t\tonSubmit && onSubmit(form);\n\t}\n\n\tonCancel() {\n\t\tconst {\n\t\t\tonCancel\n\t\t} = this.props;\n\t\tonCancel && onCancel();\n\t}\n\n\tgetStationUrl() {\n\n\t\tlet url = \"/krspace_operate_web/commnuity/communityFloorPlan/toCommunityFloorPlanSel?mainBillId={mainBillId}&communityId={communityId}&floors={floors}&goalStationNum={goalStationNum}&goalBoardroomNum={goalBoardroomNum}&selectedObjs={selectedObjs}&startDate={startDate}&endDate={endDate}&contractId={contractId}\";\n\n\t\tlet {\n\t\t\tchangeValues,\n\t\t\tinitialValues,\n\t\t\toptionValues\n\t\t} = this.props;\n\t\tlet {\n\t\t\tstationVos\n\t\t} = this.state;\n\n\t\tstationVos = stationVos.map(function(item) {\n\t\t\tvar obj = {};\n\t\t\tobj.id = item.stationId;\n\t\t\tobj.type = item.stationType;\n\t\t\tobj.whereFloor = item.whereFloor;\n\t\t\treturn obj;\n\t\t});\n\n\t\tlet params = {\n\t\t\tcontractId: this.context.params.id,\n\t\t\tmainBillId: this.context.params.orderId,\n\t\t\tcommunityId: optionValues.mainbillCommunityId,\n\t\t\tfloors: changeValues.wherefloor,\n\t\t\t//工位\n\t\t\tgoalStationNum: changeValues.stationnum,\n\t\t\t//会议室\n\t\t\tgoalBoardroomNum: changeValues.boardroomnum,\n\t\t\tselectedObjs: JSON.stringify(stationVos),\n\t\t\tstartDate: dateFormat(changeValues.leaseBegindate, \"yyyy-mm-dd\"),\n\t\t\tendDate: dateFormat(changeValues.leaseEnddate, \"yyyy-mm-dd\")\n\n\t\t};\n\n\n\t\tif (Object.keys(params).length) {\n\t\t\tfor (let item in params) {\n\t\t\t\tif (params.hasOwnProperty(item)) {\n\t\t\t\t\turl = url.replace('{' + item + '}', params[item]);\n\t\t\t\t\tdelete params[item];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.setState({\n\t\t\tstationUrl: url\n\t\t});\n\t}\n\n\n\tonIframeClose(billList,data) {\n\n\t\tthis.openStationDialog();\n\n\n\t\tif (!billList) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar _this = this;\n\t\tlet {delStationVos} = this.state;\n\n\t\tlet {\n\t\t\tchangeValues\n\t\t} = this.props;\n        data.deleteData && data.deleteData.map((item)=>{\n                var obj = {};\n                obj.stationId = item.id;\n                obj.whereFloor = item.whereFloor;\n                obj.stationType = item.type;\n                delStationVos.push(obj);\n        })\n\n\t\ttry {\n\t\t\tbillList && billList.map(function(item, index) {\n\t\t\t\titem.leaseBeginDate = changeValues.leaseBegindate;\n\t\t\t\titem.leaseEndDate = changeValues.leaseEnddate;\n\t\t\t\titem.stationId = item.id;\n\t\t\t\titem.stationType = item.type;\n\t\t\t\titem.stationName = item.name;\n\t\t\t\titem.unitprice = '';\n\t\t\t\titem.whereFloor = item.wherefloor;\n\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tconsole.log('billList 租赁明细工位列表为空');\n\t\t}\n\n\n\n\t\tthis.setState({\n\t\t\tstationVos: billList,\n\t\t\tdelStationVos\n\t\t}, function() {\n\t\t\tthis.calcStationNum();\n\t\t});\n\n\t}\n\tonChangeSearchPersonel(personel) {\n\n\t\tStore.dispatch(change('admitCreateForm', 'lessorContacttel', personel.mobile));\n\n\n\n\t}\n\tshowMore = () => {\n\t\tthis.setState({\n\t\t\tHeightAuto: !this.state.HeightAuto\n\t\t})\n\n\t}\n\tonBlur=(item)=>{\n\t\tlet {stationVos} = this.state;\n\t\tlet allMoney = 0;\n\t\tconsole.log('stationVos',stationVos);\n\t\tthis.setAllRent(stationVos);\n\t\t\n\t}\n\tsetAllRent=(list)=>{\n\t\tlet _this = this;\n\t\tfor(let i=0;i<list.length;i++){\n\t\t\tif(!list[i].unitprice){\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tStore.dispatch(Actions.callAPI('getAllRent',{},{stationList:JSON.stringify(list)})).then(function(response) {\n\t\t\t_this.setState({\n\t\t\t\tallRent:response\n\t\t\t})\n\t\t}).catch(function(err) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: err.message,\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t});\n\t}\n\tgetSingleRent=(item)=>{\n\t\t//年月日\n\t\tlet mounth = [31,28,31,30,31,30,31,31,30,31,30,31];\n\t\tlet rentBegin = dateFormat(item.leaseBeginDate, \"yyyy-mm-dd\").split('-');\n\t\tlet rentEnd = dateFormat(item.leaseEndDate, \"yyyy-mm-dd\").split('-');\n\t\tlet rentDay = 0;\n\t\tlet rentMounth = (rentEnd[0]-rentBegin[0])*12+(rentEnd[1]-rentBegin[1]);\n\t\tlet years = rentEnd[0];\n\t\tif(rentBegin[2]-rentEnd[2] == 1){\n\t\t\trentDay = 0;\n\t\t}else{\n\t\t\tlet a =rentEnd[2]-rentBegin[2];\n\t\t\tconsole.log('a',a);\n\t\t\tif(a>=0){\n\t\t\t\trentDay = a+1;\n\n\t\t\t}else{\n\t\t\t\tlet mounthIndex = rentEnd[1]-1;\n\t\t\t\tif((years%4==0 && years%100!=0)||(years%400==0) && rentEnd[1]==2 ){\n\t\t\t\t\trentDay = mounth[mounthIndex]+2+a;\n\t\t\t\t}\n\t\t\t\trentDay = mounth[mounthIndex]+1+a;\n\t\t\t\trentMounth = rentMounth-1;\n\t\t\t}\n\t\t}\n\t\tconsole.log('day',rentMounth,rentDay);\n\t\t//计算日单价\n\t\t// let rentPriceByDay = Math.ceil(((item.unitprice*12)/365)*100)/100;\n\t\tlet rentPriceByDay = ((item.unitprice*12)/365).toFixed(6);\n\t\t//工位总价钱\n\t\tlet allRent = (rentPriceByDay * rentDay) + (rentMounth*item.unitprice);\n\t\tallRent = allRent.toFixed(2)*1;\n\t\tconsole.log('allRent',allRent,rentPriceByDay);\n\t\treturn allRent;\n\t}\n\n\n\trender() {\n\n\t\tlet {\n\t\t\terror,\n\t\t\thandleSubmit,\n\t\t\tpristine,\n\t\t\treset,\n\t\t\tsubmitting,\n\t\t\tinitialValues,\n\t\t\tchangeValues,\n\t\t\toptionValues\n\t\t} = this.props;\n\n\t\tlet {\n\t\t\tfnaCorporationList\n\t\t} = optionValues;\n\n\t\tfnaCorporationList && fnaCorporationList.map(function(item, index) {\n\t\t\tif (changeValues.leaseId == item.id) {\n\t\t\t\tchangeValues.lessorAddress = item.corporationAddress;\n\t\t\t}\n\t\t});\n\n\n\t\tlet {\n\t\t\tstationVos,\n\t\t\tHeightAuto,\n\t\t\tallRent,\n\t\t} = this.state;\n\t\tallRent = (allRent!='-1')?allRent:initialValues.totalrent;\n\t\tvar nzhcn = nzh.cn;\n\t\tlet  allRentName = nzhcn.encodeB(parseFloat(allRent));\n\t\tconsole.log(\"6666666\",stationVos);\n\n\t\treturn (\n\n\n\t\t\t<div>\n<div style={{width:615}}>\n<form className=\"m-edit-reduce\" onSubmit={handleSubmit(this.onSubmit)}>\n\t\t\t<div className=\"cheek\" style={{paddingLeft:0,marginLeft:23}}>\n\t\t\t\t<div className=\"titleBar\" style={{marginLeft:-23}}><span className=\"order-number\">1</span><span className=\"wire\"></span><label className=\"small-title\">租赁明细</label></div>\n\t\t\t\t<div className=\"small-cheek\">\n\t\t\t\t<KrField  name=\"wherefloor\" style={{width:262,marginLeft:25}} component=\"select\" label=\"所在楼层\" options={optionValues.floorList} requireLabel={true} multi={true} />\n\t\t\t\t<KrField style={{width:343,marginLeft:25,position:\"absolute\"}} component=\"group\" label=\"租赁期限\" requireLabel={true}>\n\t\t\t\t\t<ListGroup>\n\t\t\t\t\t\t<ListGroupItem style={{width:'141',padding:0,marginLeft:'-10px',marginTop:'-10px'}}> <KrField  simple={true} style={{width:141}} name=\"leaseBegindate\"  component=\"date\" onChange={this.onChangeLeaseBeginDate}/>  </ListGroupItem>\n\t\t\t\t\t\t<ListGroupItem style={{width:'31',textAlign:'center',padding:0,marginLeft:10,marginTop:'-10px'}} ><span style={{display:'inline-block',lineHeight:'60px',width:'31px',textAlign:'center',left:'10px',position:\"relative\"}}>至</span></ListGroupItem>\n\t\t\t\t\t\t<ListGroupItem style={{width:'141',padding:0,marginTop:'-10px'}}> <KrField simple={true}  name=\"leaseEnddate\" style={{width:141}} component=\"date\" onChange={this.onChangeLeaseEndDate} />  </ListGroupItem>\n\t\t\t\t\t</ListGroup>\n\t\t\t\t</KrField>\n\t\t\t\t<div className=\"detailList\" style={{marginTop:\"-35px\",width:\"620px\",marginLeft:\"35px\"}}>\n\t\t\t\t <DotTitle title='租赁明细' style={{marginTop:53,marginBottom:25}}>\n\t\t\t\t       <Grid style={{marginTop:\"-28px\",marginBottom:\"10px\"}}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col align=\"right\">\n\t\t\t\t\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t\t\t\t\t<Button label=\"删除\"  onTouchTap={this.onStationDelete} />\n\t\t\t\t\t\t\t\t\t    <Button label=\"批量录入单价\"  width={100}  onTouchTap={this.openPreStationUnitPriceDialog} />\n\t\t\t\t\t\t\t\t\t\t<Button label=\"选择工位\"  onTouchTap={this.openStationDialog} />\n\t\t\t\t\t\t\t\t  </ButtonGroup>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\n\t\t\t\t<div  className={HeightAuto?'auto':'stationList'} style={{marginTop:\"-10px\"}}>\n\t\t\t\t<Table onSelect={this.onStationSelect}>\n\t\t\t\t<TableHeader>\n\t\t\t\t<TableHeaderColumn>类别</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn>编号／名称</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn>单价(元/月)</TableHeaderColumn>\n\t\t\t\t\t<TableHeaderColumn>租赁开始时间</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>租赁结束时间</TableHeaderColumn>\n\t\t\t\t\t\t</TableHeader>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{\n\n\t\t\t\t\t\t\tstationVos && stationVos.map((item,index)=>{\n\t\t\t\t\t\t\tvar typeLink = {\n\t\t\t\t\t\t\t\tvalue: this.state.stationVos[index].unitprice,\n\t\t\t\t\t\t\t\trequestChange: this.onStationVosChange.bind(null, index)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow key={index}>\n\t\t\t\t\t\t\t\t\t<TableRowColumn>{(item.stationType == 1) ?'工位':'会议室'}</TableRowColumn>\n\t\t\t\t\t\t\t\t\t<TableRowColumn>{item.stationName}</TableRowColumn>\n\t\t\t\t\t\t\t\t\t<TableRowColumn>\n\t\t\t\t\t\t\t\t\t\t\t<input type=\"text\" name=\"age\"  valueLink={typeLink} onBlur={this.onBlur.bind(this,item)} style={{maxWidth:'128px'}}/>\n\t\t\t\t\t\t\t\t\t</TableRowColumn>\n\t\t\t\t\t\t\t\t\t<TableRowColumn> <KrDate value={item.leaseBeginDate}/></TableRowColumn>\n\t\t\t\t\t\t\t\t\t<TableRowColumn><KrDate value={item.leaseEndDate}/></TableRowColumn>\n\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t </div>\n\t\t\t\t\t\t\t{stationVos.length>5?<div className=\"Btip\"  onTouchTap={this.showMore}> <p><span>{HeightAuto?'收起':'展开'}</span><span className={HeightAuto?'Toprow':'Bottomrow'}></span></p></div>:''}\n                            \n\n\t\t\t\t\t </DotTitle>\n            \t\t <div style={{marginTop:'-20px',marginBottom:60,display:\"none\"}}>服务费总计：<span style={{marginRight:50,color:'red'}}>￥{allRent}</span><span>{allRentName}</span></div>\n                    \n\t\t\t\t\t </div>\n\t\t<div className=\"titleBar\" style={{marginLeft:-23}}><span className=\"order-number\">2</span><span className=\"wire\"></span><label className=\"small-title\">合同文本信息</label></div>\n\t\t\t\t<div className=\"small-cheek\" style={{paddingBottom:0}}>\n\t\t\t\t\t\n\t\t\t\t<KrField grid={1/2}  name=\"mainbillid\" type=\"hidden\" component=\"input\" />\n\t\t\t\t<KrField grid={1/2}  name=\"contractstate\" type=\"hidden\" component=\"input\" />\n\t\t\t\t<KrField grid={1/2}  name=\"contracttype\" type=\"hidden\" component=\"input\" />\n\t\t\t\t<KrField grid={1/2}  name=\"contractVersionType\" type=\"hidden\" component=\"input\" />\n\n\t\t\t\t<KrField style={{width:262,marginLeft:25}} name=\"leaseId\"   component=\"select\" label=\"出租方\" options={optionValues.fnaCorporationList}  requireLabel={true}/>\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}  name=\"lessorAddress\" inline={false} type=\"text\" component=\"labelText\" label=\"地址\" value={changeValues.lessorAddress}/>\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}  name=\"lessorContactid\" component=\"searchPersonel\" label=\"联系人\" onChange={this.onChangeSearchPersonel} placeholder={optionValues.lessorContactName} requireLabel={true}/>\n\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}  name=\"lessorContacttel\" type=\"text\" component=\"input\" label=\"电话\" requireLabel={true}\n\t\t\t\trequiredValue={true} pattern={/(^((\\+86)|(86))?[1][3456789][0-9]{9}$)|(^(0\\d{2,3}-\\d{7,8})(-\\d{1,4})?$)/} errors={{requiredValue:'电话号码为必填项',pattern:'请输入正确电话号'}}/>\n\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}  component=\"labelText\" inline={false} label=\"承租方\" value={optionValues.customerName}/>\n\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}  name=\"leaseAddress\" type=\"text\" component=\"input\" label=\"地址\" requireLabel={true}\n\t\t\t\trequiredValue={true} pattern={/^.{0,120}$/} errors={{requiredValue:'地址为必填项',pattern:'地址最大60位'}} />\n\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}  name=\"leaseContact\" type=\"text\" component=\"input\" label=\"联系人\" requireLabel={true}\n\t\t\t\trequiredValue={true} pattern={/^.{0,20}$/} errors={{requiredValue:'联系人为必填项',pattern:'联系人最大20位'}} />\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}  name=\"leaseContacttel\" type=\"text\" component=\"input\" label=\"电话\" requireLabel={true}\n\t\t\t\trequiredValue={true} pattern={/(^((\\+86)|(86))?[1][3456789][0-9]{9}$)|(^(0\\d{2,3}-\\d{7,8})(-\\d{1,4})?$)/} errors={{requiredValue:'电话号码为必填项',pattern:'请输入正确电话号'}}/>\n\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}  name=\"communityid\" component=\"labelText\" inline={false} label=\"所属社区\" value={optionValues.communityName} />\n\n\t\t\t\t\n                <KrField style={{width:262,marginLeft:25}}  name=\"totaldownpayment\" type=\"text\" component=\"input\" label=\"定金总额\" requireLabel={true}\n\t\t\t\t\t\t\t\trequiredValue={true} pattern={/^\\d{0,16}(\\.\\d{0,2})?$/} errors={{requiredValue:'定金总额为必填项',pattern:'请输入正数金额，小数点后最多两位'}} />\n\t\t\t\t<KrField style={{width:262,marginLeft:25}} name=\"paymentId\"  component=\"select\" label=\"付款方式\" options={optionValues.paymentList} requireLabel={true}/>\n\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}  name=\"contractcode\" type=\"text\" component=\"input\" label=\"合同编号\" requireLabel={true}\n\t\t\t\trequiredValue={true} pattern={/^.{0,50}$/} errors={{requiredValue:'合同编号为必填项',pattern:'合同编号最大50位'}} />\n\t\t\t\t<KrField style={{width:262,marginLeft:25}} name=\"signdate\"  component=\"date\" label=\"签署日期\"  />\n\n\t\t\t\t\n\t\t\t\t<KrField style={{width:545,marginLeft:25}} component=\"group\" label=\"租赁项目\" requireLabel={true}>\n\t\t\t\t\t\t\t\t<KrField style={{width:262}}  name=\"stationnum\" type=\"text\" component=\"labelText\" label=\"工位\" value={changeValues.stationnum} defaultValue={0} />\n\t\t\t\t\t\t\t\t<KrField style={{width:240,marginLeft:25}}  name=\"boardroomnum\" type=\"text\" component=\"labelText\" label=\"会议室\" value={changeValues.boardroomnum} defaultValue={0} />\n\t\t\t\t</KrField>\n\t\t\t\t<KrField  name=\"templockday\"  style={{width:262,marginLeft:25}} component=\"input\" type=\"text\" label=\"保留天数\" requireLabel={true}\n\t\t\t\trequiredValue={true} pattern={/^\\d{0,3}$/} errors={{requiredValue:'保留天数为必填项',pattern:'请输入三位以内正整数'}} />\n\t\t\t\t<KrField style={{width:545,marginLeft:25}}  name=\"contractmark\" component=\"textarea\" label=\"备注\"\n\t\t\t\t maxSize={200} />\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"end-round\"></div>\n\t\t</div>\n\t</div>\n\t\t\t\t<KrField style={{width:545,marginLeft:25,marginTop:'-20px'}}   name=\"fileIdList\" component=\"file\" label=\"上传附件\" defaultValue={optionValues.contractFileList}/>\n\n               \n               \n\n\t\t\t\t\t\t<Grid style={{paddingBottom:50}}>\n\t\t\t\t\t\t<Row >\n\t\t\t\t\t\t<ListGroup>\n\t\t\t\t\t\t\t<ListGroupItem style={{width:'45%',textAlign:'right',paddingRight:15}}><Button  label=\"确定\" type=\"submit\" disabled={pristine || submitting} /></ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem style={{width:'45%',textAlign:'left',paddingLeft:15}}> <Button  label=\"取消\" cancle={true} type=\"button\"  onTouchTap={this.onCancel}/> </ListGroupItem>\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Dialog\n\t\t\t\t\t\ttitle=\"分配工位\"\n\t\t\t\t\t\tautoScrollBodyContent={true}\n\t\t\t\t\t\tonCancel={this.onCancel}\n\t\t\t\t\t\tcontentStyle ={{ width: '100%', maxWidth: 'none'}}\n\t\t\t\t\t\topen={this.state.openStation} onClose={this.onClose}>\n\t\t\t\t\t\t\t<IframeContent src={this.state.stationUrl} onClose={this.onIframeClose}/>\n\t\t\t\t\t  </Dialog>\n\t\t\t\t\t<Dialog\n\t\t\t\t\t\ttitle=\"录入单价\"\n\t\t\t\t\t\tautoScrollBodyContent={true}\n\t\t\t\t\t\topen={this.state.openStationUnitPrice} contentStyle={{width:430}}\n\t\t\t\t\t\tonClose={this.openStationUnitPriceDialog}>\n\t\t\t\t\t\t\t\t<UnitPriceForm  onSubmit={this.onStationUnitPrice} onCancel={this.openStationUnitPriceDialog}/>\n\t\t\t\t\t  </Dialog>\n\n\n\t\t\t</div>);\n\t}\n}\n\n\nconst selector = formValueSelector('admitCreateForm');\n\nconst validate = values => {\n\n\tconst errors = {}\n\n\tif (!values.leaseId) {\n\t\terrors.leaseId = '请填写出租方';\n\t}\n\n\tif (!values.lessorContactid) {\n\t\terrors.lessorContactid = '请填写出租方联系人';\n\t}\n\n\tif (!values.lessorContacttel) {\n\t\terrors.lessorContacttel = '请填写出租方联系电话';\n\t}\n\n\tif (!values.leaseAddress) {\n\t\terrors.leaseAddress = '请填写承租方地址';\n\t}\n\tif (!values.wherefloor) {\n\t\terrors.wherefloor = '请先选择楼层';\n\t}\n\n\tif (!values.leaseContacttel) {\n\t\terrors.leaseContacttel = '请填写承租方电话';\n\t}\n\n\tif (!values.leaseAddress) {\n\t\terrors.leaseAddress = '请填写承租方地址';\n\t}\n\n\tif (values.leaseAddress && !isNaN(values.leaseAddress)) {\n\t\terrors.leaseAddress = '承租方地址不能为数字';\n\t}\n\n\tif (!values.leaseContact) {\n\t\terrors.leaseContact = '请填写承租方联系人';\n\t}\n\n\tif (!values.paymodel) {\n\t\terrors.paymodel = '请填写付款方式';\n\t}\n\n\n\tif (!values.signdate) {\n\t\terrors.signdate = '请填写签署时间';\n\t}\n\tif (!values.templockday) {\n\t\terrors.templockday = '请填写保留天数';\n\t}\n\tif (!values.stationnum && !values.boardroomnum) {\n\t\terrors.stationnum = '租赁项目必须填写一项';\n\t}\n\n\tif (!values.contractcode) {\n\t\terrors.contractcode = '请填写合同编号';\n\t}\n\n\tif (!values.paymentId) {\n\t\terrors.paymentId = '请填写付款方式';\n\t}\n\n\tif (!String(values.totaldownpayment)) {\n\t\terrors.totaldownpayment = '请填写定金总额';\n\t}\n\n\n\tif (values.totaldownpayment && isNaN(values.totaldownpayment)) {\n\t\terrors.totaldownpayment = '定金总额必须为数字';\n\t}\n\n\n\n\treturn errors\n}\n\nNewCreateForm = reduxForm({\n\tform: 'admitCreateForm',\n\t// validate,\n\tenableReinitialize: true,\n\tkeepDirtyOnReinitialize: true\n})(NewCreateForm);\n\nexport default connect((state) => {\n\n\tlet changeValues = {};\n\n\tchangeValues.lessorId = selector(state, 'lessorId');\n\tchangeValues.leaseId = selector(state, 'leaseId');\n\tchangeValues.stationnum = selector(state, 'stationnum') || 0;\n\tchangeValues.boardroomnum = selector(state, 'boardroomnum') || 0;\n\tchangeValues.leaseBegindate = selector(state, 'leaseBegindate') || 0;\n\tchangeValues.leaseEnddate = selector(state, 'leaseEnddate') || 0;\n\tchangeValues.wherefloor = selector(state, 'wherefloor') || 0;\n\n\n\treturn {\n\t\tchangeValues\n\t}\n\n})(NewCreateForm);"]}