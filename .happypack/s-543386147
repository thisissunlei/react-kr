'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.navs = navs;

var _simpleAssign = require('simple-assign');

var _simpleAssign2 = _interopRequireDefault(_simpleAssign);

var _types = require('./types');

var Types = _interopRequireWildcard(_types);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function navs() {
	var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	var action = arguments[1];


	switch (action.type) {
		//用户navs
		case Types.SET_USER_NAVS:
			{
				var items = [].concat(action.response);
				var aa = (0, _simpleAssign2.default)({}, state, { items: items });
				return aa;
			}
		case Types.SET_NAVS_CURRENT_CHILD_ROUTER:
			{
				return _extends({}, state, { current_child: action.router });
			}

		case Types.SET_NAVS_CURRENT_PARENT_ROUTER:
			{
				return _extends({}, state, { current_parent: action.router });
			}

		case Types.SET_NAVS_CURRENT_ROUTER:
			{
				return _extends({}, state, { current_router: action.router });
			}

		case Types.SET_NAVS_ACTIVITY:
			{

				var _items = state.items;

				var router = action.router;
				var childRouter = action.childRouter;

				_items.forEach(function (item, index) {
					if (item.router && item.router == router) {
						item.active = true;
					} else {
						item.active = false;
					}
					if (item.hasOwnProperty('menuItems') && Object.prototype.toString.call(item.menuItems) === '[object Array]' && item.menuItems.length) {
						item.menuItems.forEach(function (child) {

							if (child.hasOwnProperty('menuItems') && Object.prototype.toString.call(child.menuItems) === '[object Array]' && child.menuItems && child.menuItems.length) {
								child.menuItems.forEach(function (children) {
									if (children.router == childRouter) {
										children.active = true;
									} else {
										children.active = false;
									}
								});
							}
						});
					}
				});

				return _extends({}, state, { items: _items });
			}

		case Types.SET_NAVS_CURRENT_ITEMS:
			{
				var _items2 = state.items;
				var router = action.router;

				var currentItem = _items2.filter(function (item, index) {
					return item.router && item.router == router;
				}).pop() || { menuItems: [] };

				var children = currentItem.menuItems || [];

				return _extends({}, state, { current_items: children });
			}

		case Types.SET_NAVS_CURRENT_ITEM_ACTIVE:
			{
				return _extends({}, state);
			}

		default:
			{
				return state;
			}

	}
}
;

var _temp = function () {
	if (typeof __REACT_HOT_LOADER__ === 'undefined') {
		return;
	}

	__REACT_HOT_LOADER__.register(navs, 'navs', '/Users/tmac_zc/Code/kr-admin/src/Redux/Modules/Navs/reducers.js');
}();

;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9SZWR1eC9Nb2R1bGVzL05hdnMvcmVkdWNlcnMuanMiXSwibmFtZXMiOlsibmF2cyIsIlR5cGVzIiwic3RhdGUiLCJhY3Rpb24iLCJ0eXBlIiwiU0VUX1VTRVJfTkFWUyIsIml0ZW1zIiwiY29uY2F0IiwicmVzcG9uc2UiLCJhYSIsIlNFVF9OQVZTX0NVUlJFTlRfQ0hJTERfUk9VVEVSIiwiY3VycmVudF9jaGlsZCIsInJvdXRlciIsIlNFVF9OQVZTX0NVUlJFTlRfUEFSRU5UX1JPVVRFUiIsImN1cnJlbnRfcGFyZW50IiwiU0VUX05BVlNfQ1VSUkVOVF9ST1VURVIiLCJjdXJyZW50X3JvdXRlciIsIlNFVF9OQVZTX0FDVElWSVRZIiwiY2hpbGRSb3V0ZXIiLCJmb3JFYWNoIiwiaXRlbSIsImluZGV4IiwiYWN0aXZlIiwiaGFzT3duUHJvcGVydHkiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJ0b1N0cmluZyIsImNhbGwiLCJtZW51SXRlbXMiLCJsZW5ndGgiLCJjaGlsZCIsImNoaWxkcmVuIiwiU0VUX05BVlNfQ1VSUkVOVF9JVEVNUyIsImN1cnJlbnRJdGVtIiwiZmlsdGVyIiwicG9wIiwiY3VycmVudF9pdGVtcyIsIlNFVF9OQVZTX0NVUlJFTlRfSVRFTV9BQ1RJVkUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O1FBRWdCQSxJLEdBQUFBLEk7Ozs7OztBQUZoQjs7SUFBWUMsSzs7Ozs7O0FBRUwsU0FBU0QsSUFBVCxHQUFnQztBQUFBLEtBQWxCRSxLQUFrQix1RUFBVixFQUFVO0FBQUEsS0FBUEMsTUFBTzs7O0FBRXRDLFNBQU9BLE9BQU9DLElBQWQ7QUFDQztBQUNBLE9BQUtILE1BQU1JLGFBQVg7QUFBeUI7QUFDeEIsUUFBSUMsUUFBUSxHQUFHQyxNQUFILENBQVVKLE9BQU9LLFFBQWpCLENBQVo7QUFDQSxRQUFJQyxLQUFLLDRCQUFjLEVBQWQsRUFBaUJQLEtBQWpCLEVBQXVCLEVBQUNJLFlBQUQsRUFBdkIsQ0FBVDtBQUNBLFdBQU9HLEVBQVA7QUFDQTtBQUNELE9BQUtSLE1BQU1TLDZCQUFYO0FBQXlDO0FBQ3hDLHdCQUFXUixLQUFYLElBQWlCUyxlQUFjUixPQUFPUyxNQUF0QztBQUNBOztBQUVELE9BQUtYLE1BQU1ZLDhCQUFYO0FBQTBDO0FBQ3pDLHdCQUFXWCxLQUFYLElBQWlCWSxnQkFBZVgsT0FBT1MsTUFBdkM7QUFDQTs7QUFFRCxPQUFLWCxNQUFNYyx1QkFBWDtBQUFtQztBQUNsQyx3QkFBV2IsS0FBWCxJQUFpQmMsZ0JBQWViLE9BQU9TLE1BQXZDO0FBQ0E7O0FBRUQsT0FBS1gsTUFBTWdCLGlCQUFYO0FBQTZCOztBQUU1QixRQUFJWCxTQUFRSixNQUFNSSxLQUFsQjs7QUFFQSxRQUFJTSxTQUFTVCxPQUFPUyxNQUFwQjtBQUNBLFFBQUlNLGNBQWNmLE9BQU9lLFdBQXpCOztBQUVBWixXQUFNYSxPQUFOLENBQWMsVUFBU0MsSUFBVCxFQUFjQyxLQUFkLEVBQW9CO0FBQ2pDLFNBQUdELEtBQUtSLE1BQUwsSUFBZVEsS0FBS1IsTUFBTCxJQUFnQkEsTUFBbEMsRUFBeUM7QUFDeENRLFdBQUtFLE1BQUwsR0FBYyxJQUFkO0FBQ0EsTUFGRCxNQUVLO0FBQ0pGLFdBQUtFLE1BQUwsR0FBYyxLQUFkO0FBQ0E7QUFDRCxTQUFHRixLQUFLRyxjQUFMLENBQW9CLFdBQXBCLEtBQW1DQyxPQUFPQyxTQUFQLENBQWlCQyxRQUFqQixDQUEwQkMsSUFBMUIsQ0FBK0JQLEtBQUtRLFNBQXBDLE1BQW1ELGdCQUF0RixJQUEwR1IsS0FBS1EsU0FBTCxDQUFlQyxNQUE1SCxFQUFtSTtBQUNqSVQsV0FBS1EsU0FBTCxDQUFlVCxPQUFmLENBQXVCLFVBQVNXLEtBQVQsRUFBZTs7QUFFcEMsV0FBR0EsTUFBTVAsY0FBTixDQUFxQixXQUFyQixLQUFxQ0MsT0FBT0MsU0FBUCxDQUFpQkMsUUFBakIsQ0FBMEJDLElBQTFCLENBQStCRyxNQUFNRixTQUFyQyxNQUFvRCxnQkFBekYsSUFBNkdFLE1BQU1GLFNBQW5ILElBQWdJRSxNQUFNRixTQUFOLENBQWdCQyxNQUFuSixFQUEwSjtBQUN4SkMsY0FBTUYsU0FBTixDQUFnQlQsT0FBaEIsQ0FBd0IsVUFBU1ksUUFBVCxFQUFrQjtBQUN4QyxhQUFHQSxTQUFTbkIsTUFBVCxJQUFtQk0sV0FBdEIsRUFBa0M7QUFDaENhLG1CQUFTVCxNQUFULEdBQWtCLElBQWxCO0FBQ0QsVUFGRCxNQUVLO0FBQ0pTLG1CQUFTVCxNQUFULEdBQWtCLEtBQWxCO0FBQ0E7QUFDRixTQU5EO0FBT0Q7QUFFRixPQVpEO0FBYUQ7QUFDRCxLQXJCRDs7QUF3QkEsd0JBQVdwQixLQUFYLElBQWlCSSxhQUFqQjtBQUNBOztBQUVELE9BQUtMLE1BQU0rQixzQkFBWDtBQUFrQztBQUNqQyxRQUFNMUIsVUFBUUosTUFBTUksS0FBcEI7QUFDQSxRQUFJTSxTQUFTVCxPQUFPUyxNQUFwQjs7QUFFQSxRQUFNcUIsY0FBYzNCLFFBQU00QixNQUFOLENBQWEsVUFBU2QsSUFBVCxFQUFjQyxLQUFkLEVBQW9CO0FBQ3BELFlBQU9ELEtBQUtSLE1BQUwsSUFBZVEsS0FBS1IsTUFBTCxJQUFnQkEsTUFBdEM7QUFDQSxLQUZtQixFQUVqQnVCLEdBRmlCLE1BRVQsRUFBQ1AsV0FBVSxFQUFYLEVBRlg7O0FBSUEsUUFBTUcsV0FBV0UsWUFBWUwsU0FBWixJQUF3QixFQUF6Qzs7QUFFQSx3QkFBVzFCLEtBQVgsSUFBaUJrQyxlQUFjTCxRQUEvQjtBQUNBOztBQUVELE9BQUs5QixNQUFNb0MsNEJBQVg7QUFBd0M7QUFDdkMsd0JBQVduQyxLQUFYO0FBQ0E7O0FBRUQ7QUFBUTtBQUNQLFdBQU9BLEtBQVA7QUFDQTs7QUF4RUY7QUEyRUE7Ozs7Ozs7OytCQTdFZUYsSSIsImZpbGUiOiJyZWR1Y2Vycy5qcyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvdG1hY196Yy9Db2RlL2tyLWFkbWluIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVHlwZXMgZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBuYXZzKHN0YXRlID0ge30sYWN0aW9uKXtcblxuXHRzd2l0Y2goYWN0aW9uLnR5cGUpe1xuXHRcdC8v55So5oi3bmF2c1xuXHRcdGNhc2UgVHlwZXMuU0VUX1VTRVJfTkFWUzp7XG5cdFx0XHR2YXIgaXRlbXMgPSBbXS5jb25jYXQoYWN0aW9uLnJlc3BvbnNlKTtcblx0XHRcdHZhciBhYSA9IE9iamVjdC5hc3NpZ24oe30sc3RhdGUse2l0ZW1zfSk7XG5cdFx0XHRyZXR1cm4gYWE7XG5cdFx0fVxuXHRcdGNhc2UgVHlwZXMuU0VUX05BVlNfQ1VSUkVOVF9DSElMRF9ST1VURVI6e1xuXHRcdFx0cmV0dXJuIHsuLi5zdGF0ZSxjdXJyZW50X2NoaWxkOmFjdGlvbi5yb3V0ZXJ9O1xuXHRcdH1cblxuXHRcdGNhc2UgVHlwZXMuU0VUX05BVlNfQ1VSUkVOVF9QQVJFTlRfUk9VVEVSOntcblx0XHRcdHJldHVybiB7Li4uc3RhdGUsY3VycmVudF9wYXJlbnQ6YWN0aW9uLnJvdXRlcn07XG5cdFx0fVxuXG5cdFx0Y2FzZSBUeXBlcy5TRVRfTkFWU19DVVJSRU5UX1JPVVRFUjp7XG5cdFx0XHRyZXR1cm4gey4uLnN0YXRlLGN1cnJlbnRfcm91dGVyOmFjdGlvbi5yb3V0ZXJ9O1xuXHRcdH1cblxuXHRcdGNhc2UgVHlwZXMuU0VUX05BVlNfQUNUSVZJVFk6e1xuXG5cdFx0XHRsZXQgaXRlbXMgPSBzdGF0ZS5pdGVtcztcblxuXHRcdFx0dmFyIHJvdXRlciA9IGFjdGlvbi5yb3V0ZXI7XG5cdFx0XHR2YXIgY2hpbGRSb3V0ZXIgPSBhY3Rpb24uY2hpbGRSb3V0ZXI7XG5cblx0XHRcdGl0ZW1zLmZvckVhY2goZnVuY3Rpb24oaXRlbSxpbmRleCl7XG5cdFx0XHRcdGlmKGl0ZW0ucm91dGVyICYmIGl0ZW0ucm91dGVyID09ICByb3V0ZXIpe1xuXHRcdFx0XHRcdGl0ZW0uYWN0aXZlID0gdHJ1ZTtcblx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0aXRlbS5hY3RpdmUgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZihpdGVtLmhhc093blByb3BlcnR5KCdtZW51SXRlbXMnKSYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVtLm1lbnVJdGVtcykgPT09ICdbb2JqZWN0IEFycmF5XScgJiYgaXRlbS5tZW51SXRlbXMubGVuZ3RoKXtcblx0XHRcdFx0XHRcdGl0ZW0ubWVudUl0ZW1zLmZvckVhY2goZnVuY3Rpb24oY2hpbGQpe1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYoY2hpbGQuaGFzT3duUHJvcGVydHkoJ21lbnVJdGVtcycpICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChjaGlsZC5tZW51SXRlbXMpID09PSAnW29iamVjdCBBcnJheV0nICYmIGNoaWxkLm1lbnVJdGVtcyAmJiBjaGlsZC5tZW51SXRlbXMubGVuZ3RoKXtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hpbGQubWVudUl0ZW1zLmZvckVhY2goZnVuY3Rpb24oY2hpbGRyZW4pe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoY2hpbGRyZW4ucm91dGVyID09IGNoaWxkUm91dGVyKXtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaGlsZHJlbi5hY3RpdmUgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNoaWxkcmVuLmFjdGl2ZSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXG5cdFx0XHRyZXR1cm4gey4uLnN0YXRlLGl0ZW1zfTtcblx0XHR9XG5cblx0XHRjYXNlIFR5cGVzLlNFVF9OQVZTX0NVUlJFTlRfSVRFTVM6e1xuXHRcdFx0Y29uc3QgaXRlbXMgPSBzdGF0ZS5pdGVtcztcblx0XHRcdHZhciByb3V0ZXIgPSBhY3Rpb24ucm91dGVyO1xuXG5cdFx0XHRjb25zdCBjdXJyZW50SXRlbSA9IGl0ZW1zLmZpbHRlcihmdW5jdGlvbihpdGVtLGluZGV4KXtcblx0XHRcdFx0cmV0dXJuIGl0ZW0ucm91dGVyICYmIGl0ZW0ucm91dGVyID09ICByb3V0ZXI7XG5cdFx0XHR9KS5wb3AoKSB8fHttZW51SXRlbXM6W119O1xuXG5cdFx0XHRjb25zdCBjaGlsZHJlbiA9IGN1cnJlbnRJdGVtLm1lbnVJdGVtcyB8fFtdO1xuXG5cdFx0XHRyZXR1cm4gey4uLnN0YXRlLGN1cnJlbnRfaXRlbXM6Y2hpbGRyZW59O1xuXHRcdH1cblxuXHRcdGNhc2UgVHlwZXMuU0VUX05BVlNfQ1VSUkVOVF9JVEVNX0FDVElWRTp7XG5cdFx0XHRyZXR1cm4gey4uLnN0YXRlfTtcblx0XHR9XG5cblx0XHRkZWZhdWx0Ontcblx0XHRcdHJldHVybiBzdGF0ZTtcblx0XHR9XG5cblx0fVxufVxuIl19