'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _simpleAssign = require('simple-assign');

var _simpleAssign2 = _interopRequireDefault(_simpleAssign);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _reactRedux = require('react-redux');

var _reactAddonsPureRenderMixin = require('react-addons-pure-render-mixin');

var _reactAddonsPureRenderMixin2 = _interopRequireDefault(_reactAddonsPureRenderMixin);

var _Redux = require('kr/Redux');

var _dateformat = require('dateformat');

var _dateformat2 = _interopRequireDefault(_dateformat);

var _krUi = require('kr-ui');

require('./index.less');

var _SearchNotDateForm = require('./SearchNotDateForm');

var _SearchNotDateForm2 = _interopRequireDefault(_SearchNotDateForm);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var NotOpenPanel = function (_Component) {
	_inherits(NotOpenPanel, _Component);

	function NotOpenPanel(props, context) {
		_classCallCheck(this, NotOpenPanel);

		var _this = _possibleConstructorReturn(this, (NotOpenPanel.__proto__ || Object.getPrototypeOf(NotOpenPanel)).call(this, props, context));

		_this.onStartNotChange = function (startD) {
			var searchParams = _this.state.searchParams;

			var start = Date.parse((0, _dateformat2.default)(startD, "yyyy-mm-dd hh:MM:ss"));
			var end = Date.parse((0, _dateformat2.default)(searchParams.endDate, "yyyy-mm-dd hh:MM:ss"));
			_this.setState({
				startValue: startD

			}, function () {

				if (start > end) {
					_krUi.Message.error('开始时间不能大于结束时间');
					return;
				}
				var startDate = this.state.startValue;
				searchParams = (0, _simpleAssign2.default)({}, searchParams, { startDate: this.state.startValue, endDate: this.state.endValue || searchParams.endDate });
				this.setState({
					searchParams: searchParams
				}, function () {});
			});
		};

		_this.onEndNotChange = function (endD) {
			var searchParams = _this.state.searchParams;

			var start = Date.parse((0, _dateformat2.default)(searchParams.startDate, "yyyy-mm-dd hh:MM:ss"));
			var end = Date.parse((0, _dateformat2.default)(endD, "yyyy-mm-dd hh:MM:ss"));
			_this.setState({
				endValue: endD
			}, function () {

				if (start > end) {
					_krUi.Message.error('开始时间不能大于结束时间');
					return;
				}
				var endDate = this.state.endValue;
				searchParams = (0, _simpleAssign2.default)({}, searchParams, { startDate: this.state.startValue || searchParams.startDate, endDate: this.state.endValue });
				this.setState({
					searchParams: searchParams
				}, function () {});
			});
		};

		_this.shouldComponentUpdate = _reactAddonsPureRenderMixin2.default.shouldComponentUpdate.bind(_this);
		_this.state = {
			searchParams: {
				groupId: _this.props.groupId,
				startDate: _this.props.todayDate,
				endDate: _this.props.todayDate
			},
			startValue: '',
			endValue: ''

		};

		return _this;
	}

	_createClass(NotOpenPanel, [{
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			this.setState({
				searchParams: {
					groupId: nextProps.groupId,
					startDate: this.props.todayDate,
					endDate: this.props.todayDate
				}
			});
		}
	}, {
		key: 'render',
		value: function render() {
			var searchParams = this.state.searchParams;

			return _react2.default.createElement(
				'div',
				{ className: 'notOpenBack', style: { background: '#fff', marginBottom: '20' } },
				_react2.default.createElement(
					'div',
					{ className: 'ui-open-in' },
					_react2.default.createElement(
						_krUi.Grid,
						{ style: { height: '76' } },
						_react2.default.createElement(
							_krUi.Row,
							null,
							_react2.default.createElement(
								_krUi.Col,
								{ align: 'left', md: 4, style: { marginTop: '25' } },
								_react2.default.createElement(
									'span',
									{ className: 'ui-pic-Notopen' },
									'\u62DB\u5546\u6570\u636E\u7EDF\u8BA1-'
								),
								_react2.default.createElement(
									'span',
									{ className: 'static-openCompany' },
									'\u672A\u5F00\u4E1A'
								),
								_react2.default.createElement(
									'span',
									{ className: 'static-upload' },
									'\u5B9E\u65F6\u66F4\u65B0'
								)
							),
							_react2.default.createElement(
								_krUi.Col,
								{ align: 'right', md: 8 },
								_react2.default.createElement(_SearchNotDateForm2.default, { onStartNotChange: this.onStartNotChange, onEndNotChange: this.onEndNotChange, todayDate: searchParams.startDate, todayEndDate: searchParams.endDate })
							)
						)
					),
					_react2.default.createElement(
						'div',
						{ className: 'ui-table-wrap' },
						_react2.default.createElement(
							_krUi.Table,
							{ style: { marginTop: 0 },
								displayCheckbox: false,
								ajax: true,
								ajaxUrlName: 'notOpenCompanyData',
								ajaxFieldListName: 'list',
								ajaxParams: this.state.searchParams
							},
							_react2.default.createElement(
								_krUi.TableHeader,
								null,
								_react2.default.createElement(
									_krUi.TableHeaderColumn,
									null,
									'\u57CE\u5E02'
								),
								_react2.default.createElement(
									_krUi.TableHeaderColumn,
									null,
									'\u793E\u533A'
								),
								_react2.default.createElement(
									_krUi.TableHeaderColumn,
									null,
									'\u603B\u5DE5\u4F4D'
								),
								_react2.default.createElement(
									_krUi.TableHeaderColumn,
									null,
									'\u53EF\u51FA\u79DF\u5DE5\u4F4D'
								),
								_react2.default.createElement(
									_krUi.TableHeaderColumn,
									{ style: { textAlign: 'center' } },
									_react2.default.createElement(
										'span',
										{ style: { display: 'inline-block', lineHeight: '16px' } },
										'\u5F00\u4E1A'
									),
									_react2.default.createElement(
										'span',
										{ style: { display: 'inline-block', lineHeight: '16px' } },
										'\u7B2C\u4E00\u4E2A\u6708\u51FA\u79DF\u7387'
									)
								),
								_react2.default.createElement(
									_krUi.TableHeaderColumn,
									{ style: { textAlign: 'center' } },
									_react2.default.createElement(
										'span',
										{ style: { display: 'inline-block', lineHeight: '16px' } },
										'\u5F00\u4E1A'
									),
									_react2.default.createElement(
										'span',
										{ style: { display: 'inline-block', lineHeight: '16px' } },
										'\u7B2C\u4E8C\u4E2A\u6708\u51FA\u79DF\u7387'
									)
								),
								_react2.default.createElement(
									_krUi.TableHeaderColumn,
									{ style: { textAlign: 'center' } },
									_react2.default.createElement(
										'span',
										{ style: { display: 'inline-block', lineHeight: '16px' } },
										'\u5F00\u4E1A'
									),
									_react2.default.createElement(
										'span',
										{ style: { display: 'inline-block', lineHeight: '16px' } },
										'\u7B2C\u4E09\u4E2A\u6708\u51FA\u79DF\u7387'
									)
								),
								_react2.default.createElement(
									_krUi.TableHeaderColumn,
									null,
									'\u65B0\u589E\u610F\u5411\u5DE5\u4F4D'
								),
								_react2.default.createElement(
									_krUi.TableHeaderColumn,
									null,
									'\u7D2F\u8BA1\u610F\u5411\u5DE5\u4F4D'
								),
								_react2.default.createElement(
									_krUi.TableHeaderColumn,
									null,
									'\u5E73\u5747\u5355\u4EF7'
								)
							),
							_react2.default.createElement(
								_krUi.TableBody,
								null,
								_react2.default.createElement(
									_krUi.TableRow,
									null,
									_react2.default.createElement(_krUi.TableRowColumn, { name: 'cityName' }),
									_react2.default.createElement(_krUi.TableRowColumn, { name: 'communityName', component: function component(value, oldValue) {
											var maxWidth = 6;
											if (value.length > maxWidth) {
												value = value.substring(0, 6) + "...";
											}
											return _react2.default.createElement(
												'div',
												{ style: { paddingTop: '5px' }, className: 'tooltipParent' },
												_react2.default.createElement(
													'span',
													{ className: 'tableOver' },
													value
												),
												_react2.default.createElement(
													_krUi.Tooltip,
													{ offsetTop: 8, place: 'top' },
													oldValue
												)
											);
										} }),
									_react2.default.createElement(_krUi.TableRowColumn, { name: 'totalStation' }),
									_react2.default.createElement(_krUi.TableRowColumn, { name: 'unUsedStation' }),
									_react2.default.createElement(_krUi.TableRowColumn, { name: 'firstMonth' }),
									_react2.default.createElement(_krUi.TableRowColumn, { name: 'secondMonth' }),
									_react2.default.createElement(_krUi.TableRowColumn, { name: 'thirdMonth' }),
									_react2.default.createElement(_krUi.TableRowColumn, { name: 'newIntention' }),
									_react2.default.createElement(_krUi.TableRowColumn, { name: 'totalIntention' }),
									_react2.default.createElement(_krUi.TableRowColumn, { name: 'averagePrice' })
								)
							)
						)
					)
				)
			);
		}
	}]);

	return NotOpenPanel;
}(_react.Component);

NotOpenPanel.displayName = 'NotOpenPanel';
NotOpenPanel.defaultProps = {
	todayDate: '2017-1-1'
};
NotOpenPanel.propTypes = {
	groupId: _react2.default.PropTypes.number,
	todayDate: _react2.default.PropTypes.string
};
exports.default = NotOpenPanel;
;

var _temp = function () {
	if (typeof __REACT_HOT_LOADER__ === 'undefined') {
		return;
	}

	__REACT_HOT_LOADER__.register(NotOpenPanel, 'NotOpenPanel', '/Users/tmac_zc/Code/kr-admin/src/Containers/Statistical/Home/PanelComponents/NotOpenPanel/index.js');
}();

;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9Db250YWluZXJzL1N0YXRpc3RpY2FsL0hvbWUvUGFuZWxDb21wb25lbnRzL05vdE9wZW5QYW5lbC9pbmRleC5qcyJdLCJuYW1lcyI6WyJOb3RPcGVuUGFuZWwiLCJwcm9wcyIsImNvbnRleHQiLCJvblN0YXJ0Tm90Q2hhbmdlIiwic3RhcnREIiwic2VhcmNoUGFyYW1zIiwic3RhdGUiLCJzdGFydCIsIkRhdGUiLCJwYXJzZSIsImVuZCIsImVuZERhdGUiLCJzZXRTdGF0ZSIsInN0YXJ0VmFsdWUiLCJlcnJvciIsInN0YXJ0RGF0ZSIsImVuZFZhbHVlIiwib25FbmROb3RDaGFuZ2UiLCJlbmREIiwic2hvdWxkQ29tcG9uZW50VXBkYXRlIiwiYmluZCIsImdyb3VwSWQiLCJ0b2RheURhdGUiLCJuZXh0UHJvcHMiLCJiYWNrZ3JvdW5kIiwibWFyZ2luQm90dG9tIiwiaGVpZ2h0IiwibWFyZ2luVG9wIiwidGV4dEFsaWduIiwiZGlzcGxheSIsImxpbmVIZWlnaHQiLCJ2YWx1ZSIsIm9sZFZhbHVlIiwibWF4V2lkdGgiLCJsZW5ndGgiLCJzdWJzdHJpbmciLCJwYWRkaW5nVG9wIiwiZGlzcGxheU5hbWUiLCJkZWZhdWx0UHJvcHMiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJudW1iZXIiLCJzdHJpbmciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOztBQUNBOzs7O0FBQ0E7O0FBQ0E7Ozs7QUFDQTs7QUFzQkE7O0FBQ0E7Ozs7Ozs7Ozs7OztJQUdxQkEsWTs7O0FBVXBCLHVCQUFZQyxLQUFaLEVBQWtCQyxPQUFsQixFQUEwQjtBQUFBOztBQUFBLDBIQUNuQkQsS0FEbUIsRUFDWkMsT0FEWTs7QUFBQSxRQW1CdkJDLGdCQW5CdUIsR0FtQk4sVUFBQ0MsTUFBRCxFQUFVO0FBQUEsT0FDckJDLFlBRHFCLEdBQ1AsTUFBS0MsS0FERSxDQUNyQkQsWUFEcUI7O0FBRXZCLE9BQUlFLFFBQU1DLEtBQUtDLEtBQUwsQ0FBVywwQkFBV0ws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cEIsRUFBdUIsT0FBTSxLQUE3QjtBQUFvQ0M7QUFBcEM7QUFBcEcsWUFBUjtBQUN0QixXQU5ELEdBRkM7QUFTRCwrREFBZ0IsTUFBSyxjQUFyQixHQVRDO0FBVUQsK0RBQWdCLE1BQUssZUFBckIsR0FWQztBQVdELCtEQUFnQixNQUFLLFlBQXJCLEdBWEM7QUFZRCwrREFBZ0IsTUFBSyxhQUFyQixHQVpDO0FBYUQsK0RBQWdCLE1BQUssWUFBckIsR0FiQztBQWNELCtEQUFnQixNQUFLLGNBQXJCLEdBZEM7QUFlRCwrREFBZ0IsTUFBSyxnQkFBckIsR0FmQztBQWdCRCwrREFBZ0IsTUFBSyxjQUFyQjtBQWhCQztBQURIO0FBcEJDO0FBREU7QUFkSjtBQURPLElBRFI7QUErREE7Ozs7OztBQXZKbUJoQyxZLENBQ1pxQyxXLEdBQWMsYztBQURGckMsWSxDQUVac0MsWSxHQUFlO0FBQ3BCaEIsWUFBVTtBQURVLEM7QUFGSHRCLFksQ0FLVnVDLFMsR0FBWTtBQUNyQmxCLFVBQVEsZ0JBQU1tQixTQUFOLENBQWdCQyxNQURIO0FBRXJCbkIsWUFBVSxnQkFBTWtCLFNBQU4sQ0FBZ0JFO0FBRkwsQztrQkFMRjFDLFk7Ozs7Ozs7OytCQUFBQSxZIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy90bWFjX3pjL0NvZGUva3ItYWRtaW4iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3Qse0NvbXBvbmVudH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBQdXJlUmVuZGVyTWl4aW4gZnJvbSAncmVhY3QtYWRkb25zLXB1cmUtcmVuZGVyLW1peGluJztcbmltcG9ydCB7QWN0aW9ucyxTdG9yZX0gZnJvbSAna3IvUmVkdXgnO1xuaW1wb3J0IGRhdGVGb3JtYXQgZnJvbSAnZGF0ZWZvcm1hdCc7XG5pbXBvcnQge1xuXHRLckZpZWxkLFxuXHRUYWJsZSxcblx0VGFibGVCb2R5LFxuXHRUYWJsZUhlYWRlcixcblx0VGFibGVIZWFkZXJDb2x1bW4sXG5cdFRhYmxlUm93LFxuXHRUYWJsZVJvd0NvbHVtbixcblx0VGFibGVGb290ZXIsXG5cdEJ1dHRvbixcblx0U2VjdGlvbixcblx0R3JpZCxcblx0Um93LFxuXHRDb2wsXG5cdE5vdGlmeSxcblx0RGlhbG9nLFxuXHRMaXN0R3JvdXAsXG5cdExpc3RHcm91cEl0ZW0sXG5cdE1lc3NhZ2UsXG5cdFRvb2x0aXAsXG5cdEZvcm1cbn0gZnJvbSAna3ItdWknO1xuaW1wb3J0ICcuL2luZGV4Lmxlc3MnO1xuaW1wb3J0IFNlYXJjaE5vdERhdGVGb3JtIGZyb20gJy4vU2VhcmNoTm90RGF0ZUZvcm0nO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdE9wZW5QYW5lbCAgZXh0ZW5kcyBDb21wb25lbnR7XG5cdFx0c3RhdGljIGRpc3BsYXlOYW1lID0gJ05vdE9wZW5QYW5lbCc7XG5cdFx0c3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcblx0XHRcdFx0dG9kYXlEYXRlOicyMDE3LTEtMSdcblx0XHR9XG4gICAgc3RhdGljIHByb3BUeXBlcyA9IHtcblx0XHRncm91cElkOlJlYWN0LlByb3BUeXBlcy5udW1iZXIsXG5cdFx0dG9kYXlEYXRlOlJlYWN0LlByb3BUeXBlcy5zdHJpbmdcblx0fVxuXG5cdGNvbnN0cnVjdG9yKHByb3BzLGNvbnRleHQpe1xuXHRcdHN1cGVyKHByb3BzLCBjb250ZXh0KTtcblxuXHRcdHRoaXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gUHVyZVJlbmRlck1peGluLnNob3VsZENvbXBvbmVudFVwZGF0ZS5iaW5kKHRoaXMpO1xuXHQgICAgdGhpcy5zdGF0ZSA9IHtcblx0XHRcdHNlYXJjaFBhcmFtczoge1xuXHRcdFx0XHRncm91cElkOnRoaXMucHJvcHMuZ3JvdXBJZCxcblx0XHRcdFx0c3RhcnREYXRlOnRoaXMucHJvcHMudG9kYXlEYXRlLFxuXHRcdFx0XHRlbmREYXRlOnRoaXMucHJvcHMudG9kYXlEYXRlXG5cdFx0XHR9LFxuXHRcdFx0c3RhcnRWYWx1ZTonJyxcblx0XHRcdGVuZFZhbHVlOicnXG5cblx0XHR9XG5cblx0fVxuXG5cblxuICAgIG9uU3RhcnROb3RDaGFuZ2U9KHN0YXJ0RCk9PntcbiAgICBcdGxldCB7c2VhcmNoUGFyYW1zfT10aGlzLnN0YXRlO1xuICAgICAgICBsZXQgc3RhcnQ9RGF0ZS5wYXJzZShkYXRlRm9ybWF0KHN0YXJ0RCxcInl5eXktbW0tZGQgaGg6TU06c3NcIikpO1xuICAgICAgICBsZXQgZW5kPURhdGUucGFyc2UoZGF0ZUZvcm1hdChzZWFyY2hQYXJhbXMuZW5kRGF0ZSxcInl5eXktbW0tZGQgaGg6TU06c3NcIikpXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBcdHN0YXJ0VmFsdWU6c3RhcnREXG5cbiAgICAgICAgfSxmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgXHRpZihzdGFydD5lbmQpe1xuXHQgICAgICAgICBNZXNzYWdlLmVycm9yKCflvIDlp4vml7bpl7TkuI3og73lpKfkuo7nu5PmnZ/ml7bpl7QnKTtcblx0ICAgICAgICAgIHJldHVybiA7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGxldCBzdGFydERhdGU9dGhpcy5zdGF0ZS5zdGFydFZhbHVlO1xuXHQgICAgXHRzZWFyY2hQYXJhbXMgPSBPYmplY3QuYXNzaWduKHt9LCBzZWFyY2hQYXJhbXMsIHtzdGFydERhdGU6dGhpcy5zdGF0ZS5zdGFydFZhbHVlLGVuZERhdGU6dGhpcy5zdGF0ZS5lbmRWYWx1ZXx8c2VhcmNoUGFyYW1zLmVuZERhdGV9KTtcblx0ICAgIFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdHNlYXJjaFBhcmFtc1xuXHRcdFx0fSxmdW5jdGlvbigpe1xuXHRcdFx0fSk7XG5cblxuICAgICAgICB9KVxuXG4gICAgfVxuICAgIG9uRW5kTm90Q2hhbmdlPShlbmREKT0+e1xuICAgIFx0bGV0IHtzZWFyY2hQYXJhbXN9PXRoaXMuc3RhdGU7XG4gICAgICAgIGxldCBzdGFydD1EYXRlLnBhcnNlKGRhdGVGb3JtYXQoc2VhcmNoUGFyYW1zLnN0YXJ0RGF0ZSxcInl5eXktbW0tZGQgaGg6TU06c3NcIikpO1xuICAgICAgICBsZXQgZW5kPURhdGUucGFyc2UoZGF0ZUZvcm1hdChlbmRELFwieXl5eS1tbS1kZCBoaDpNTTpzc1wiKSk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBcdGVuZFZhbHVlOmVuZERcbiAgICAgICAgfSxmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgXHRpZihzdGFydD5lbmQpe1xuXHQgICAgICAgICBNZXNzYWdlLmVycm9yKCflvIDlp4vml7bpl7TkuI3og73lpKfkuo7nu5PmnZ/ml7bpl7QnKTtcblx0ICAgICAgICAgIHJldHVybiA7XG5cdCAgICAgICAgfVxuXHQgICAgICAgIGxldCBlbmREYXRlPXRoaXMuc3RhdGUuZW5kVmFsdWU7XG5cdCAgICBcdHNlYXJjaFBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe30sIHNlYXJjaFBhcmFtcywge3N0YXJ0RGF0ZTp0aGlzLnN0YXRlLnN0YXJ0VmFsdWV8fHNlYXJjaFBhcmFtcy5zdGFydERhdGUsZW5kRGF0ZTp0aGlzLnN0YXRlLmVuZFZhbHVlLH0pO1xuXHQgICAgXHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0c2VhcmNoUGFyYW1zXG5cdFx0XHR9LGZ1bmN0aW9uKCl7XG5cdFx0XHR9KTtcblxuICAgICAgICB9KVxuICAgIH1cblxuICAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcyl7XG5cdFx0IHRoaXMuc2V0U3RhdGUoe1xuXHRcdCBcdHNlYXJjaFBhcmFtczp7XG4gICAgICAgICAgICAgICBncm91cElkOm5leHRQcm9wcy5ncm91cElkLFxuICAgICAgICAgICAgICAgc3RhcnREYXRlOnRoaXMucHJvcHMudG9kYXlEYXRlLFxuXHRcdFx0ICAgZW5kRGF0ZTp0aGlzLnByb3BzLnRvZGF5RGF0ZVxuXHRcdCAgICB9XG5cdFx0fSlcblx0IH1cblxuICAgIHJlbmRlcigpe1xuXG4gICAgXHRsZXQge3NlYXJjaFBhcmFtc309dGhpcy5zdGF0ZTtcblx0XHRyZXR1cm4oXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9J25vdE9wZW5CYWNrJyBzdHlsZT17e2JhY2tncm91bmQ6JyNmZmYnLG1hcmdpbkJvdHRvbTonMjAnfX0+XG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT0ndWktb3Blbi1pbic+XG5cdFx0XHRcdCAgIDxHcmlkIHN0eWxlPXt7aGVpZ2h0Oic3Nid9fT5cblx0XHRcdFx0XHRcdDxSb3c+XG5cdFx0XHRcdFx0XHRcdDxDb2wgYWxpZ249XCJsZWZ0XCIgbWQ9ezR9IHN0eWxlPXt7bWFyZ2luVG9wOicyNSd9fT5cblx0XHRcdFx0XHRcdFx0IDxzcGFuICBjbGFzc05hbWU9J3VpLXBpYy1Ob3RvcGVuJz7mi5vllYbmlbDmja7nu5/orqEtPC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQgPHNwYW4gIGNsYXNzTmFtZT0nc3RhdGljLW9wZW5Db21wYW55Jz7mnKrlvIDkuJo8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdCA8c3BhbiAgY2xhc3NOYW1lPSdzdGF0aWMtdXBsb2FkJz7lrp7ml7bmm7TmlrA8L3NwYW4+XG5cdFx0XHRcdFx0XHRcdDwvQ29sPlxuXHRcdFx0XHRcdFx0XHQ8Q29sIGFsaWduPVwicmlnaHRcIiBtZD17OH0+XG5cdFx0XHRcdFx0XHRcdCAgPFNlYXJjaE5vdERhdGVGb3JtIG9uU3RhcnROb3RDaGFuZ2U9e3RoaXMub25TdGFydE5vdENoYW5nZX0gb25FbmROb3RDaGFuZ2U9e3RoaXMub25FbmROb3RDaGFuZ2V9IHRvZGF5RGF0ZT17c2VhcmNoUGFyYW1zLnN0YXJ0RGF0ZX0gdG9kYXlFbmREYXRlPXtzZWFyY2hQYXJhbXMuZW5kRGF0ZX0vPlxuXHRcdFx0XHRcdFx0XHQ8L0NvbD5cblx0XHRcdFx0XHRcdDwvUm93PlxuXHRcdFx0XHRcdDwvR3JpZD5cblxuXHRcdFx0XHQgICA8ZGl2IGNsYXNzTmFtZT0ndWktdGFibGUtd3JhcCc+XG5cdFx0XHRcdFx0PFRhYmxlIHN0eWxlPXt7bWFyZ2luVG9wOjB9fVxuXHRcdFx0XHRcdFx0ZGlzcGxheUNoZWNrYm94PXtmYWxzZX1cblx0XHRcdFx0XHRcdGFqYXg9e3RydWV9XG5cdFx0XHRcdFx0XHRhamF4VXJsTmFtZT0nbm90T3BlbkNvbXBhbnlEYXRhJ1xuXHRcdFx0XHRcdFx0YWpheEZpZWxkTGlzdE5hbWU9XCJsaXN0XCJcblx0XHRcdFx0XHRcdGFqYXhQYXJhbXM9e3RoaXMuc3RhdGUuc2VhcmNoUGFyYW1zfVxuXHRcdFx0XHRcdFx0ICA+XG5cdFx0XHRcdFx0PFRhYmxlSGVhZGVyPlxuXHRcdFx0XHRcdDxUYWJsZUhlYWRlckNvbHVtbj7ln47luII8L1RhYmxlSGVhZGVyQ29sdW1uPlxuXHRcdFx0XHRcdDxUYWJsZUhlYWRlckNvbHVtbj7npL7ljLo8L1RhYmxlSGVhZGVyQ29sdW1uPlxuXHRcdFx0XHRcdDxUYWJsZUhlYWRlckNvbHVtbj7mgLvlt6XkvY08L1RhYmxlSGVhZGVyQ29sdW1uPlxuXHRcdFx0XHRcdDxUYWJsZUhlYWRlckNvbHVtbj7lj6/lh7rnp5/lt6XkvY08L1RhYmxlSGVhZGVyQ29sdW1uPlxuXHRcdFx0XHRcdDxUYWJsZUhlYWRlckNvbHVtbiBzdHlsZT17e3RleHRBbGlnbjonY2VudGVyJ319PjxzcGFuIHN0eWxlPXt7ZGlzcGxheTonaW5saW5lLWJsb2NrJyxsaW5lSGVpZ2h0OicxNnB4J319PuW8gOS4mjwvc3Bhbj48c3BhbiBzdHlsZT17e2Rpc3BsYXk6J2lubGluZS1ibG9jaycsbGluZUhlaWdodDonMTZweCd9fT7nrKzkuIDkuKrmnIjlh7rnp5/njoc8L3NwYW4+PC9UYWJsZUhlYWRlckNvbHVtbj5cblx0XHRcdFx0XHQ8VGFibGVIZWFkZXJDb2x1bW4gc3R5bGU9e3t0ZXh0QWxpZ246J2NlbnRlcid9fT48c3BhbiBzdHlsZT17e2Rpc3BsYXk6J2lubGluZS1ibG9jaycsbGluZUhlaWdodDonMTZweCd9fT7lvIDkuJo8L3NwYW4+PHNwYW4gc3R5bGU9e3tkaXNwbGF5OidpbmxpbmUtYmxvY2snLGxpbmVIZWlnaHQ6JzE2cHgnfX0+56ys5LqM5Liq5pyI5Ye656ef546HPC9zcGFuPjwvVGFibGVIZWFkZXJDb2x1bW4+XG5cdFx0XHRcdFx0PFRhYmxlSGVhZGVyQ29sdW1uIHN0eWxlPXt7dGV4dEFsaWduOidjZW50ZXInfX0+PHNwYW4gc3R5bGU9e3tkaXNwbGF5OidpbmxpbmUtYmxvY2snLGxpbmVIZWlnaHQ6JzE2cHgnfX0+5byA5LiaPC9zcGFuPjxzcGFuIHN0eWxlPXt7ZGlzcGxheTonaW5saW5lLWJsb2NrJyxsaW5lSGVpZ2h0OicxNnB4J319PuesrOS4ieS4quaciOWHuuenn+eOhzwvc3Bhbj48L1RhYmxlSGVhZGVyQ29sdW1uPlxuXHRcdFx0XHRcdDxUYWJsZUhlYWRlckNvbHVtbj7mlrDlop7mhI/lkJHlt6XkvY08L1RhYmxlSGVhZGVyQ29sdW1uPlxuXHRcdFx0XHRcdDxUYWJsZUhlYWRlckNvbHVtbj7ntK/orqHmhI/lkJHlt6XkvY08L1RhYmxlSGVhZGVyQ29sdW1uPlxuXHRcdFx0XHRcdDxUYWJsZUhlYWRlckNvbHVtbj7lubPlnYfljZXku7c8L1RhYmxlSGVhZGVyQ29sdW1uPlxuXHRcdFx0XHQ8L1RhYmxlSGVhZGVyPlxuXG5cdFx0XHRcdDxUYWJsZUJvZHk+XG5cdFx0XHRcdFx0XHQgPFRhYmxlUm93PlxuXHRcdFx0XHRcdFx0PFRhYmxlUm93Q29sdW1uIG5hbWU9XCJjaXR5TmFtZVwiID48L1RhYmxlUm93Q29sdW1uPlxuXHRcdFx0XHRcdFx0PFRhYmxlUm93Q29sdW1uIG5hbWU9XCJjb21tdW5pdHlOYW1lXCIgIGNvbXBvbmVudD17KHZhbHVlLG9sZFZhbHVlKT0+e1xuXHRcdFx0XHRcdFx0XHQgdmFyIG1heFdpZHRoPTY7XG5cdFx0XHRcdFx0XHRcdCBpZih2YWx1ZS5sZW5ndGg+bWF4V2lkdGgpe1xuXHRcdFx0XHRcdFx0XHQgXHR2YWx1ZSA9IHZhbHVlLnN1YnN0cmluZygwLDYpK1wiLi4uXCI7XG5cdFx0XHRcdFx0XHRcdCB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoPGRpdiBzdHlsZT17e3BhZGRpbmdUb3A6JzVweCd9fSBjbGFzc05hbWU9J3Rvb2x0aXBQYXJlbnQnPjxzcGFuIGNsYXNzTmFtZT0ndGFibGVPdmVyJz57dmFsdWV9PC9zcGFuPjxUb29sdGlwIG9mZnNldFRvcD17OH0gcGxhY2U9J3RvcCc+e29sZFZhbHVlfTwvVG9vbHRpcD48L2Rpdj4pXG5cdFx0XHRcdFx0XHR9fSA+PC9UYWJsZVJvd0NvbHVtbj5cblx0XHRcdFx0XHRcdDxUYWJsZVJvd0NvbHVtbiBuYW1lPVwidG90YWxTdGF0aW9uXCI+PC9UYWJsZVJvd0NvbHVtbj5cblx0XHRcdFx0XHRcdDxUYWJsZVJvd0NvbHVtbiBuYW1lPVwidW5Vc2VkU3RhdGlvblwiPjwvVGFibGVSb3dDb2x1bW4+XG5cdFx0XHRcdFx0XHQ8VGFibGVSb3dDb2x1bW4gbmFtZT1cImZpcnN0TW9udGhcIj48L1RhYmxlUm93Q29sdW1uPlxuXHRcdFx0XHRcdFx0PFRhYmxlUm93Q29sdW1uIG5hbWU9XCJzZWNvbmRNb250aFwiPjwvVGFibGVSb3dDb2x1bW4+XG5cdFx0XHRcdFx0XHQ8VGFibGVSb3dDb2x1bW4gbmFtZT1cInRoaXJkTW9udGhcIj48L1RhYmxlUm93Q29sdW1uPlxuXHRcdFx0XHRcdFx0PFRhYmxlUm93Q29sdW1uIG5hbWU9XCJuZXdJbnRlbnRpb25cIiA+PC9UYWJsZVJvd0NvbHVtbj5cblx0XHRcdFx0XHRcdDxUYWJsZVJvd0NvbHVtbiBuYW1lPVwidG90YWxJbnRlbnRpb25cIj48L1RhYmxlUm93Q29sdW1uPlxuXHRcdFx0XHRcdFx0PFRhYmxlUm93Q29sdW1uIG5hbWU9XCJhdmVyYWdlUHJpY2VcIj48L1RhYmxlUm93Q29sdW1uPlxuXG5cdFx0XHRcdFx0IDwvVGFibGVSb3c+XG5cdFx0XHRcdDwvVGFibGVCb2R5PlxuXHRcdFx0XHQ8L1RhYmxlPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXHRcdCAgPC9kaXY+XG5cdFx0KTtcblx0fVxuXG59XG4iXX0=