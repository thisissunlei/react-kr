{"version":3,"sources":["src/Containers/Operation/GroupSetting/CreateForm/index.js"],"names":["Switchover","props","rightAdd","value","_this","arr","state","okData","push","setState","changeMudle","leftAdd","allData","leftToAll","concat","rightToAll","allArr","okArr","swapItems","index1","index2","splice","boxStyle","marginLeft","width","display","position","marginBottom","moddleStyle","height","float","marginTop","textAlign","bind","ZhuanHuan","upMove","index","event","mouldSort","downMove","length","Data","nextProps","remove","addOther","border","lineHeight","overflow","borderRadius","dd","map","item","j","stopPropagation","iconShow","upArrow","downArrow","templateName","removeMould","Component","KrMould","upShow","downShow","className","contentStyle","paddingLeft","cursor","fontSize","upStyle","right","visibility","transform","onClick","text","upMoves","NewCreateForm","groupNameCheck","values","isErr","Trim","dispatch","callAPI","groupName","id","then","data","catch","err","error","message","sortCheck","sort","inputFocus","str","replace","onSubmit","onCancel","moduleData","detail","valuesErr","open","handleSubmit","pristine","reset","PropTypes","func","object","validate","errors","isNaN","enable","form","enableReinitialize","keepDirtyOnReinitialize"],"mappings":"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","file":"index.js","sourceRoot":"/Users/tmac_zc/Code/kr-admin","sourcesContent":["import React, {Component, PropTypes} from 'react';\nimport {connect} from 'kr/Redux';\n\nimport {reduxForm,formValueSelector,initialize,change} from 'redux-form';\nimport {Actions,Store} from 'kr/Redux';\nimport {ShallowEqual} from 'kr/Utils';\n\nimport {\n\tKrField,\n\tGrid,\n\tRow,\n\tCol,\n\tButton,\n\tNotify,\n\tButtonGroup,\n\tMessage\n} from 'kr-ui';\n\nimport './index.less';\n\nclass Switchover extends Component{\n\tconstructor(props) {\n\t\tsuper(props);\n    this.state={\n\t\t\tallData:this.props.allData,\n\t\t\tokData:this.props.okData,\n    }\n  }\n\n\t// componentWillReceiveProps(nextProps){\n\t// \tif(!ShallowEqual(nextProps.allData,this.state.allData)){\n\t// \t\tthis.setState({\n\t// \t\t\tallData:nextProps.allData,\n\t// \t\t});\n\t// \t}\n\t// }\n\t//向右边添加\n\trightAdd=(value)=>{\n\t\tvar _this=this;\n\t\tvar arr=this.state.okData;\n\t\tarr.push(value);\n\t\tthis.setState({okData:arr},function(){\n\t\t\t_this.props.changeMudle(_this.state.okData);\n\t\t\t// _this.rightToAll();\n\t\t});\n\t}\n\t//向左边添加\n\tleftAdd=(value)=>{\n\t\tvar _this=this;\n\t\tvar arr=this.state.allData;\n\t\tarr.push(value);\n\t\tthis.setState({allData:arr},function(){\n\t\t\t_this.props.changeMudle(_this.state.okData)\n\t\t});\n\t}\n\t//右边全部数据添加到左边\n\tleftToAll=()=>{\n\t\tvar _this=this;\n\t\tvar arr=this.state.allData.concat(this.state.okData)\n\t\tthis.setState({allData:arr,okData:[]},function(){\n\t\t\t_this.props.changeMudle(_this.state.okData);\n\t\t});\n\t}\n\t//左边全部数据添加到右边\n\n\trightToAll=()=>{\n\t\tvar _this=this;\n\t\tvar allArr=this.state.allData\n\t\tvar okArr=this.state.okData;\n\t\tvar arr=allArr.concat(okArr)\n\t\tthis.setState({allData:[],okData:arr},function(){\n\t\t\t_this.props.changeMudle(_this.state.okData);\n\t\t});\n\t}\n\t//数组的状态\n\tswapItems =(arr, index1, index2)=> {\n\t\t\tvar _this=this;\n       arr[index1] = arr.splice(index2, 1, arr[index1])[0];\n       this.setState({okData:arr},function(){\n\t \t\t\t_this.props.changeMudle(_this.state.okData)\n\t \t\t});\n   }\n\n  render(){\n\t\tvar boxStyle={\n\t\t\tmarginLeft:\"10px\",\n\t\t\twidth:\"auto\",\n\t\t\tdisplay:\"inline-block\",\n\t\t\tposition:\"relative\",\n\t\t\tmarginBottom:\"15px\"\n\t\t}\n    var moddleStyle={\n      display:\"inline-block\",\n      width:\"40px\",\n\t\t\theight:\"48px\",\n\t\t\tfloat:\"left\",\n\t\t\tmarginTop:\"90px\",\n\t\t\ttextAlign:\"center\"\n    }\n\n    return (\n      <div style={boxStyle}>\n          <ZhuanHuan  iconShow=\"false\"\n                      Data={this.state.allData}\n                      addOther={this.rightAdd.bind(this)}\n\t\t\t\t\t\t\t\t\t\t\tkk=\"l\"\n\n          />\n          <div className=\"ui-moveIcon\" style={moddleStyle}>\n\t\t\t\t\t\t<span className=\"moveRight\" onClick={this.rightToAll}></span><br/>\n\t\t\t\t\t\t<span className=\"moveLeft\" onClick={this.leftToAll}></span>\n\n          </div>\n          <ZhuanHuan  iconShow=\"true\"\n                      Data={this.state.okData}\n                      addOther={this.leftAdd.bind(this)}\n\t\t\t\t\t\t\t\t\t\t\tswapItems={this.swapItems}\n\t\t\t\t\t\t\t\t\t\t\tkk=\"r\"\n                      />\n      </div>\n    );\n\n  }\n}\n\n\n\nclass ZhuanHuan extends React.Component{\n\tconstructor(props) {\n\t\tsuper(props);\n    this.state={\n\t\t\tmouldSort:this.props.Data\n    }\n  }\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\t\t this.setState({mouldSort: nextProps.Data});\n\t }\n\n   //上移\n  upMove=(index,event)=>{\n    if(index==0){\n      return;\n    }\n     this.props.swapItems(this.state.mouldSort, index, index- 1);\n\n\n  }\n  //下移\n  downMove=(index,event)=>{\n    if(index == this.state.mouldSort.length -1) {\n           return;\n       }\n\t\t\t this.props.swapItems(this.state.mouldSort, index, index + 1);\n\n  }\n  upArrow(index){\n    return index>0?true:false;\n  }\n  downArrow(index){\n    return index<this.state.mouldSort.length-1?true:false;\n  }\n  //点击删除\n  removeMould(_this,arr,index){\n\n    var remove=arr.splice(index,1)[0];\n    _this.setState({mouldSort:arr});\n    _this.props.addOther(remove);\n  }\n\n  render(){\n\n    var _this=this;\n    var boxStyle={\n      border:\"1px solid #dfdfdf\",\n      width:\"252px\",\n\t\t\tfloat:\"left\",\n      height:\"250px\",\n\t\t\tlineHeight:\"26px\",\n      display:'inline-block',\n      overflow:\"auto\",\n\t\t\tborderRadius:\"3px\",\n    }\n\n    if (!this.state.mouldSort) {\n\t\tdd=[];\n    }\n\n    var arr=this.state.mouldSort.map(function(item,index){\n      var j=index;\n\n      return <KrMould\n                        upMoves={\n\n                          function(event,index){\n\n                             _this.upMove(j);\n                             event.stopPropagation();\n\n\n                           }\n                        }\n\n\n\n                        downMove={\n                          function(event,index){\n\n                             _this.downMove(j);\n\n                             event.stopPropagation();\n\n                           }\n                        }\n                        iconShow={_this.props.iconShow}\n                        upShow={_this.upArrow(index)}\n                        downShow={_this.downArrow(index)}\n                        text={item.templateName}\n                        onClick={_this.removeMould.bind(this,_this,_this.state.mouldSort,index)}\n                        />\n    })\n\n\n    return (\n      <div style={boxStyle}>\n          {arr}\n      </div>\n\n    )\n  }\n}\n\n\n\n\n /**\n  * 模板条组件\n  * @return {[type]} [description]\n  */\n  class KrMould extends Component{\n    render(){\n      var upShow,downShow,className=\"ui-KrMould\";\n\n      if(this.props.iconShow==\"false\"){\n        upShow=\"hidden\";\n        downShow=\"hidden\";\n      }\n      if (this.props.iconShow==\"true\") {\n        upShow=this.props.upShow==true?\"visible\":\"hidden\";\n        downShow=this.props.downShow==true?\"visible\":\"hidden\";\n      }\n      var contentStyle={\n          width:\"100%\",\n          height:\"26px\",\n          lineHeight:\"26px\",\n          marginTop:\"-1px\",\n          paddingLeft:\"10px\",\n          cursor:\"pointer\",\n          fontSize:\"14px\",\n          paddingLeft:\"5px\",\n          paddingRight:\"5px\",\n\n          boxSizing:\"border-box\",\n      }\n      //上移箭头的样式\n      var upStyle={\n      \tposition:\"absolute\",\n        display:\"inline-block\",\n        cursor:\"pointer\",\n\t\twidth:\"50px\",\n        float:\"right\",\n\t\theight:\"26px\",\n        right:\"70px\",\n        visibility:upShow,\n        transform:'translateX(20px)'\n      }\n      //下移箭头的样式\n      var downShow={\n      \tposition:\"absolute\",\n        cursor:\"pointer\",\n        float:\"right\",\n\t\theight:\"26px\",\n\t\twidth:\"50px\",\n        right:\"30px\",\n        visibility:downShow,\n        transform:'translateX(20px)'\n        \n      }\n\n      return(\n        <div className=\"ui-groupMould \" style={contentStyle} onClick={this.props.onClick}>\n          <span className={className}>{this.props.text}</span>\n          <span className=\"ui-iconDown\" onClick={this.props.downMove} style={downShow}></span>\n          <span className=\"ui-iconUp\"  onClick={this.props.upMoves} style={upStyle}></span>\n\n        </div>)\n    }\n\n  }\n\n\n\n class NewCreateForm extends Component{\n\n\t static PropTypes = {\n\t\t onSubmit:React.PropTypes.func,\n\t\t onCancel:React.PropTypes.func,\n\t\t detail:React.PropTypes.object,\n\t }\n\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.onSubmit = this.onSubmit.bind(this);\n\t\tthis.onCancel = this.onCancel.bind(this);\n\t\tthis.state={\n\t\t\tokData:[],\n\t\t\tmoduleData:this.props.detail,\n\t\t\tvaluesErr:\"\",\n\t\t\tisErr:false,\n\t\t};\n\t}\n\tcomponentWillReceiveProps(nextProps){\n\t\t\t\tStore.dispatch(initialize('newCreateForm',nextProps.detail));\n\t}\n\tcomponentDidMount(){\n\t \tStore.dispatch(change('newCreateForm','enable','ENABLE'));\n\t}\n\n\tcomponentWillReceiveProps(nextProps){\n\n\t\tif(nextProps.open != this.props.open){\n\t\t\tthis.setState({\n\t\t\t\tmoduleData:nextProps.detail,\n\t\t\t\tokData:[]\n\t\t\t});\n\t\t}\n\t}\n\n onSubmit(values){\n\n\t\tconst {onSubmit} = this.props;\n\t\tonSubmit && onSubmit(values);\n\t }\n\n\t onCancel(){\n\t\t const {onCancel} = this.props;\n\t\tonCancel && onCancel();\n\t }\n\t //分组名实时校验\n\t groupNameCheck=(values)=>{\n\t\t if(this.state.isErr&&values){\n\t\t\t var _this=this;\n\t\t\t values=this.Trim(values);\n\t\t\t Store.dispatch(Actions.callAPI('groupNameCheck',{groupName:values,id:''})).then(function(data) {\n\n\t\t\t }).catch(function(err) {\n\n\t\t\t\t Message.error(err.message)\n\n\t\t\t });\n\n\t\t }\n\n\t }\n\n\t //排序实时校验\n\t sortCheck=(values)=>{\n\n\t\t if(this.state.isErr&&+values>0&&values.length<=4){\n\t\t\t var _this=this;\n\t\t\t values=this.Trim(values);\n\t\t\t Store.dispatch(Actions.callAPI('sortCheck',{sort:values,id:''})).then(function(data) {\n\n\t\t\t }).catch(function(err) {\n\t\t\t\t Message.error(err.message)\n\n\t\t\t });\n\t\t }\n\n\t }\n\t //获取焦点\n\t inputFocus=(values)=>{\n\n\t\t this.setState({\n\t\t\t isErr:true\n\t\t })\n\t }\n\n\n\n\n\n\t //去除前后空格\n\tTrim=(str)=>{\n\t\t\t\t\treturn str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n\t}\n\n\n\trender(){\n\t\tconst { error, handleSubmit, pristine, reset} = this.props;\n\n\t\treturn (\n\t\t\t<form onSubmit={handleSubmit(this.onSubmit)} style={{marginLeft:25}}>\n\n\t\t\t\t<KrField name=\"id\" type=\"hidden\" label=\"id\"/>\n\n\n\n\t\t\t\t<KrField grid={1/2} maxLength={20} style={{marginTop:30}} right={43} name=\"groupName\" type=\"text\" label=\"分组名称\" requireLabel={true} onBlur={this.groupNameCheck} onFocus={this.inputFocus} />\n\t\t\t\t<KrField grid={1/2} right={43} name=\"sort\" type=\"text\" label=\"排序\" requireLabel={true} style={{marginTop:30,marginLeft:-10}} onBlur={this.sortCheck} onFocus={this.inputFocus}/>\n\n\t\t\t\t<KrField grid={1} name=\"enable\" component=\"group\" label=\"启用状态\" requireLabel={true}>\n\t\t\t\t\t\t\t <KrField name=\"enable\" label=\"是\" type=\"radio\" value=\"ENABLE\" checked={true}/>\n\t\t\t\t\t\t\t <KrField name=\"enable\" label=\"否\" type=\"radio\" value=\"DISABLE\" />\n\t\t\t\t</KrField>\n\t\t\t\t<KrField grid={1/2} label=\"数据模板\" requireLabel={true} name=\"groupDesc\" component=\"labelText\"/>\n\t\t\t\t<Switchover allData={this.state.moduleData} okData={this.state.okData} changeMudle={this.props.changeMudle}/>\n\n\n\t\t\t<KrField name=\"groupDesc\" style={{width:558}} heightStyle={{height:\"80px\"}} component=\"textarea\" label=\"分组描述\" maxSize={100}  />\n\n\t\t\t\t<Grid style={{marginTop:0,marginBottom:5}}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col md={12} align=\"center\">\n\t\t\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t\t\t<div  className='ui-btn-center'><Button  label=\"确定\" type=\"submit\" joinEditForm /></div>\n\t\t\t\t\t\t\t\t<Button  label=\"取消\" type=\"button\" cancle={true} onTouchTap={this.onCancel}  />\n\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Grid>\n\t\t</form>\n\t\t);\n\t}\n}\nconst validate = values =>{\n\t\tconst errors = {}\n\t\tif(!values.groupName){\n\t\t\terrors.groupName = '请填写分组名称';\n\t\t}\n\t\tif (!values.sort) {\n\t\t\terrors.sort = '请填写排序号';\n\t\t}else if(isNaN(+values.sort)){\n\t\t\terrors.sort = '请输入数字';\n\t\t}else if(+values.sort<=0){\n\t\t\terrors.sort = '请输入正整数';\n\t\t}else if(values.sort.length>=5){\n\t\t\terrors.sort = '最多可输入4位数字';\n\t\t}\n\n\t\tif (!values.enable) {\n\t\t\terrors.enable = '请先选择是否启用';\n\t\t}\n\n\n\t\treturn errors\n\t}\n\nexport default reduxForm({ form: 'newCreateForm', validate,enableReinitialize:true, keepDirtyOnReinitialize:true })(NewCreateForm);\n"]}