'use strict';

var _observable;

var _mobx = require('mobx');

var _mobx2 = _interopRequireDefault(_mobx);

var _Redux = require('kr/Redux');

var _krUi = require('kr-ui');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var State = (0, _mobx.observable)((_observable = {
	searchParams: {
		page: 1
	},
	openNewMerchants: false,
	openLookMerchants: false,
	openEditCustomerList: false,
	openNewCustomerIndent: false,
	openNewIndent: false,
	openEditIndent: false,
	openDelete: false,
	openSearchUpper: false,
	openSwitch: false,
	openPersonDialog: false,
	indentReady: {},
	listId: "",
	deleteId: '',
	companyName: ''
}, _defineProperty(_observable, 'openDelete', false), _defineProperty(_observable, 'editIndentData', {}), _defineProperty(_observable, 'editIndentId', ''), _defineProperty(_observable, 'customerName', ""), _defineProperty(_observable, 'orderCount', ""), _defineProperty(_observable, 'mainbillname', ""), _defineProperty(_observable, 'cityname', ""), _defineProperty(_observable, 'editCity', ''), _defineProperty(_observable, 'editprojectName', ''), _defineProperty(_observable, 'ishasOffice', false), _defineProperty(_observable, 'editIndentState', ""), _observable));
State.hasOfficeChange = (0, _mobx.action)(function (params) {
	this.ishasOffice = params;
});
//新建页的开关
State.switchNewCustomerList = (0, _mobx.action)(function () {
	this.openNewMerchants = !this.openNewMerchants;
});
//查看页面的开关
State.switchLookCustomerList = (0, _mobx.action)(function () {
	this.openLookMerchants = !this.openLookMerchants;
});
//编辑页面的开关
State.switchEditCustomerList = (0, _mobx.action)(function () {
	this.openEditCustomerList = !this.openEditCustomerList;
});
//新增排放记录的开关
State.switchCustomerIndent = (0, _mobx.action)(function () {
	this.openNewCustomerIndent = !this.openNewCustomerIndent;
});
//新建订单的开关
State.switchNewIndent = (0, _mobx.action)(function () {
	this.openNewIndent = !this.openNewIndent;
});
//编辑订单的开关
State.switchEditIndent = (0, _mobx.action)(function () {
	this.openEditIndent = !this.openEditIndent;
});
//高级查询的开关
State.searchUpperCustomer = (0, _mobx.action)(function () {
	this.openSearchUpper = !this.openSearchUpper;
});
//转移开关
State.openSwitchGoDialog = (0, _mobx.action)(function () {
	this.openSwitch = !this.openSwitch;
});
//删除订单
State.openDeleteOrder = (0, _mobx.action)(function () {
	this.openDelete = !this.openDelete;
});
//新建订单页得数据准备
State.indentReady = (0, _mobx.action)(function (params) {
	this.indentReady = params;
});

//编辑定点id
State.editIndentIdChange = (0, _mobx.action)(function (params) {
	this.editIndentId = params;
});
//订单名称
State.orderNameChange = (0, _mobx.action)(function (params) {
	this.orderName = params;
});

//获取订单名称
State.orderNameInit = (0, _mobx.action)(function (value) {
	var _this = this;
	var data = {};

	data.customerId = value;

	_Redux.Store.dispatch(_Redux.Actions.callAPI('get-customName-orderName', data)).then(function (response) {
		_this.customerName = response.customerName;
		_this.orderCount = response.orderCount;
	}).catch(function (err) {
		_krUi.Message.error(err.message);
	});
});

//转移提交
State.switchSureSubmit = (0, _mobx.action)(function (value) {
	var _this = this;
	_Redux.Store.dispatch(_Redux.Actions.callAPI('customerTransfer', {}, value)).then(function (response) {
		_this.openSwitch = false;
		_krUi.Message.success('转移成功');
		_this.openPersonDialog = false;
		_this.searchParams = {
			page: 1,
			time: +new Date()
		};
	}).catch(function (err) {
		_krUi.Message.error(err.message);
	});
});
//导出
State.exportData = (0, _mobx.action)(function (value) {
	var search = {};
	search.company = this.searchParams.company;
	search.cityId = this.searchParams.cityId;
	search.communityId = this.searchParams.communityId;
	search.signEndDate = this.searchParams.signEndDate;
	search.signStartDate = this.searchParams.signStartDate;
	if (!search.company) {
		search.company = '';
	}
	if (!search.cityId) {
		search.cityId = '';
	}
	if (!search.signStartDate) {
		search.signStartDate = '';
	}
	if (!search.communityId) {
		search.communityId = '';
	}
	if (!search.signEndDate) {
		search.signEndDate = '';
	}
	var customerIds = [];
	if (value.length != 0) {
		value.map(function (item, value) {
			customerIds.push(item.id);
		});
	}
	var url = '/api/krspace-finance-web/customer/sign-customers-export?customerIds=' + customerIds + '&company=' + search.company + '&cityId=' + search.cityId + '&signStartDate=' + search.signStartDate + '&communityId=' + search.communityId + '&signEndDate=' + search.signEndDate;
	window.location.href = url;
});
//城市改变
State.cityChange = (0, _mobx.action)(function (params) {
	this.cityname = params;
});
State.closeAllMerchants = (0, _mobx.action)(function () {
	this.openLookMerchants = false;
	this.openNewMerchants = false;
	this.openSearchUpper = false;
	this.openEditCustomerList = false;
	this.openNewCustomerIndent = false;
	this.openNewIndent = false;
	this.openEditIndent = false;
});
State.MerchantsListId = (0, _mobx.action)(function (params) {
	this.listId = params;
});
module.exports = State;
;

var _temp = function () {
	if (typeof __REACT_HOT_LOADER__ === 'undefined') {
		return;
	}

	__REACT_HOT_LOADER__.register(State, 'State', '/Users/tmac_zc/Code/kr-admin/src/Containers/Operation/CustomerManage/CustomerList/SignedClient/State.js');
}();

;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9Db250YWluZXJzL09wZXJhdGlvbi9DdXN0b21lck1hbmFnZS9DdXN0b21lckxpc3QvU2lnbmVkQ2xpZW50L1N0YXRlLmpzIl0sIm5hbWVzIjpbIlN0YXRlIiwic2VhcmNoUGFyYW1zIiwicGFnZSIsIm9wZW5OZXdNZXJjaGFudHMiLCJvcGVuTG9va01lcmNoYW50cyIsIm9wZW5FZGl0Q3VzdG9tZXJMaXN0Iiwib3Blbk5ld0N1c3RvbWVySW5kZW50Iiwib3Blbk5ld0luZGVudCIsIm9wZW5FZGl0SW5kZW50Iiwib3BlbkRlbGV0ZSIsIm9wZW5TZWFyY2hVcHBlciIsIm9wZW5Td2l0Y2giLCJvcGVuUGVyc29uRGlhbG9nIiwiaW5kZW50UmVhZHkiLCJsaXN0SWQiLCJkZWxldGVJZCIsImNvbXBhbnlOYW1lIiwiaGFzT2ZmaWNlQ2hhbmdlIiwicGFyYW1zIiwiaXNoYXNPZmZpY2UiLCJzd2l0Y2hOZXdDdXN0b21lckxpc3QiLCJzd2l0Y2hMb29rQ3VzdG9tZXJMaXN0Iiwic3dpdGNoRWRpdEN1c3RvbWVyTGlzdCIsInN3aXRjaEN1c3RvbWVySW5kZW50Iiwic3dpdGNoTmV3SW5kZW50Iiwic3dpdGNoRWRpdEluZGVudCIsInNlYXJjaFVwcGVyQ3VzdG9tZXIiLCJvcGVuU3dpdGNoR29EaWFsb2ciLCJvcGVuRGVsZXRlT3JkZXIiLCJlZGl0SW5kZW50SWRDaGFuZ2UiLCJlZGl0SW5kZW50SWQiLCJvcmRlck5hbWVDaGFuZ2UiLCJvcmRlck5hbWUiLCJvcmRlck5hbWVJbml0IiwidmFsdWUiLCJfdGhpcyIsImRhdGEiLCJjdXN0b21lcklkIiwiZGlzcGF0Y2giLCJjYWxsQVBJIiwidGhlbiIsInJlc3BvbnNlIiwiY3VzdG9tZXJOYW1lIiwib3JkZXJDb3VudCIsImNhdGNoIiwiZXJyIiwiZXJyb3IiLCJtZXNzYWdlIiwic3dpdGNoU3VyZVN1Ym1pdCIsInN1Y2Nlc3MiLCJ0aW1lIiwiRGF0ZSIsImV4cG9ydERhdGEiLCJzZWFyY2giLCJjb21wYW55IiwiY2l0eUlkIiwiY29tbXVuaXR5SWQiLCJzaWduRW5kRGF0ZSIsInNpZ25TdGFydERhdGUiLCJjdXN0b21lcklkcyIsImxlbmd0aCIsIm1hcCIsIml0ZW0iLCJwdXNoIiwiaWQiLCJ1cmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJjaXR5Q2hhbmdlIiwiY2l0eW5hbWUiLCJjbG9zZUFsbE1lcmNoYW50cyIsIk1lcmNoYW50c0xpc3RJZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7OztBQU9BOztBQUlBOzs7Ozs7QUFHQSxJQUFJQSxRQUFRO0FBQ1ZDLGVBQWE7QUFDWkMsUUFBSztBQURPLEVBREg7QUFJVkMsbUJBQWlCLEtBSlA7QUFLVkMsb0JBQWtCLEtBTFI7QUFNVkMsdUJBQXFCLEtBTlg7QUFPVkMsd0JBQXNCLEtBUFo7QUFRVkMsZ0JBQWMsS0FSSjtBQVNWQyxpQkFBZSxLQVRMO0FBVVZDLGFBQVcsS0FWRDtBQVdWQyxrQkFBZ0IsS0FYTjtBQVlWQyxhQUFXLEtBWkQ7QUFhVkMsbUJBQWlCLEtBYlA7QUFjVkMsY0FBWSxFQWRGO0FBZVZDLFNBQU8sRUFmRztBQWdCVkMsV0FBUyxFQWhCQztBQWlCVkMsY0FBWTtBQWpCRiw4Q0FrQkMsS0FsQkQsa0RBbUJLLEVBbkJMLGdEQW9CRyxFQXBCSCxnREFxQkcsRUFyQkgsOENBc0JDLEVBdEJELGdEQXVCRyxFQXZCSCw0Q0F3QkQsRUF4QkMsNENBeUJELEVBekJDLG1EQTBCTSxFQTFCTiwrQ0EyQkUsS0EzQkYsbURBNEJNLEVBNUJOLGdCQUFaO0FBOEJBaEIsTUFBTWlCLGVBQU4sR0FBc0Isa0JBQU8sVUFBU0MsTUFBVCxFQUFnQjtBQUM1QyxNQUFLQyxXQUFMLEdBQWlCRCxNQUFqQjtBQUNBLENBRnFCLENBQXRCO0FBR0E7QUFDQWxCLE1BQU1vQixxQkFBTixHQUE4QixrQkFBTyxZQUFXO0FBQy9DLE1BQUtqQixnQkFBTCxHQUFzQixDQUFDLEtBQUtBLGdCQUE1QjtBQUNBLENBRjZCLENBQTlCO0FBR0E7QUFD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TixDQUFVLFVBQUNDLElBQUQsRUFBTzVCLEtBQVAsRUFBaUI7QUFDMUJ5QixlQUFZSSxJQUFaLENBQWlCRCxLQUFLRSxFQUF0QjtBQUNBLEdBRkQ7QUFHQTtBQUNELEtBQUlDLCtFQUE2RU4sV0FBN0UsaUJBQW9HTixPQUFPQyxPQUEzRyxnQkFBNkhELE9BQU9FLE1BQXBJLHVCQUE0SkYsT0FBT0ssYUFBbksscUJBQWdNTCxPQUFPRyxXQUF2TSxxQkFBa09ILE9BQU9JLFdBQTdPO0FBQ0FTLFFBQU9DLFFBQVAsQ0FBZ0JDLElBQWhCLEdBQXVCSCxHQUF2QjtBQUNELENBOUJrQixDQUFuQjtBQStCQTtBQUNBakUsTUFBTXFFLFVBQU4sR0FBaUIsa0JBQU8sVUFBU25ELE1BQVQsRUFBZ0I7QUFDdkMsTUFBS29ELFFBQUwsR0FBY3BELE1BQWQ7QUFDQSxDQUZnQixDQUFqQjtBQUdBbEIsTUFBTXVFLGlCQUFOLEdBQTBCLGtCQUFPLFlBQVc7QUFDM0MsTUFBS25FLGlCQUFMLEdBQXVCLEtBQXZCO0FBQ0EsTUFBS0QsZ0JBQUwsR0FBc0IsS0FBdEI7QUFDQSxNQUFLTyxlQUFMLEdBQXFCLEtBQXJCO0FBQ0EsTUFBS0wsb0JBQUwsR0FBMEIsS0FBMUI7QUFDQSxNQUFLQyxxQkFBTCxHQUEyQixLQUEzQjtBQUNBLE1BQUtDLGFBQUwsR0FBbUIsS0FBbkI7QUFDQSxNQUFLQyxjQUFMLEdBQW9CLEtBQXBCO0FBQ0EsQ0FSeUIsQ0FBMUI7QUFTQVIsTUFBTXdFLGVBQU4sR0FBd0Isa0JBQU8sVUFBU3RELE1BQVQsRUFBaUI7QUFDL0MsTUFBS0osTUFBTCxHQUFZSSxNQUFaO0FBRUEsQ0FIdUIsQ0FBeEI7QUFJQXVELE9BQU9DLE9BQVAsR0FBaUIxRSxLQUFqQjs7Ozs7Ozs7K0JBcEtJQSxLIiwiZmlsZSI6IlN0YXRlLmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy90bWFjX3pjL0NvZGUva3ItYWRtaW4iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9ieCwge1xuXHRvYnNlcnZhYmxlLFxuXHRhY3Rpb24sXG5cdGFzTWFwLFxuXHRjb21wdXRlZCxcblx0ZXh0ZW5kT2JzZXJ2YWJsZVxufSBmcm9tICdtb2J4JztcbmltcG9ydCB7XG5cdEFjdGlvbnMsXG5cdFN0b3JlXG59IGZyb20gJ2tyL1JlZHV4JztcbmltcG9ydCB7XG4gICAgTWVzc2FnZVxufSBmcm9tICdrci11aSc7XG5sZXQgU3RhdGUgPSBvYnNlcnZhYmxlKHtcblx0XHRzZWFyY2hQYXJhbXM6e1xuXHRcdFx0cGFnZToxLFxuXHRcdH0sXG5cdFx0b3Blbk5ld01lcmNoYW50czpmYWxzZSxcblx0XHRvcGVuTG9va01lcmNoYW50czpmYWxzZSxcblx0XHRvcGVuRWRpdEN1c3RvbWVyTGlzdDpmYWxzZSxcblx0XHRvcGVuTmV3Q3VzdG9tZXJJbmRlbnQ6ZmFsc2UsXG5cdFx0b3Blbk5ld0luZGVudDpmYWxzZSxcblx0XHRvcGVuRWRpdEluZGVudDpmYWxzZSxcblx0XHRvcGVuRGVsZXRlOmZhbHNlLFxuXHRcdG9wZW5TZWFyY2hVcHBlcjpmYWxzZSxcblx0XHRvcGVuU3dpdGNoOmZhbHNlLFxuXHRcdG9wZW5QZXJzb25EaWFsb2c6ZmFsc2UsXG5cdFx0aW5kZW50UmVhZHk6e30sXG5cdFx0bGlzdElkOlwiXCIsXG5cdFx0ZGVsZXRlSWQ6JycsXG5cdFx0Y29tcGFueU5hbWU6JycsXG5cdFx0b3BlbkRlbGV0ZTpmYWxzZSxcblx0XHRlZGl0SW5kZW50RGF0YTp7fSxcblx0XHRlZGl0SW5kZW50SWQ6JycsXG5cdFx0Y3VzdG9tZXJOYW1lOlwiXCIsXG5cdFx0b3JkZXJDb3VudDpcIlwiLFxuXHRcdG1haW5iaWxsbmFtZTpcIlwiLFxuXHRcdGNpdHluYW1lOlwiXCIsXG5cdFx0ZWRpdENpdHk6JycsXG5cdFx0ZWRpdHByb2plY3ROYW1lOicnLFxuXHRcdGlzaGFzT2ZmaWNlOmZhbHNlLFxuXHRcdGVkaXRJbmRlbnRTdGF0ZTpcIlwiLFxufSk7XG5TdGF0ZS5oYXNPZmZpY2VDaGFuZ2U9YWN0aW9uKGZ1bmN0aW9uKHBhcmFtcyl7XG5cdHRoaXMuaXNoYXNPZmZpY2U9cGFyYW1zO1xufSlcbi8v5paw5bu66aG155qE5byA5YWzXG5TdGF0ZS5zd2l0Y2hOZXdDdXN0b21lckxpc3QgPSBhY3Rpb24oZnVuY3Rpb24oKSB7XG5cdHRoaXMub3Blbk5ld01lcmNoYW50cz0hdGhpcy5vcGVuTmV3TWVyY2hhbnRzO1xufSk7XG4vL+afpeeci+mhtemdoueahOW8gOWFs1xuU3RhdGUuc3dpdGNoTG9va0N1c3RvbWVyTGlzdCA9IGFjdGlvbihmdW5jdGlvbigpIHtcblx0dGhpcy5vcGVuTG9va01lcmNoYW50cz0hdGhpcy5vcGVuTG9va01lcmNoYW50cztcbn0pO1xuLy/nvJbovpHpobXpnaLnmoTlvIDlhbNcblN0YXRlLnN3aXRjaEVkaXRDdXN0b21lckxpc3QgPSBhY3Rpb24oZnVuY3Rpb24oKSB7XG5cdHRoaXMub3BlbkVkaXRDdXN0b21lckxpc3Q9IXRoaXMub3BlbkVkaXRDdXN0b21lckxpc3Q7XG59KVxuLy/mlrDlop7mjpLmlL7orrDlvZXnmoTlvIDlhbNcblN0YXRlLnN3aXRjaEN1c3RvbWVySW5kZW50ID0gYWN0aW9uKGZ1bmN0aW9uKCkge1xuXHR0aGlzLm9wZW5OZXdDdXN0b21lckluZGVudD0hdGhpcy5vcGVuTmV3Q3VzdG9tZXJJbmRlbnQ7XG59KVxuLy/mlrDlu7rorqLljZXnmoTlvIDlhbNcblN0YXRlLnN3aXRjaE5ld0luZGVudCA9IGFjdGlvbihmdW5jdGlvbigpIHtcblx0dGhpcy5vcGVuTmV3SW5kZW50PSF0aGlzLm9wZW5OZXdJbmRlbnQ7XG59KVxuLy/nvJbovpHorqLljZXnmoTlvIDlhbNcblN0YXRlLnN3aXRjaEVkaXRJbmRlbnQ9YWN0aW9uKGZ1bmN0aW9uKCkge1xuXHR0aGlzLm9wZW5FZGl0SW5kZW50PSF0aGlzLm9wZW5FZGl0SW5kZW50O1xufSlcbi8v6auY57qn5p+l6K+i55qE5byA5YWzXG5TdGF0ZS5zZWFyY2hVcHBlckN1c3RvbWVyID0gYWN0aW9uKGZ1bmN0aW9uKCkge1xuXHR0aGlzLm9wZW5TZWFyY2hVcHBlcj0hdGhpcy5vcGVuU2VhcmNoVXBwZXI7XG59KTtcbi8v6L2s56e75byA5YWzXG5TdGF0ZS5vcGVuU3dpdGNoR29EaWFsb2c9IGFjdGlvbihmdW5jdGlvbigpIHtcblx0dGhpcy5vcGVuU3dpdGNoPSF0aGlzLm9wZW5Td2l0Y2g7XG59KTtcbi8v5Yig6Zmk6K6i5Y2VXG5TdGF0ZS5vcGVuRGVsZXRlT3JkZXI9IGFjdGlvbihmdW5jdGlvbigpIHtcblx0dGhpcy5vcGVuRGVsZXRlPSF0aGlzLm9wZW5EZWxldGU7XG59KVxuLy/mlrDlu7rorqLljZXpobXlvpfmlbDmja7lh4blpIdcblN0YXRlLmluZGVudFJlYWR5PSBhY3Rpb24oZnVuY3Rpb24ocGFyYW1zKSB7XG5cdHRoaXMuaW5kZW50UmVhZHk9cGFyYW1zO1xufSlcblxuLy/nvJbovpHlrprngrlpZFxuU3RhdGUuZWRpdEluZGVudElkQ2hhbmdlPWFjdGlvbihmdW5jdGlvbihwYXJhbXMpe1xuXHR0aGlzLmVkaXRJbmRlbnRJZD1wYXJhbXM7XG59KVxuLy/orqLljZXlkI3np7BcblN0YXRlLm9yZGVyTmFtZUNoYW5nZT1hY3Rpb24oZnVuY3Rpb24ocGFyYW1zKXtcblx0dGhpcy5vcmRlck5hbWU9cGFyYW1zO1xufSlcblxuLy/ojrflj5borqLljZXlkI3np7BcblN0YXRlLm9yZGVyTmFtZUluaXQ9IGFjdGlvbihmdW5jdGlvbih2YWx1ZSkge1xuXHR2YXIgX3RoaXM9dGhpcztcblx0bGV0IGRhdGE9e307XG5cdFxuXHRkYXRhLmN1c3RvbWVySWQ9dmFsdWU7XG5cblx0U3RvcmUuZGlzcGF0Y2goQWN0aW9ucy5jYWxsQVBJKCdnZXQtY3VzdG9tTmFtZS1vcmRlck5hbWUnLGRhdGEpKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG5cdFx0X3RoaXMuY3VzdG9tZXJOYW1lPXJlc3BvbnNlLmN1c3RvbWVyTmFtZTtcblx0XHRfdGhpcy5vcmRlckNvdW50PXJlc3BvbnNlLm9yZGVyQ291bnQ7XG5cblx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG5cdFx0IE1lc3NhZ2UuZXJyb3IoZXJyLm1lc3NhZ2UpO1xuXHR9KTtcdFx0XG59KTtcblxuXG4vL+i9rOenu+aPkOS6pFxuU3RhdGUuc3dpdGNoU3VyZVN1Ym1pdD0gYWN0aW9uKGZ1bmN0aW9uKHZhbHVlKSB7XG5cdHZhciBfdGhpcz10aGlzO1xuXHRTdG9yZS5kaXNwYXRjaChBY3Rpb25zLmNhbGxBUEkoJ2N1c3RvbWVyVHJhbnNmZXInLHt9LHZhbHVlKSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdCBfdGhpcy5vcGVuU3dpdGNoPWZhbHNlO1xuICAgICAgICAgTWVzc2FnZS5zdWNjZXNzKCfovaznp7vmiJDlip8nKTtcbiAgICAgICAgIF90aGlzLm9wZW5QZXJzb25EaWFsb2c9ZmFsc2U7XG4gICAgICAgICBfdGhpcy5zZWFyY2hQYXJhbXM9e1xuICAgICAgICAgXHRwYWdlOjEsXG5cdFx0XHR0aW1lOituZXcgRGF0ZSgpXG4gICAgICAgICB9XG5cdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuXHRcdCBNZXNzYWdlLmVycm9yKGVyci5tZXNzYWdlKTtcblx0fSk7XHRcdFxufSk7XG4vL+WvvOWHulxuU3RhdGUuZXhwb3J0RGF0YSA9IGFjdGlvbihmdW5jdGlvbih2YWx1ZSkge1xuXHQgICAgdmFyIHNlYXJjaD17fTtcblx0ICAgIHNlYXJjaC5jb21wYW55PSB0aGlzLnNlYXJjaFBhcmFtcy5jb21wYW55O1xuXHQgICAgc2VhcmNoLmNpdHlJZD10aGlzLnNlYXJjaFBhcmFtcy5jaXR5SWQ7XG5cdCAgICBzZWFyY2guY29tbXVuaXR5SWQ9dGhpcy5zZWFyY2hQYXJhbXMuY29tbXVuaXR5SWQ7XG5cdCAgICBzZWFyY2guc2lnbkVuZERhdGU9dGhpcy5zZWFyY2hQYXJhbXMuc2lnbkVuZERhdGU7XG5cdCAgICBzZWFyY2guc2lnblN0YXJ0RGF0ZT10aGlzLnNlYXJjaFBhcmFtcy5zaWduU3RhcnREYXRlO1xuXHQgICAgaWYoIXNlYXJjaC5jb21wYW55KXtcblx0ICAgIFx0c2VhcmNoLmNvbXBhbnk9Jyc7XG5cdCAgICB9XG5cdCAgICBpZighc2VhcmNoLmNpdHlJZCl7XG5cdCAgICBcdHNlYXJjaC5jaXR5SWQ9Jyc7XG5cdCAgICB9XG5cdCAgICBpZighc2VhcmNoLnNpZ25TdGFydERhdGUpe1xuXHQgICAgXHRzZWFyY2guc2lnblN0YXJ0RGF0ZT0nJztcblx0ICAgIH1cblx0ICAgIGlmKCFzZWFyY2guY29tbXVuaXR5SWQpe1xuXHQgICAgXHRzZWFyY2guY29tbXVuaXR5SWQ9Jyc7XG5cdCAgICB9XG5cdCAgICBpZighc2VhcmNoLnNpZ25FbmREYXRlKXtcblx0ICAgIFx0c2VhcmNoLnNpZ25FbmREYXRlPScnO1xuXHQgICAgfVxuXHRcdGxldCBjdXN0b21lcklkcyA9IFtdO1xuXHRcdGlmICh2YWx1ZS5sZW5ndGggIT0gMCkge1xuXHRcdFx0dmFsdWUubWFwKChpdGVtLCB2YWx1ZSkgPT4ge1xuXHRcdFx0XHRjdXN0b21lcklkcy5wdXNoKGl0ZW0uaWQpXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0dmFyIHVybCA9IGAvYXBpL2tyc3BhY2UtZmluYW5jZS13ZWIvY3VzdG9tZXIvc2lnbi1jdXN0b21lcnMtZXhwb3J0P2N1c3RvbWVySWRzPSR7Y3VzdG9tZXJJZHN9JmNvbXBhbnk9JHtzZWFyY2guY29tcGFueX0mY2l0eUlkPSR7c2VhcmNoLmNpdHlJZH0mc2lnblN0YXJ0RGF0ZT0ke3NlYXJjaC5zaWduU3RhcnREYXRlfSZjb21tdW5pdHlJZD0ke3NlYXJjaC5jb21tdW5pdHlJZH0mc2lnbkVuZERhdGU9JHtzZWFyY2guc2lnbkVuZERhdGV9YFxuXHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsO1xufSk7XG4vL+WfjuW4guaUueWPmFxuU3RhdGUuY2l0eUNoYW5nZT1hY3Rpb24oZnVuY3Rpb24ocGFyYW1zKXtcblx0dGhpcy5jaXR5bmFtZT1wYXJhbXM7XG59KVxuU3RhdGUuY2xvc2VBbGxNZXJjaGFudHMgPSBhY3Rpb24oZnVuY3Rpb24oKSB7XG5cdHRoaXMub3Blbkxvb2tNZXJjaGFudHM9ZmFsc2U7XG5cdHRoaXMub3Blbk5ld01lcmNoYW50cz1mYWxzZTtcblx0dGhpcy5vcGVuU2VhcmNoVXBwZXI9ZmFsc2U7XG5cdHRoaXMub3BlbkVkaXRDdXN0b21lckxpc3Q9ZmFsc2U7XG5cdHRoaXMub3Blbk5ld0N1c3RvbWVySW5kZW50PWZhbHNlO1xuXHR0aGlzLm9wZW5OZXdJbmRlbnQ9ZmFsc2U7XG5cdHRoaXMub3BlbkVkaXRJbmRlbnQ9ZmFsc2U7XG59KTtcblN0YXRlLk1lcmNoYW50c0xpc3RJZCA9IGFjdGlvbihmdW5jdGlvbihwYXJhbXMpIHtcblx0dGhpcy5saXN0SWQ9cGFyYW1zO1xuXHRcbn0pO1xubW9kdWxlLmV4cG9ydHMgPSBTdGF0ZTtcbiJdfQ==