{"version":3,"sources":["src/Containers/Finance/Manage/CodeSetting/Attribute/index.js"],"names":["actionCreators","AttributeSetting","props","context","shouldComponentUpdate","bind","onNewCreateSubmit","onSearchSubmit","onEditSubmit","openNewCreateDialog","openViewDialog","openEditDetailDialog","onOperation","onExport","state","openNewCreate","openView","openEditDetail","itemDetail","searchParams","page","pageSize","type","setState","form","dispatch","callAPI","then","response","show","message","window","setTimeout","location","reload","catch","err","values","idList","length","map","item","value","push","id","url","href","marginBottom","minHeight","marginTop","onSearchCancel","label","width"],"mappings":"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","file":"index.js","sourceRoot":"/Users/tmac_zc/Code/kr-admin","sourcesContent":["import React, {\n\tComponent\n} from 'react';\nimport {\n\tconnect\n} from 'react-redux';\nimport {\n\tbindActionCreators\n} from 'redux';\n\nimport * as actionCreators from 'kr-ui/../Redux/Actions';\nimport PureRenderMixin from 'react-addons-pure-render-mixin';\n\nimport {\n\tActions,\n\tStore\n} from 'kr/Redux';\n\nimport {\n\tTable,\n\tTableBody,\n\tTableHeader,\n\tTableHeaderColumn,\n\tTableRow,\n\tTableRowColumn,\n\tTableFooter,\n\tButton,\n\tSection,\n\tGrid,\n\tRow,\n\tCol,\n\tDialog,\n\tNotify,\n\tListGroup,\n\tListGroupItem,\n\tBreadCrumbs,\n\tTitle,\n} from 'kr-ui';\n\n\nimport NewCreateForm from './NewCreateForm';\nimport SearchForm from './SearchForm';\nimport ItemDetail from './ItemDetail';\nimport EditDetailForm from './EditDetailForm';\n\n\nexport default class AttributeSetting extends Component {\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.shouldComponentUpdate = PureRenderMixin.shouldComponentUpdate.bind(this);\n\n\t\tthis.onNewCreateSubmit = this.onNewCreateSubmit.bind(this);\n\t\tthis.onSearchSubmit = this.onSearchSubmit.bind(this);\n\t\tthis.onEditSubmit = this.onEditSubmit.bind(this);\n\n\t\tthis.openNewCreateDialog = this.openNewCreateDialog.bind(this);\n\t\tthis.openViewDialog = this.openViewDialog.bind(this);\n\t\tthis.openEditDetailDialog = this.openEditDetailDialog.bind(this);\n\t\tthis.onOperation = this.onOperation.bind(this);\n\t\tthis.onExport = this.onExport.bind(this);\n\n\n\n\t\tthis.state = {\n\t\t\topenNewCreate: false,\n\t\t\topenView: false,\n\t\t\topenEditDetail: false,\n\t\t\titemDetail: {},\n\t\t\tsearchParams: {\n\t\t\t\tpage: 1,\n\t\t\t\tpageSize: 20\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\n\t}\n\n\t//操作相关\n\t//\n\t//\n\t//\n\tonOperation(type, itemDetail) {\n\n\t\tthis.setState({\n\t\t\titemDetail\n\t\t});\n\n\t\tif (type == 'view') {\n\t\t\tthis.openViewDialog();\n\t\t} else if (type == 'edit') {\n\t\t\tthis.openEditDetailDialog();\n\t\t}\n\t}\n\n\t//编辑\n\topenEditDetailDialog() {\n\t\tthis.setState({\n\t\t\topenEditDetail: !this.state.openEditDetail\n\t\t});\n\t}\n\n\tonEditSubmit(form) {\n\n\t\tform = Object.assign({}, form);\n\n\t\tStore.dispatch(Actions.callAPI('addFinaFinaflowProperty', {}, form)).then(function(response) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: '更新成功！',\n\t\t\t\ttype: 'success',\n\t\t\t}]);\n\n\t\t\twindow.setTimeout(function() {\n\t\t\t\twindow.location.reload();\n\t\t\t}, 0);\n\t\t}).catch(function(err) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: err.message,\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t});\n\n\t\tthis.openEditDetailDialog();\n\t}\n\n\t//查看\n\topenViewDialog() {\n\t\tthis.setState({\n\t\t\topenView: !this.state.openView\n\t\t});\n\t}\n\n\n\t//搜索\n\tonSearchSubmit(searchParams) {\n\t\tthis.setState({\n\t\t\tsearchParams\n\t\t});\n\t}\n\n\tonSearchCancel() {\n\n\t}\n\n\tonExport(values) {\n\n\t\tlet idList = [];\n\t\tif (values.length != 0) {\n\t\t\tvalues.map((item, value) => {\n\t\t\t\tidList.push(item.id)\n\t\t\t})\n\t\t}\n\t\tvar url = `/api/krspace-finance-web/finaccount/property/exportDatas?ids=${idList}`\n\t\twindow.location.href = url;\n\n\t}\n\n\t//新建\n\topenNewCreateDialog() {\n\t\tthis.setState({\n\t\t\topenNewCreate: !this.state.openNewCreate\n\t\t});\n\t}\n\n\tonNewCreateSubmit(values) {\n\n\t\tthis.openNewCreateDialog();\n\n\t\tStore.dispatch(Actions.callAPI('addFinaFinaflowProperty', {}, values)).then(function(response) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: '新建成功！',\n\t\t\t\ttype: 'success',\n\t\t\t}]);\n\n\t\t\twindow.setTimeout(function() {\n\t\t\t\twindow.location.reload();\n\t\t\t}, 0);\n\n\t\t}).catch(function(err) {\n\n\t\t\tNotify.show([{\n\t\t\t\tmessage: err.message,\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t});\n\t}\n\n\tonNewCreateCancel() {\n\t\tthis.openNewCreateDialog();\n\t}\n\n\trender() {\n\n\t\treturn (\n\n\t\t\t<div>\n\t\t\t\t<Title value=\"属性配置_财务管理\"/>\n\t\t\t\t\t<BreadCrumbs children={['系统运营','客户管理','属性配置']}/>\n\t\t\t\t\t<Section title=\"属性配置\" description=\"\" style={{marginBottom:-5,minHeight:910}} >\n\n\t\t\t\t\t<Grid style={{marginBottom:22,marginTop:2}}>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col md={4} align=\"left\" > <Button  label=\"新建属性\"  type='button' joinEditForm  onTouchTap={this.openNewCreateDialog} /> </Col>\n\n\t\t\t\t\t\t<Col md={8} align=\"right\">\n\t\t\t\t\t\t   <ListGroup>\n\t\t\t\t\t\t\t <ListGroupItem><SearchForm onSubmit={this.onSearchSubmit} onCancel={this.onSearchCancel}/></ListGroupItem>\n\t\t\t\t\t\t   </ListGroup>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t  </Row>\n\t\t\t\t\t</Grid>\n\n\n\t\t\t\t<Table  style={{marginTop:10}} ajax={true} onProcessData={(state)=>{\n\t\t\t\t\t\treturn state;\n\t\t\t\t\t}} ajaxUrlName='findFinaFinaflowPropertyList' ajaxParams={this.state.searchParams} onOperation={this.onOperation} exportSwitch={true} onExport={this.onExport} >\n\t\t\t\t\t<TableHeader>\n\t\t\t\t\t\t<TableHeaderColumn>属性名称</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn name=\"propcode\">属性编码</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>是否启用</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>属性类别</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>排序号</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>创建人</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>创建时间</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>操作</TableHeaderColumn>\n\t\t\t\t</TableHeader>\n\n\t\t\t\t<TableBody>\n\t\t\t\t\t\t <TableRow displayCheckbox={true}>\n\t\t\t\t\t\t <TableRowColumn name=\"propname\" ></TableRowColumn>\n\t\t\t\t\t\t<TableRowColumn name=\"propcode\" ></TableRowColumn>\n\t\t\t\t\t\t<TableRowColumn name=\"enableflag\" options={[{label:'是',value:'ENABLE'},{label:'否',value:'DISENABLE'}]}></TableRowColumn>\n\t\t\t\t\t\t<TableRowColumn name=\"proptype\" options={[{label:'收入',value:'INCOME'},{label:'回款',value:'PAYMENT'}]}></TableRowColumn>\n\t\t\t\t\t\t<TableRowColumn name=\"ordernum\"></TableRowColumn>\n\t\t\t\t\t\t<TableRowColumn name=\"creatername\"></TableRowColumn>\n\t\t\t\t\t\t<TableRowColumn name=\"createdate\" type=\"date\"></TableRowColumn>\n\t\t\t\t\t\t<TableRowColumn type=\"operation\">\n\t\t\t\t\t\t\t  <Button label=\"查看\"  type=\"operation\" operation=\"view\"/>\n\t\t\t\t\t\t\t  <Button label=\"编辑\"  type=\"operation\" operation=\"edit\"/>\n\t\t\t\t\t\t </TableRowColumn>\n\t\t\t\t\t </TableRow>\n\t\t\t\t</TableBody>\n\n\t\t\t\t<TableFooter></TableFooter>\n\n\t\t\t\t</Table>\n\n\t\t\t\t\t</Section>\n\n\t\t\t\t\t<Dialog\n\t\t\t\t\t\ttitle=\"新建\"\n\t\t\t\t\t\tmodal={true}\n\t\t\t\t\t\topen={this.state.openNewCreate}\n\t\t\t\t\t\tonClose={this.openNewCreateDialog}\n\t\t\t\t\t\tcontentStyle ={{ width: '688'}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<NewCreateForm onSubmit={this.onNewCreateSubmit} onCancel={this.openNewCreateDialog} />\n\n\t\t\t\t  </Dialog>\n\n\n\t\t\t\t\t<Dialog\n\t\t\t\t\t\ttitle=\"编辑\"\n\t\t\t\t\t\tmodal={true}\n\t\t\t\t\t\topen={this.state.openEditDetail}\n\t\t\t\t\t\tonClose={this.openEditDetailDialog}\n\t\t\t\t\t\tcontentStyle ={{ width: '688'}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<EditDetailForm  detail={this.state.itemDetail} onSubmit={this.onEditSubmit} onCancel={this.openEditDetailDialog} />\n\t\t\t\t  </Dialog>\n\n\t\t\t\t\t<Dialog\n\t\t\t\t\t\ttitle=\"查看\"\n\t\t\t\t\t\tmodal={true}\n\t\t\t\t\t\topen={this.state.openView}\n\t\t\t\t\t\tonClose={this.openViewDialog}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ItemDetail  detail={this.state.itemDetail} onCancel={this.openViewDialog} />\n\t\t\t\t  </Dialog>\n\n\n\t\t\t</div>\n\n\t\t);\n\n\t}\n\n}\n"]}