{"version":3,"sources":["src/Components/KrField/DoorCardComponent/Left/index.js"],"names":["Left","props","context","chooseAllCommunity","_this","newArrayAllCommunitys","i","state","communitys","length","j","children","push","selectCommunityByCity","thisCity","addCommunity","detailCommunityInfo","onSearchCommunity","value","EmptyArray","allCommunity","epmtyCommunityBox","map","item","index","communityName","indexOf","setState","newArrayCommunity","isIncommunity","dispatch","callAPI","then","response","items","catch","err","Message","error","message","paddingLeft","width","height","marginBottom","Component","dispalyName","propTypes","PropTypes","array"],"mappings":"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","file":"index.js","sourceRoot":"/Users/liuyihao/Code/kr-admin","sourcesContent":["import React from 'react';\nimport {stopSubmit,submit,blur,stopAsyncValidation,touch} from 'redux-form';\nimport {Actions,Store} from 'kr/Redux';\nimport plus from \"../images/plus.svg\";\nimport toright from \"../images/toright.svg\";\nimport Input from \"../../../Input\"\nimport LeftItem from './LeftItem';\nexport default class Left extends React.Component{\n\tstatic dispalyName = 'Left';\n\tstatic propTypes = {\n\t\tcommunitys:React.PropTypes.array\n\t}\n\tconstructor(props,context){\n\t\tsuper(props,context);\n\t\tthis.state = {\n\t\t\tcommunitys:\n\t\t\t\t[],\n\t\t\t// [{\"cityId\":1,\"cityName\":\"北京市\",\"children\":[{\"children\":[{\"id\":2,\"hardwareId\":\"11112\"}],\"communityName\":\"北京天创科技社区\",\"communityId\":2}]},\n\t\t\t// \t\t\t{\"cityId\":88,\"cityName\":\"杭州市\",\"children\":[{\"children\":[{\"id\":5,\"hardwareId\":\"11115\"}],\"communityName\":\"杭州梦想小镇社区\",\"communityId\":5}]},\n\t\t\t// \t\t\t{\"cityId\":88,\"cityName\":\"武汉\",\"children\":[{\"children\":[{\"id\":5,\"hardwareId\":\"11115\"}],\"communityName\":\"杭州梦想小镇社区\",\"communityId\":5}]},\n\t\t\t// \t\t\t{\"cityId\":88,\"cityName\":\"深圳\",\"children\":[{\"children\":[{\"id\":5,\"hardwareId\":\"11115\"}],\"communityName\":\"杭州梦想小镇社区\",\"communityId\":5}]},\n\t\t\t// \t\t\t{\"cityId\":88,\"cityName\":\"深圳\",\"children\":[{\"children\":[{\"id\":5,\"hardwareId\":\"11115\"}],\"communityName\":\"杭州梦想小镇社区\",\"communityId\":5}]},\n\t\t\t// \t\t\t{\"cityId\":88,\"cityName\":\"深圳\",\"children\":[{\"children\":[{\"id\":5,\"hardwareId\":\"11115\"}],\"communityName\":\"杭州梦想小镇社区\",\"communityId\":5}]},\n\t\t\t// \t\t\t{\"cityId\":88,\"cityName\":\"深圳\",\"children\":[{\"children\":[{\"id\":5,\"hardwareId\":\"11115\"}],\"communityName\":\"杭州梦想小镇社区\",\"communityId\":5}]},\n\t\t\t// \t\t\t{\"cityId\":88,\"cityName\":\"深圳\",\"children\":[{\"children\":[{\"id\":5,\"hardwareId\":\"11115\"}],\"communityName\":\"杭州梦想小镇社区\",\"communityId\":5}]},\n\t\t\t// \t\t\t{\"cityId\":88,\"cityName\":\"深圳\",\"children\":[{\"children\":[{\"id\":5,\"hardwareId\":\"11115\"}],\"communityName\":\"杭州梦想小镇社区\",\"communityId\":5}]},\n\t\t\t// \t\t\t{\"cityId\":88,\"cityName\":\"深圳\",\"children\":[{\"children\":[{\"id\":5,\"hardwareId\":\"11115\"}],\"communityName\":\"杭州梦想小镇社区\",\"communityId\":5}]},\n\t\t\t// \t\t\t{\"cityId\":88,\"cityName\":\"深圳\",\"children\":[{\"children\":[{\"id\":5,\"hardwareId\":\"11115\"}],\"communityName\":\"杭州梦想小镇社区\",\"communityId\":5}]},\n\t\t\t// \t\t\t{\"cityId\":88,\"cityName\":\"深圳\",\"children\":[{\"children\":[{\"id\":5,\"hardwareId\":\"11115\"}],\"communityName\":\"杭州梦想小镇社区\",\"communityId\":5}]},\n\t\t\t// \t\t\t{\"cityId\":88,\"cityName\":\"深圳\",\"children\":[{\"children\":[{\"id\":5,\"hardwareId\":\"11115\"}],\"communityName\":\"杭州梦想小镇社区\",\"communityId\":5}]},\n\t\t\t// \t\t\t{\"cityId\":88,\"cityName\":\"深圳\",\"children\":[{\"children\":[{\"id\":5,\"hardwareId\":\"11115\"}],\"communityName\":\"杭州梦想小镇社区\",\"communityId\":5}]},\n\t\t\t// \t\t\t{\"cityId\":88,\"cityName\":\"深圳\",\"children\":[{\"children\":[{\"id\":5,\"hardwareId\":\"11115\"}],\"communityName\":\"杭州梦想小镇社区\",\"communityId\":5}]},\n\t\t\t// \t\t\t{\"cityId\":88,\"cityName\":\"深圳\",\"children\":[{\"children\":[{\"id\":5,\"hardwareId\":\"11115\"}],\"communityName\":\"杭州梦想小镇社区\",\"communityId\":5}]},\n\t\t\t// \t\t\t{\"cityId\":74,\"cityName\":\"上海市\",\"children\":[{\"children\":[{\"id\":1,\"hardwareId\":\"111101\"}],\"communityName\":\"上海凤城巷社区\",\"communityId\":11}]}\n\t\t\t// \t\t\t],\n\t\t\tnewArrayCommunity:[],\n\t\t\tisIncommunity:''\n\t\t}\n\t}\n\t// 首次加载获取社区列表\n\tcomponentDidMount(){\n\t\tlet _this = this;\n\t\tStore.dispatch(Actions.callAPI('getCommunityEquipment',\"\"))\n\t      .then(function(response){\n\t      \t_this.setState({\n\t      \t\tcommunitys : response.items\n\t      \t})\n\n\t    }).catch(function(err){\n\t        Message.error(err.message);\n\t    });\n\t}\n\tchooseAllCommunity=()=>{\n\t\tlet _this = this;\n\t\tvar newArrayAllCommunitys = [];\n\t\t\tfor(var i = 0 ;i<this.state.communitys.length;i++){\n\t\t\tfor(var j = 0;j<this.state.communitys[i].children.length;j++){\n\t\t\t\tnewArrayAllCommunitys.push(this.state.communitys[i].children[j])\n\t\t\t}\n\t\t}\n\t\tconst {chooseAllCommunity}=this.props;\n\t\tchooseAllCommunity && chooseAllCommunity(newArrayAllCommunitys);\n\t}\n\tselectCommunityByCity=(thisCity)=>{\n\t\tlet {selectCommunityByCity} = this.props;\n\t\tselectCommunityByCity && selectCommunityByCity(thisCity);\n\t}\n\taddCommunity=(detailCommunityInfo)=>{\n\t\tlet {addCommunity}= this.props;\n\t\taddCommunity && addCommunity(detailCommunityInfo);\n\t}\n\t// 输入搜索社区\n\tonSearchCommunity=(value)=>{\n\t\tif(value !== \"\"){\n\t\t\tlet allCommunity = this.state.communitys;\n\t\t\tlet epmtyCommunityBox = [];\n\t\t\tvar EmptyArray = [];\n\t\t\tallCommunity.map(function(item,index){\n\t\t\t\tepmtyCommunityBox.push(item);\n\t\t\t})\n\t\t\tfor(var i=0;i<epmtyCommunityBox.length;i++){\n\t\t\t\tepmtyCommunityBox[i].children.map(function(item,index){\n\t\t\t\t\tif(item.communityName.indexOf(value)>-1){\n\t\t\t\t\t\tif (EmptyArray.indexOf(epmtyCommunityBox[i])>-1){\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tEmptyArray.push(epmtyCommunityBox[i]);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.setState({\n\t\t\t\tnewArrayCommunity:EmptyArray\n\t\t\t})\n\t\t}else{\n\t\t\tthis.setState({\n\t\t\t\tnewArrayCommunity:[]\n\t\t\t})\n\t\t}\n\t}\n\trender(){\n\t\t// let {communitys} = this.props;\n\t\tlet {communitys} = this.state;\n\t\treturn (\n\t\t\t\t<div className=\"ui-door-card-left-part\">\n\t\t\t\t\t<div className=\"ui-door-card-left-search-box\">\n\t\t\t\t\t\t<span className=\"icon-searching ui-door-card-search-community\" ></span>\n\t\t\t\t\t\t<Input placeholder={\"请输入查找关键字\"} \n\t\t\t\t\t\t\tstyle={{paddingLeft:35,width:254,height:36,marginBottom:6}} \n\t\t\t\t\t\t\tonChange={this.onSearchCommunity}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"ui-door-card-left\">\n\t\t\t\t\t\t<div className=\"ui-door-card-all-li\">\n\t\t\t\t\t\t\t<span className=\"ui-door-card-all-community-text\">全部社区</span>\n\t\t\t\t\t\t\t<img src={plus} className=\"ui-door-card-select-all\" onClick={this.chooseAllCommunity}/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"ui-door-card-community-list\">\n\t\t\t\t\t\t\t<div className=\"ui-door-card-community-list-inner\">\n\t\t\t\t\t\t\t\t{communitys && communitys.map((item,index)=>{\n\t\t\t\t\t\t\t\t\treturn <LeftItem  community={item} key={index} \n\t\t\t\t\t\t\t\t\t\t\t\tselectCommunityByCity={this.selectCommunityByCity} \n\t\t\t\t\t\t\t\t\t\t\t\taddCommunity={this.addCommunity}\n\t\t\t\t\t\t\t\t\t\t\t\tnewArrayCommunity={this.state.newArrayCommunity}/>\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"ui-door-card-left-toright-img\">\n\t\t\t\t\t\t<img src={toright}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t}\n}\n"]}