'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _simpleAssign = require('simple-assign');

var _simpleAssign2 = _interopRequireDefault(_simpleAssign);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _Loading = require('../../Loading');

var _Loading2 = _interopRequireDefault(_Loading);

var _fetch = require('kr/Redux/Utils/fetch');

var _fetch2 = _interopRequireDefault(_fetch);

var _reactAddonsPureRenderMixin = require('react-addons-pure-render-mixin');

var _reactAddonsPureRenderMixin2 = _interopRequireDefault(_reactAddonsPureRenderMixin);

var _lodash = require('lodash');

var _lodash2 = _interopRequireDefault(_lodash);

var _TableBody = require('../TableBody');

var _TableBody2 = _interopRequireDefault(_TableBody);

var _TableRow = require('../TableRow');

var _TableRow2 = _interopRequireDefault(_TableRow);

var _TableRowColumn = require('../TableRowColumn');

var _TableRowColumn2 = _interopRequireDefault(_TableRowColumn);

var _Notify = require('../../Notify');

var _Notify2 = _interopRequireDefault(_Notify);

var _Utils = require('kr/Utils');

require('./index.less');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var Table = function (_React$Component) {
	_inherits(Table, _React$Component);

	function Table(props) {
		_classCallCheck(this, Table);

		var _this2 = _possibleConstructorReturn(this, (Table.__proto__ || Object.getPrototypeOf(Table)).call(this, props));

		_this2.onFold = function () {
			var _this2$props = _this2.props,
			    onFold = _this2$props.onFold,
			    foldSize = _this2$props.foldSize;
			var visibilityRows = _this2.state.visibilityRows;


			var foldOpen = !_this2.state.foldOpen;
			visibilityRows = visibilityRows.toString().replace(/,/gi, '');

			if (foldOpen) {
				visibilityRows = visibilityRows.substr(0, foldSize) + visibilityRows.substr(foldSize + 1, visibilityRows.length).replace(/0/gi, 1);
			} else {
				visibilityRows = visibilityRows.substr(0, foldSize) + visibilityRows.substr(foldSize + 1, visibilityRows.length).replace(/1/gi, 0);
			}

			visibilityRows = visibilityRows.split('');

			_this2.setState({
				foldOpen: foldOpen,
				visibilityRows: visibilityRows
			}, function () {
				onFold && onFold();
			});
		};

		_this2.renderFold = function () {
			var fold = _this2.props.fold;


			if (!fold) {
				return null;
			}

			return _react2.default.createElement(
				'div',
				null,
				_react2.default.createElement(
					'div',
					{ className: 'btn-collapse' },
					_this2.state.foldOpen && _react2.default.createElement(
						'span',
						{ className: 'recordDevelop', onClick: _this2.onFold },
						'\u5C55\u5F00'
					),
					!_this2.state.foldOpen && _react2.default.createElement(
						'span',
						{ className: 'recordClose', onClick: _this2.onFold },
						'\u6536\u8D77'
					)
				)
			);
		};

		_this2.shouldComponentUpdate = _reactAddonsPureRenderMixin2.default.shouldComponentUpdate.bind(_this2);

		_this2.createTableHeader = _this2.createTableHeader.bind(_this2);
		_this2.createTableBody = _this2.createTableBody.bind(_this2);
		_this2.createTableFooter = _this2.createTableFooter.bind(_this2);
		_this2.setVisibilityRow = _this2.setVisibilityRow.bind(_this2);

		_this2.onSort = _this2.onSort.bind(_this2);
		_this2.onSelectAll = _this2.onSelectAll.bind(_this2);
		_this2.onSelect = _this2.onSelect.bind(_this2);
		_this2.onRowClick = _this2.onRowClick.bind(_this2);
		_this2.onExport = _this2.onExport.bind(_this2);
		_this2.onCellClick = _this2.onCellClick.bind(_this2);
		_this2.onPageChange = _this2.onPageChange.bind(_this2);
		_this2.onOperation = _this2.onOperation.bind(_this2);
		_this2.onLoaded = _this2.onLoaded.bind(_this2);

		_this2.onLoadData = _this2.onLoadData.bind(_this2);
		_this2.onInitial = _this2.onInitial.bind(_this2);
		_this2.onProcessData = _this2.onProcessData.bind(_this2);

		_this2.renderTableHeader = _this2.renderTableHeader.bind(_this2);
		_this2.renderTableBody = _this2.renderTableBody.bind(_this2);
		_this2.renderTableFooter = _this2.renderTableFooter.bind(_this2);
		_this2.renderLoading = _this2.renderLoading.bind(_this2);
		_this2.renderNotListData = _this2.renderNotListData.bind(_this2);

		_this2.state = {
			response: {},
			page: _this2.props.page,
			pageSize: _this2.props.pageSize,
			totalCount: _this2.props.totalCount,
			listData: [],
			loading: _this2.props.loading,
			isLoaded: false,
			allRowsSelected: false,
			selectedRows: [],
			visibilityRows: [],
			fold: false,
			foldOpen: _this2.props.foldOpen,
			defaultValue: {
				checkboxWidth: 50
			}
		};

		_this2.maxRows = 1000;

		var initialValues = _this2.props.initialValues;


		if (initialValues) {
			_this2.onInitial(initialValues);
		}

		return _this2;
	}

	_createClass(Table, [{
		key: 'componentDidMount',
		value: function componentDidMount() {}
	}, {
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			if (!(0, _Utils.ShallowEqual)(this.props.ajaxParams, nextProps.ajaxParams)) {
				this.setState({
					isLoaded: false
				});
				this.onLoadData(1, nextProps.ajaxParams);
			}

			if (nextProps.page != this.props.page) {
				this.setState({
					page: nextProps.page
				});
			}

			if (nextProps.loading != this.props.loading) {
				this.setState({
					loading: nextProps.loading
				});
				this.onLoadData(1, nextProps.ajaxParams);
			}

			if (!(0, _Utils.ShallowEqual)(this.props.initialValues, nextProps.initialValues)) {
				this.onInitial(nextProps.initialValues);
			}
		}
	}, {
		key: 'shouldComponentUpdate',
		value: function shouldComponentUpdate(nextProps, nextState) {

			if (!(0, _Utils.ShallowEqual)(this.props.ajaxParams, nextProps.ajaxParams)) {
				return true;
			}
			if (nextProps.page != this.props.page) {
				return true;
			}
			if (nextProps.loading != this.props.loading) {
				return true;
			}
			return false;
		}
	}, {
		key: 'onSort',
		value: function onSort(name) {
			if (!name) {
				return;
			}
			var listData = this.state.listData;

			this.setState({
				listData: listData
			});
		}
	}, {
		key: 'onProcessData',
		value: function onProcessData(state) {
			var onProcessData = this.props.onProcessData;


			if (onProcessData) {
				state = onProcessData(state);
			}
			return state;
		}
	}, {
		key: 'onInitial',
		value: function onInitial(state) {
			var defaultSelectedRows = this.props.defaultSelectedRows;


			state.selectedRows = defaultSelectedRows;

			state = this.onProcessData(state);

			this.setState(state, function () {
				this.onLoaded();
			});
		}
	}, {
		key: 'onLoaded',
		value: function onLoaded() {
			var onLoaded = this.props.onLoaded;


			onLoaded && onLoaded(this.state.response);
		}
	}, {
		key: 'onOperation',
		value: function onOperation(type, itemData) {
			var onOperation = this.props.onOperation;

			onOperation && onOperation(type, itemData);
		}
	}, {
		key: 'onPageChange',
		value: function onPageChange(page) {
			var onPageChange = this.props.onPageChange;


			onPageChange && onPageChange(page);
			this.onLoadData(page);
		}
	}, {
		key: 'onCellClick',
		value: function onCellClick() {}
	}, {
		key: 'onExport',
		value: function onExport() {
			var _state = this.state,
			    selectedRows = _state.selectedRows,
			    visibilityRows = _state.visibilityRows,
			    listData = _state.listData;
			var onExport = this.props.onExport;


			var exportRows = [];
			var exportData = [];

			listData = listData.filter(function (item, index) {
				return !(typeof item === 'undefined');
			});

			visibilityRows.forEach(function (item, index) {
				if (item && parseInt(selectedRows[index])) {
					exportRows.push(index);
				}
			});

			exportRows.forEach(function (item, index) {
				if (listData[item]) {
					exportData.push(listData[item]);
				}
			});

			onExport && onExport(exportData, exportRows);
		}
	}, {
		key: 'onLoadData',
		value: function onLoadData() {
			var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
			var ajaxParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.props.ajaxParams;


			ajaxParams = (0, _simpleAssign2.default)({}, ajaxParams);

			if (!this.props.ajax) {
				return;
			}

			this.setState({
				loading: true
			});

			var ajaxUrlName = this.props.ajaxUrlName;


			ajaxParams.page = page;

			var _this = this;

			_fetch2.default.request(ajaxUrlName, ajaxParams).then(function (response) {
				_this.onInitial({
					response: response,
					listData: response[_this.props.ajaxFieldListName],
					page: response.page,
					pageSize: response.pageSize,
					totalCount: response.totalCount,
					isLoaded: true,
					loading: false,
					allRowsSelected: false
				});
			}).catch(function (err) {

				_this.onInitial({
					isLoaded: true,
					loading: false,
					allRowsSelected: false
				});

				_Notify2.default.show([{
					message: err.message,
					type: 'error'
				}]);
			});
		}
	}, {
		key: 'componentDidMount',
		value: function componentDidMount() {

			this.onLoadData();

			var _props = this.props,
			    foldOpen = _props.foldOpen,
			    fold = _props.fold,
			    foldSize = _props.foldSize;


			var visibilityRows = new Array(this.maxRows + 1).join(1);

			if (fold) {
				visibilityRows = new Array(foldSize + 1).join(1) + new Array(Number(this.maxRows) - Number(foldSize + 1)).join(0);
			}

			visibilityRows = visibilityRows.split('');

			//默认隐藏children
			var visibilityType = this.props.toggleVisibility || '';

			switch (visibilityType) {
				case 'odd':
					{
						visibilityRows.forEach(function (item, index) {
							if (index % 2 !== 0) {
								visibilityRows[index] = 0;
							}
						});
						break;
					}

				case 'event':
					{
						visibilityRows.forEach(function (item, index) {
							if (index % 2 == 0) {
								visibilityRows[index] = 0;
							}
						});
						break;
					}

				default:
					{
						/*
      visibilityRows.forEach(function(item, index) {
      	visibilityRows[index] = 1;
      });
      break;
      */
					}
			}

			this.setState({
				visibilityRows: visibilityRows
			});
		}
	}, {
		key: 'setVisibilityRow',
		value: function setVisibilityRow(rowNumber) {
			var visibilityRows = this.state.visibilityRows;
			visibilityRows[rowNumber] = new Number(!!!parseInt(visibilityRows[rowNumber]));
			this.setState({
				visibilityRows: visibilityRows
			});
		}
	}, {
		key: 'onRowClick',
		value: function onRowClick(event, rowNumber) {
			var selectedRows = this.state.selectedRows;


			selectedRows = new Array().concat(selectedRows);

			if (parseInt(selectedRows[rowNumber])) {
				selectedRows[rowNumber] = 0;
			} else {
				selectedRows[rowNumber] = 1;
			}

			this.setState({
				selectedRows: selectedRows
			}, function () {
				this.onSelect();
			});

			if (event && event.hasOwnProperty('target') && event.target.nodeName.toLowerCase() == 'input') {
				return;
			}
			//显示子元素
			var vitibilityType = this.props.toggleVisibility;
			if (vitibilityType) {
				if (vitibilityType === 'odd') {
					if (rowNumber % 2 == 0) {
						this.setVisibilityRow(rowNumber + 1);
					}
				} else {
					if (rowNumber % 2 != 0) {
						this.setVisibilityRow(rowNumber - 1);
					}
				}
			}
		}
	}, {
		key: 'onSelect',
		value: function onSelect() {
			var _state2 = this.state,
			    selectedRows = _state2.selectedRows,
			    visibilityRows = _state2.visibilityRows;


			var allRowsSelected = true;
			var result = [];
			visibilityRows.forEach(function (item, index) {
				if (item && parseInt(selectedRows[index])) {
					result.push(index);
				} else {
					allRowsSelected = false;
				}
			});

			var onSelect = this.props.onSelect;

			onSelect && onSelect(result);

			this.setState({
				allRowsSelected: allRowsSelected
			});
		}
	}, {
		key: 'onSelectAll',
		value: function onSelectAll() {
			var allRowsSelected = this.state.allRowsSelected;

			allRowsSelected = !allRowsSelected;
			var tmp = [];
			if (allRowsSelected) {
				tmp = new Array(this.maxRows + 1).join(1).split('');
			} else {
				tmp = new Array(this.maxRows + 1).join(0).split('');
			}

			this.setState({
				allRowsSelected: !this.state.allRowsSelected,
				selectedRows: tmp
			});

			var _this = this;
			window.setTimeout(function () {
				_this.onSelect();
			}, 0);
		}
	}, {
		key: 'createTableHeader',
		value: function createTableHeader(base) {

			return _react2.default.cloneElement(base, {
				displayCheckbox: this.props.displayCheckbox,
				onSelectAll: this.onSelectAll,
				defaultValue: this.state.defaultValue,
				onSort: this.onSort,
				allRowsSelected: this.state.allRowsSelected
			});
		}
	}, {
		key: 'createTableBody',
		value: function createTableBody(base) {

			return _react2.default.cloneElement(base, {
				displayCheckbox: this.props.displayCheckbox,
				allRowsSelected: this.state.allRowsSelected,
				selectedRows: this.state.selectedRows,
				visibilityRows: this.state.visibilityRows,
				onRowClick: this.onRowClick,
				onOperation: this.onOperation,
				defaultValue: this.state.defaultValue,
				listData: this.state.listData,
				ajax: this.props.ajax
			});
		}
	}, {
		key: 'createTableFooter',
		value: function createTableFooter(base) {
			var _props2 = this.props,
			    pagination = _props2.pagination,
			    footer = _props2.footer;


			if (pagination || footer) {
				footer = true;
			}

			var props = {
				displayCheckbox: this.props.displayCheckbox,
				allRowsSelected: this.state.allRowsSelected,
				defaultValue: this.state.defaultValue,
				page: this.state.page,
				pageSize: this.state.pageSize,
				pagination: this.props.pagination,
				totalCount: this.state.totalCount,
				onPageChange: this.onPageChange,
				exportSwitch: this.props.exportSwitch,
				footer: footer
			};

			var handlers = {
				onSelectAll: this.onSelectAll,
				onExport: this.onExport
			};

			return _react2.default.cloneElement(base, _extends({}, props, handlers));
		}
	}, {
		key: 'renderTableHeader',
		value: function renderTableHeader() {
			var _this3 = this;

			var _props3 = this.props,
			    className = _props3.className,
			    children = _props3.children,
			    style = _props3.style;

			var tHead = void 0;
			_react2.default.Children.forEach(children, function (child) {
				if (!_react2.default.isValidElement(child)) return;
				var _child$type = child.type,
				    muiName = _child$type.muiName,
				    name = _child$type.name,
				    displayName = _child$type.displayName;

				if (displayName === 'TableHeader') {
					tHead = _this3.createTableHeader(child);
				}
			});
			return tHead;
		}
	}, {
		key: 'renderNotListData',
		value: function renderNotListData() {
			var _props4 = this.props,
			    className = _props4.className,
			    children = _props4.children,
			    style = _props4.style;


			return _react2.default.createElement(
				'table',
				{ className: "ui-table " + className, style: style },
				this.renderTableHeader(),
				_react2.default.createElement(
					'tbody',
					null,
					_react2.default.createElement(
						'tr',
						{ style: { backgroundColor: '#fff' } },
						_react2.default.createElement(
							_TableRowColumn2.default,
							{ colSpan: 100 },
							_react2.default.createElement(
								'div',
								{ style: { textAlign: 'center', paddingTop: 100, paddingBottom: 100 } },
								_react2.default.createElement(
									'div',
									{ className: 'ui-nothing' },
									_react2.default.createElement('div', { className: 'icon' }),
									_react2.default.createElement(
										'p',
										{ className: 'tip' },
										'\u6682\u65F6\u8FD8\u6CA1\u6709\u6570\u636E\u5466~'
									)
								)
							)
						)
					)
				)
			);
		}
	}, {
		key: 'renderTableBody',
		value: function renderTableBody() {
			var _this4 = this;

			var _props5 = this.props,
			    className = _props5.className,
			    children = _props5.children,
			    style = _props5.style;


			var tBody = void 0;

			_react2.default.Children.forEach(children, function (child) {
				if (!_react2.default.isValidElement(child)) return;
				var displayName = child.type.displayName;

				if (displayName === 'TableBody') {
					tBody = _this4.createTableBody(child);
				}
			});

			return tBody;
		}
	}, {
		key: 'renderTableFooter',
		value: function renderTableFooter() {
			var _this5 = this;

			var _props6 = this.props,
			    className = _props6.className,
			    children = _props6.children,
			    style = _props6.style;

			var tFoot = void 0;

			_react2.default.Children.forEach(children, function (child) {
				if (!_react2.default.isValidElement(child)) return;
				var _child$type2 = child.type,
				    muiName = _child$type2.muiName,
				    name = _child$type2.name,
				    displayName = _child$type2.displayName;

				if (displayName === 'TableFooter') {
					tFoot = _this5.createTableFooter(child);
				}
			});

			return tFoot;
		}
	}, {
		key: 'renderLoading',
		value: function renderLoading() {
			var _props7 = this.props,
			    className = _props7.className,
			    children = _props7.children,
			    style = _props7.style;


			return _react2.default.createElement(
				'table',
				{ className: "ui-table " + className, style: style },
				this.renderTableHeader(),
				_react2.default.createElement(
					'tbody',
					null,
					_react2.default.createElement(
						'tr',
						{ style: { backgroundColor: '#fff' } },
						_react2.default.createElement(
							_TableRowColumn2.default,
							{ colSpan: 100 },
							_react2.default.createElement(
								'div',
								{ style: { textAlign: 'center', paddingTop: 50, paddingBottom: 50 } },
								_react2.default.createElement(_Loading2.default, null)
							)
						)
					)
				)
			);
		}
	}, {
		key: 'render',
		value: function render() {
			var _props8 = this.props,
			    className = _props8.className,
			    children = _props8.children,
			    style = _props8.style,
			    ajax = _props8.ajax,
			    fold = _props8.fold;
			var _state3 = this.state,
			    listData = _state3.listData,
			    loading = _state3.loading;

			fold = fold || this.state.fold;
			if (loading) {
				return this.renderLoading();
			}

			if (ajax && !listData.length) {
				return this.renderNotListData();
			}

			return _react2.default.createElement(
				'div',
				{ className: 'ui-table-wrap' },
				_react2.default.createElement(
					'table',
					{ className: "ui-table " + className, style: style },
					this.renderTableHeader(),
					this.renderTableBody(),
					this.renderTableFooter()
				),
				this.renderFold()
			);
		}
	}]);

	return Table;
}(_react2.default.Component);

Table.displayName = 'Table';
Table.defaultProps = {
	page: 1,
	pageSize: 15,
	totalCount: 20,
	pagination: true,
	loading: false,
	ajax: false,
	ajaxFieldListName: 'items',
	displayCheckbox: true,
	footer: false,
	exportSwitch: false,
	defaultSelectedRows: [],
	fold: false,
	foldSize: 10,
	foldOpen: false
};
Table.PropTypes = {
	className: _react2.default.PropTypes.string,
	children: _react2.default.PropTypes.node,
	displayCheckbox: _react2.default.PropTypes.bool,
	style: _react2.default.PropTypes.object,
	toggleVisibility: _react2.default.PropTypes.string,
	exportSwitch: _react2.default.PropTypes.bool,
	page: _react2.default.PropTypes.oneOfType([_react2.default.PropTypes.string, _react2.default.PropTypes.number]),
	pageSize: _react2.default.PropTypes.oneOfType([_react2.default.PropTypes.string, _react2.default.PropTypes.number]),
	pagination: _react2.default.PropTypes.bool,
	totalCount: _react2.default.PropTypes.oneOfType([_react2.default.PropTypes.string, _react2.default.PropTypes.number]),
	loading: _react2.default.PropTypes.bool,
	ajax: _react2.default.PropTypes.bool,
	ajaxUrlName: _react2.default.PropTypes.string,
	ajaxParams: _react2.default.PropTypes.object,
	ajaxFieldListName: _react2.default.PropTypes.string,
	//tfoot
	footer: _react2.default.PropTypes.bool,
	defaultSelectedRows: _react2.default.PropTypes.array,

	//事件
	onExport: _react2.default.PropTypes.func,
	onSelectAll: _react2.default.PropTypes.func,
	onCellClick: _react2.default.PropTypes.func,
	onRowClick: _react2.default.PropTypes.func,
	onPageChange: _react2.default.PropTypes.func,
	onOperation: _react2.default.PropTypes.func,
	onLoaded: _react2.default.PropTypes.func,
	onSelect: _react2.default.PropTypes.func,
	onProcessData: _react2.default.PropTypes.func,

	fold: _react2.default.PropTypes.bool,
	foldSize: _react2.default.PropTypes.string,
	foldOpen: _react2.default.PropTypes.bool,
	onFold: _react2.default.PropTypes.func
};
exports.default = Table;
;

var _temp = function () {
	if (typeof __REACT_HOT_LOADER__ === 'undefined') {
		return;
	}

	__REACT_HOT_LOADER__.register(Table, 'Table', '/Users/liuyihao/Code/kr-admin/src/Components/Table/Table/index.js');
}();

;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9Db21wb25lbnRzL1RhYmxlL1RhYmxlL2luZGV4LmpzIl0sIm5hbWVzIjpbIlRhYmxlIiwicHJvcHMiLCJvbkZvbGQiLCJmb2xkU2l6ZSIsInZpc2liaWxpdHlSb3dzIiwic3RhdGUiLCJmb2xkT3BlbiIsInRvU3RyaW5nIiwicmVwbGFjZSIsInN1YnN0ciIsImxlbmd0aCIsInNwbGl0Iiwic2V0U3RhdGUiLCJyZW5kZXJGb2xkIiwiZm9sZCIsInNob3VsZENvbXBvbmVudFVwZGF0ZSIsImJpbmQiLCJjcmVhdGVUYWJsZUhlYWRlciIsImNyZWF0ZVRhYmxlQm9keSIsImNyZWF0ZVRhYmxlRm9vdGVyIiwic2V0VmlzaWJpbGl0eVJvdyIsIm9uU29ydCIsIm9uU2VsZWN0QWxsIiwib25TZWxlY3QiLCJvblJvd0NsaWNrIiwib25FeHBvcnQiLCJvbkNlbGxDbGljayIsIm9uUGFnZUNoYW5nZSIsIm9uT3BlcmF0aW9uIiwib25Mb2FkZWQiLCJvbkxvYWREYXRhIiwib25Jbml0aWFsIiwib25Qcm9jZXNzRGF0YSIsInJlbmRlclRhYmxlSGVhZGVyIiwicmVuZGVyVGFibGVCb2R5IiwicmVuZGVyVGFibGVGb290ZXIiLCJyZW5kZXJMb2FkaW5nIiwicmVuZGVyTm90TGlzdERhdGEiLCJyZXNwb25zZSIsInBhZ2UiLCJwYWdlU2l6ZSIsInRvdGFsQ291bnQiLCJsaXN0RGF0YSIsImxvYWRpbmciLCJpc0xvYWRlZCIsImFsbFJvd3NTZWxlY3RlZCIsInNlbGVjdGVkUm93cyIsImRlZmF1bHRWYWx1ZSIsImNoZWNrYm94V2lkdGgiLCJtYXhSb3dzIiwiaW5pdGlhbFZhbHVlcyIsIm5leHRQcm9wcyIsImFqYXhQYXJhbXMiLCJuZXh0U3RhdGUiLCJuYW1lIiwiZGVmYXVsdFNlbGVjdGVkUm93cyIsInR5cGUiLCJpdGVtRGF0YSIsImV4cG9ydFJvd3MiLCJleHBvcnREYXRhIiwiZmlsdGVyIiwiaXRlbSIsImluZGV4IiwiZm9yRWFjaCIsInBhcnNlSW50IiwicHVzaCIsImFqYXgiLCJhamF4VXJsTmFtZSIsIl90aGlzIiwicmVxdWVzdCIsInRoZW4iLCJhamF4RmllbGRMaXN0TmFtZSIsImNhdGNoIiwiZXJyIiwic2hvdyIsIm1lc3NhZ2UiLCJBcnJheSIsImpvaW4iLCJOdW1iZXIiLCJ2aXNpYmlsaXR5VHlwZSIsInRvZ2dsZVZpc2liaWxpdHkiLCJyb3dOdW1iZXIiLCJldmVudCIsImNvbmNhdCIsImhhc093blByb3BlcnR5IiwidGFyZ2V0Iiwibm9kZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsInZpdGliaWxpdHlUeXBlIiwicmVzdWx0IiwidG1wIiwid2luZG93Iiwic2V0VGltZW91dCIsImJhc2UiLCJjbG9uZUVsZW1lbnQiLCJkaXNwbGF5Q2hlY2tib3giLCJwYWdpbmF0aW9uIiwiZm9vdGVyIiwiZXhwb3J0U3dpdGNoIiwiaGFuZGxlcnMiLCJjbGFzc05hbWUiLCJjaGlsZHJlbiIsInN0eWxlIiwidEhlYWQiLCJDaGlsZHJlbiIsImNoaWxkIiwiaXNWYWxpZEVsZW1lbnQiLCJtdWlOYW1lIiwiZGlzcGxheU5hbWUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ0ZXh0QWxpZ24iLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSIsInRCb2R5IiwidEZvb3QiLCJDb21wb25lbnQiLCJkZWZhdWx0UHJvcHMiLCJQcm9wVHlwZXMiLCJzdHJpbmciLCJub2RlIiwiYm9vbCIsIm9iamVjdCIsIm9uZU9mVHlwZSIsIm51bWJlciIsImFycmF5IiwiZnVuYyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUVBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBR0E7O0FBRUE7Ozs7Ozs7Ozs7SUFFcUJBLEs7OztBQXlEcEIsZ0JBQVlDLEtBQVosRUFBbUI7QUFBQTs7QUFBQSw2R0FFWkEsS0FGWTs7QUFBQSxTQTRRbkJDLE1BNVFtQixHQTRRVixZQUFJO0FBQUEsc0JBRWMsT0FBS0QsS0FGbkI7QUFB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YSxnQkFBTWtELFNBQU4sQ0FBZ0JDLE1BYlg7QUFjbEJsRSxhQUFZLGdCQUFNaUUsU0FBTixDQUFnQkksTUFkVjtBQWVsQmxELG9CQUFtQixnQkFBTThDLFNBQU4sQ0FBZ0JDLE1BZmpCO0FBZ0JsQjtBQUNBckIsU0FBUSxnQkFBTW9CLFNBQU4sQ0FBZ0JHLElBakJOO0FBa0JsQmpFLHNCQUFxQixnQkFBTThELFNBQU4sQ0FBZ0JPLEtBbEJuQjs7QUFvQmxCO0FBQ0FuRyxXQUFVLGdCQUFNNEYsU0FBTixDQUFnQlEsSUFyQlI7QUFzQmxCdkcsY0FBYSxnQkFBTStGLFNBQU4sQ0FBZ0JRLElBdEJYO0FBdUJsQm5HLGNBQWEsZ0JBQU0yRixTQUFOLENBQWdCUSxJQXZCWDtBQXdCbEJyRyxhQUFZLGdCQUFNNkYsU0FBTixDQUFnQlEsSUF4QlY7QUF5QmxCbEcsZUFBYyxnQkFBTTBGLFNBQU4sQ0FBZ0JRLElBekJaO0FBMEJsQmpHLGNBQWEsZ0JBQU15RixTQUFOLENBQWdCUSxJQTFCWDtBQTJCbEJoRyxXQUFVLGdCQUFNd0YsU0FBTixDQUFnQlEsSUEzQlI7QUE0QmxCdEcsV0FBVSxnQkFBTThGLFNBQU4sQ0FBZ0JRLElBNUJSO0FBNkJsQjdGLGdCQUFlLGdCQUFNcUYsU0FBTixDQUFnQlEsSUE3QmI7O0FBK0JsQi9HLE9BQUssZ0JBQU11RyxTQUFOLENBQWdCRyxJQS9CSDtBQWdDbEJySCxXQUFTLGdCQUFNa0gsU0FBTixDQUFnQkMsTUFoQ1A7QUFpQ2xCaEgsV0FBUyxnQkFBTStHLFNBQU4sQ0FBZ0JHLElBakNQO0FBa0NsQnRILFNBQU8sZ0JBQU1tSCxTQUFOLENBQWdCUTtBQWxDTCxDO2tCQXBCQzdILEs7Ozs7Ozs7OytCQUFBQSxLIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9saXV5aWhhby9Db2RlL2tyLWFkbWluIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBMb2FkaW5nIGZyb20gJy4uLy4uL0xvYWRpbmcnO1xuaW1wb3J0IGh0dHAgZnJvbSAna3IvUmVkdXgvVXRpbHMvZmV0Y2gnO1xuaW1wb3J0IFB1cmVSZW5kZXJNaXhpbiBmcm9tICdyZWFjdC1hZGRvbnMtcHVyZS1yZW5kZXItbWl4aW4nO1xuaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IFRhYmxlQm9keSBmcm9tICcuLi9UYWJsZUJvZHknO1xuaW1wb3J0IFRhYmxlUm93IGZyb20gJy4uL1RhYmxlUm93JztcbmltcG9ydCBUYWJsZVJvd0NvbHVtbiBmcm9tICcuLi9UYWJsZVJvd0NvbHVtbic7XG5pbXBvcnQgTm90aWZ5IGZyb20gJy4uLy4uL05vdGlmeSc7XG5cblxuaW1wb3J0IHtTaGFsbG93RXF1YWx9IGZyb20gJ2tyL1V0aWxzJztcblxuaW1wb3J0ICcuL2luZGV4Lmxlc3MnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cblx0c3RhdGljIGRpc3BsYXlOYW1lID0gJ1RhYmxlJztcblx0c3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcblx0XHRwYWdlOiAxLFxuXHRcdHBhZ2VTaXplOiAxNSxcblx0XHR0b3RhbENvdW50OiAyMCxcblx0XHRwYWdpbmF0aW9uOiB0cnVlLFxuXHRcdGxvYWRpbmc6IGZhbHNlLFxuXHRcdGFqYXg6IGZhbHNlLFxuXHRcdGFqYXhGaWVsZExpc3ROYW1lOiAnaXRlbXMnLFxuXHRcdGRpc3BsYXlDaGVja2JveDogdHJ1ZSxcblx0XHRmb290ZXI6IGZhbHNlLFxuXHRcdGV4cG9ydFN3aXRjaDogZmFsc2UsXG5cdFx0ZGVmYXVsdFNlbGVjdGVkUm93czogW10sXG5cdFx0Zm9sZDpmYWxzZSxcblx0XHRmb2xkU2l6ZToxMCxcblx0XHRmb2xkT3BlbjpmYWxzZSxcblx0fVxuXG5cdHN0YXRpYyBQcm9wVHlwZXMgPSB7XG5cdFx0Y2xhc3NOYW1lOiBSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLFxuXHRcdGNoaWxkcmVuOiBSZWFjdC5Qcm9wVHlwZXMubm9kZSxcblx0XHRkaXNwbGF5Q2hlY2tib3g6IFJlYWN0LlByb3BUeXBlcy5ib29sLFxuXHRcdHN0eWxlOiBSZWFjdC5Qcm9wVHlwZXMub2JqZWN0LFxuXHRcdHRvZ2dsZVZpc2liaWxpdHk6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdFx0ZXhwb3J0U3dpdGNoOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0XHRwYWdlOiBSZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLCBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyXSksXG5cdFx0cGFnZVNpemU6IFJlYWN0LlByb3BUeXBlcy5vbmVPZlR5cGUoW1JlYWN0LlByb3BUeXBlcy5zdHJpbmcsIFJlYWN0LlByb3BUeXBlcy5udW1iZXJdKSxcblx0XHRwYWdpbmF0aW9uOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0XHR0b3RhbENvdW50OiBSZWFjdC5Qcm9wVHlwZXMub25lT2ZUeXBlKFtSZWFjdC5Qcm9wVHlwZXMuc3RyaW5nLCBSZWFjdC5Qcm9wVHlwZXMubnVtYmVyXSksXG5cdFx0bG9hZGluZzogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdFx0YWpheDogUmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdFx0YWpheFVybE5hbWU6IFJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdFx0YWpheFBhcmFtczogUmVhY3QuUHJvcFR5cGVzLm9iamVjdCxcblx0XHRhamF4RmllbGRMaXN0TmFtZTogUmVhY3QuUHJvcFR5cGVzLnN0cmluZyxcblx0XHQvL3Rmb290XG5cdFx0Zm9vdGVyOiBSZWFjdC5Qcm9wVHlwZXMuYm9vbCxcblx0XHRkZWZhdWx0U2VsZWN0ZWRSb3dzOiBSZWFjdC5Qcm9wVHlwZXMuYXJyYXksXG5cblx0XHQvL+S6i+S7tlxuXHRcdG9uRXhwb3J0OiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0XHRvblNlbGVjdEFsbDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdFx0b25DZWxsQ2xpY2s6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHRcdG9uUm93Q2xpY2s6IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHRcdG9uUGFnZUNoYW5nZTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdFx0b25PcGVyYXRpb246IFJlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHRcdG9uTG9hZGVkOiBSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0XHRvblNlbGVjdDogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cdFx0b25Qcm9jZXNzRGF0YTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMsXG5cblx0XHRmb2xkOlJlYWN0LlByb3BUeXBlcy5ib29sLFxuXHRcdGZvbGRTaXplOlJlYWN0LlByb3BUeXBlcy5zdHJpbmcsXG5cdFx0Zm9sZE9wZW46UmVhY3QuUHJvcFR5cGVzLmJvb2wsXG5cdFx0b25Gb2xkOlJlYWN0LlByb3BUeXBlcy5mdW5jLFxuXHR9XG5cblx0Y29uc3RydWN0b3IocHJvcHMpIHtcblxuXHRcdHN1cGVyKHByb3BzKTtcblxuXHRcdHRoaXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gUHVyZVJlbmRlck1peGluLnNob3VsZENvbXBvbmVudFVwZGF0ZS5iaW5kKHRoaXMpO1xuXG5cdFx0dGhpcy5jcmVhdGVUYWJsZUhlYWRlciA9IHRoaXMuY3JlYXRlVGFibGVIZWFkZXIuYmluZCh0aGlzKTtcblx0XHR0aGlzLmNyZWF0ZVRhYmxlQm9keSA9IHRoaXMuY3JlYXRlVGFibGVCb2R5LmJpbmQodGhpcyk7XG5cdFx0dGhpcy5jcmVhdGVUYWJsZUZvb3RlciA9IHRoaXMuY3JlYXRlVGFibGVGb290ZXIuYmluZCh0aGlzKTtcblx0XHR0aGlzLnNldFZpc2liaWxpdHlSb3cgPSB0aGlzLnNldFZpc2liaWxpdHlSb3cuYmluZCh0aGlzKTtcblxuXHRcdHRoaXMub25Tb3J0ID0gdGhpcy5vblNvcnQuYmluZCh0aGlzKTtcblx0XHR0aGlzLm9uU2VsZWN0QWxsID0gdGhpcy5vblNlbGVjdEFsbC5iaW5kKHRoaXMpO1xuXHRcdHRoaXMub25TZWxlY3QgPSB0aGlzLm9uU2VsZWN0LmJpbmQodGhpcyk7XG5cdFx0dGhpcy5vblJvd0NsaWNrID0gdGhpcy5vblJvd0NsaWNrLmJpbmQodGhpcyk7XG5cdFx0dGhpcy5vbkV4cG9ydCA9IHRoaXMub25FeHBvcnQuYmluZCh0aGlzKTtcblx0XHR0aGlzLm9uQ2VsbENsaWNrID0gdGhpcy5vbkNlbGxDbGljay5iaW5kKHRoaXMpO1xuXHRcdHRoaXMub25QYWdlQ2hhbmdlID0gdGhpcy5vblBhZ2VDaGFuZ2UuYmluZCh0aGlzKTtcblx0XHR0aGlzLm9uT3BlcmF0aW9uID0gdGhpcy5vbk9wZXJhdGlvbi5iaW5kKHRoaXMpO1xuXHRcdHRoaXMub25Mb2FkZWQgPSB0aGlzLm9uTG9hZGVkLmJpbmQodGhpcyk7XG5cblx0XHR0aGlzLm9uTG9hZERhdGEgPSB0aGlzLm9uTG9hZERhdGEuYmluZCh0aGlzKTtcblx0XHR0aGlzLm9uSW5pdGlhbCA9IHRoaXMub25Jbml0aWFsLmJpbmQodGhpcyk7XG5cdFx0dGhpcy5vblByb2Nlc3NEYXRhID0gdGhpcy5vblByb2Nlc3NEYXRhLmJpbmQodGhpcyk7XG5cblxuXHRcdHRoaXMucmVuZGVyVGFibGVIZWFkZXIgPSB0aGlzLnJlbmRlclRhYmxlSGVhZGVyLmJpbmQodGhpcyk7XG5cdFx0dGhpcy5yZW5kZXJUYWJsZUJvZHkgPSB0aGlzLnJlbmRlclRhYmxlQm9keS5iaW5kKHRoaXMpO1xuXHRcdHRoaXMucmVuZGVyVGFibGVGb290ZXIgPSB0aGlzLnJlbmRlclRhYmxlRm9vdGVyLmJpbmQodGhpcyk7XG5cdFx0dGhpcy5yZW5kZXJMb2FkaW5nID0gdGhpcy5yZW5kZXJMb2FkaW5nLmJpbmQodGhpcyk7XG5cdFx0dGhpcy5yZW5kZXJOb3RMaXN0RGF0YSA9IHRoaXMucmVuZGVyTm90TGlzdERhdGEuYmluZCh0aGlzKTtcblxuXG5cdFx0dGhpcy5zdGF0ZSA9IHtcblx0XHRcdHJlc3BvbnNlOiB7fSxcblx0XHRcdHBhZ2U6IHRoaXMucHJvcHMucGFnZSxcblx0XHRcdHBhZ2VTaXplOiB0aGlzLnByb3BzLnBhZ2VTaXplLFxuXHRcdFx0dG90YWxDb3VudDogdGhpcy5wcm9wcy50b3RhbENvdW50LFxuXHRcdFx0bGlzdERhdGE6IFtdLFxuXHRcdFx0bG9hZGluZzogdGhpcy5wcm9wcy5sb2FkaW5nLFxuXHRcdFx0aXNMb2FkZWQ6IGZhbHNlLFxuXHRcdFx0YWxsUm93c1NlbGVjdGVkOiBmYWxzZSxcblx0XHRcdHNlbGVjdGVkUm93czogW10sXG5cdFx0XHR2aXNpYmlsaXR5Um93czogW10sXG5cdFx0XHRmb2xkOmZhbHNlLFxuXHRcdFx0Zm9sZE9wZW46dGhpcy5wcm9wcy5mb2xkT3Blbixcblx0XHRcdGRlZmF1bHRWYWx1ZToge1xuXHRcdFx0XHRjaGVja2JveFdpZHRoOiA1MFxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMubWF4Um93cyA9IDEwMDA7XG5cblxuXHRcdGxldCB7aW5pdGlhbFZhbHVlc30gPSB0aGlzLnByb3BzO1xuXG5cblx0XHRpZihpbml0aWFsVmFsdWVzKXtcblx0XHRcdFx0dGhpcy5vbkluaXRpYWwoaW5pdGlhbFZhbHVlcyk7XG5cdFx0fVxuXG5cblx0fVxuXG5cblx0Y29tcG9uZW50RGlkTW91bnQoKSB7XG5cblx0fVxuXG5cdGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG5cdFx0aWYgKCFTaGFsbG93RXF1YWwodGhpcy5wcm9wcy5hamF4UGFyYW1zLCBuZXh0UHJvcHMuYWpheFBhcmFtcykpIHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRpc0xvYWRlZDogZmFsc2Vcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5vbkxvYWREYXRhKDEsIG5leHRQcm9wcy5hamF4UGFyYW1zKTtcblx0XHR9XG5cblx0XHRpZiAobmV4dFByb3BzLnBhZ2UgIT0gdGhpcy5wcm9wcy5wYWdlKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0cGFnZTogbmV4dFByb3BzLnBhZ2Vcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGlmIChuZXh0UHJvcHMubG9hZGluZyAhPSB0aGlzLnByb3BzLmxvYWRpbmcpIHtcblx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRsb2FkaW5nOiBuZXh0UHJvcHMubG9hZGluZ1xuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLm9uTG9hZERhdGEoMSwgbmV4dFByb3BzLmFqYXhQYXJhbXMpO1xuXHRcdH1cblxuXG5cdFx0aWYgKCFTaGFsbG93RXF1YWwodGhpcy5wcm9wcy5pbml0aWFsVmFsdWVzLCBuZXh0UHJvcHMuaW5pdGlhbFZhbHVlcykpIHtcblx0XHRcdFx0dGhpcy5vbkluaXRpYWwobmV4dFByb3BzLmluaXRpYWxWYWx1ZXMpO1xuXHRcdH1cblxuXHR9XG5cblx0c2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG5cblx0XHRpZiAoIVNoYWxsb3dFcXVhbCh0aGlzLnByb3BzLmFqYXhQYXJhbXMsIG5leHRQcm9wcy5hamF4UGFyYW1zKSkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdGlmIChuZXh0UHJvcHMucGFnZSAhPSB0aGlzLnByb3BzLnBhZ2UpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0XHRpZiAobmV4dFByb3BzLmxvYWRpbmcgIT0gdGhpcy5wcm9wcy5sb2FkaW5nKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0b25Tb3J0KG5hbWUpIHtcblx0XHRpZiAoIW5hbWUpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0bGV0IHtcblx0XHRcdGxpc3REYXRhXG5cdFx0fSA9IHRoaXMuc3RhdGU7XG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRsaXN0RGF0YVxuXHRcdH0pO1xuXHR9XG5cblx0b25Qcm9jZXNzRGF0YShzdGF0ZSl7XG5cdFx0bGV0IHtvblByb2Nlc3NEYXRhfSA9IHRoaXMucHJvcHM7XG5cblx0XHRpZihvblByb2Nlc3NEYXRhKXtcblx0XHRcdCBzdGF0ZSA9IG9uUHJvY2Vzc0RhdGEoc3RhdGUpO1xuXHRcdH1cblx0XHRyZXR1cm4gc3RhdGU7XG5cdH1cblxuXHRvbkluaXRpYWwoc3RhdGUpIHtcblxuXHRcdGxldCB7XG5cdFx0XHRkZWZhdWx0U2VsZWN0ZWRSb3dzXG5cdFx0fSA9IHRoaXMucHJvcHM7XG5cblx0XHRzdGF0ZS5zZWxlY3RlZFJvd3MgPSBkZWZhdWx0U2VsZWN0ZWRSb3dzO1xuXG5cdFx0c3RhdGUgPSB0aGlzLm9uUHJvY2Vzc0RhdGEoc3RhdGUpO1xuXG5cdFx0dGhpcy5zZXRTdGF0ZShzdGF0ZSwgZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLm9uTG9hZGVkKCk7XG5cdFx0fSk7XG5cblx0fVxuXG5cdG9uTG9hZGVkKCkge1xuXHRcdGNvbnN0IHtcblx0XHRcdG9uTG9hZGVkXG5cdFx0fSA9IHRoaXMucHJvcHM7XG5cblx0XHRvbkxvYWRlZCAmJiBvbkxvYWRlZCh0aGlzLnN0YXRlLnJlc3BvbnNlKTtcblx0fVxuXG5cblx0b25PcGVyYXRpb24odHlwZSwgaXRlbURhdGEpIHtcblx0XHRjb25zdCB7XG5cdFx0XHRvbk9wZXJhdGlvblxuXHRcdH0gPSB0aGlzLnByb3BzO1xuXHRcdG9uT3BlcmF0aW9uICYmIG9uT3BlcmF0aW9uKHR5cGUsIGl0ZW1EYXRhKTtcblx0fVxuXG5cdG9uUGFnZUNoYW5nZShwYWdlKSB7XG5cblx0XHRjb25zdCB7XG5cdFx0XHRvblBhZ2VDaGFuZ2Vcblx0XHR9ID0gdGhpcy5wcm9wcztcblxuXHRcdG9uUGFnZUNoYW5nZSAmJiBvblBhZ2VDaGFuZ2UocGFnZSk7XG5cdFx0dGhpcy5vbkxvYWREYXRhKHBhZ2UpO1xuXHR9XG5cblx0b25DZWxsQ2xpY2soKSB7XG5cblx0fVxuXG5cblx0b25FeHBvcnQoKSB7XG5cblx0XHRsZXQge1xuXHRcdFx0c2VsZWN0ZWRSb3dzLFxuXHRcdFx0dmlzaWJpbGl0eVJvd3MsXG5cdFx0XHRsaXN0RGF0YSxcblx0XHR9ID0gdGhpcy5zdGF0ZTtcblxuXG5cdFx0bGV0IHtcblx0XHRcdG9uRXhwb3J0XG5cdFx0fSA9IHRoaXMucHJvcHM7XG5cblx0XHR2YXIgZXhwb3J0Um93cyA9IFtdO1xuXHRcdHZhciBleHBvcnREYXRhID0gW107XG5cblxuXHRcdGxpc3REYXRhID0gbGlzdERhdGEuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG5cdFx0XHRyZXR1cm4gISh0eXBlb2YgaXRlbSA9PT0gJ3VuZGVmaW5lZCcpO1xuXHRcdH0pO1xuXG5cblx0XHR2aXNpYmlsaXR5Um93cy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG5cdFx0XHRpZiAoaXRlbSAmJiBwYXJzZUludChzZWxlY3RlZFJvd3NbaW5kZXhdKSkge1xuXHRcdFx0XHRleHBvcnRSb3dzLnB1c2goaW5kZXgpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cblx0XHRleHBvcnRSb3dzLmZvckVhY2goZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcblx0XHRcdGlmIChsaXN0RGF0YVtpdGVtXSkge1xuXHRcdFx0XHRleHBvcnREYXRhLnB1c2gobGlzdERhdGFbaXRlbV0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0b25FeHBvcnQgJiYgb25FeHBvcnQoZXhwb3J0RGF0YSwgZXhwb3J0Um93cyk7XG5cblx0fVxuXG5cblx0b25Mb2FkRGF0YShwYWdlID0gMSwgYWpheFBhcmFtcyA9IHRoaXMucHJvcHMuYWpheFBhcmFtcykge1xuXG5cdFx0YWpheFBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe30sIGFqYXhQYXJhbXMpO1xuXG5cdFx0aWYgKCF0aGlzLnByb3BzLmFqYXgpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdGxvYWRpbmc6IHRydWVcblx0XHR9KTtcblxuXG5cdFx0dmFyIHtcblx0XHRcdGFqYXhVcmxOYW1lXG5cdFx0fSA9IHRoaXMucHJvcHM7XG5cblx0XHRhamF4UGFyYW1zLnBhZ2UgPSBwYWdlO1xuXG5cdFx0dmFyIF90aGlzID0gdGhpcztcblxuXHRcdGh0dHAucmVxdWVzdChhamF4VXJsTmFtZSwgYWpheFBhcmFtcykudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0X3RoaXMub25Jbml0aWFsKHtcblx0XHRcdFx0cmVzcG9uc2U6IHJlc3BvbnNlLFxuXHRcdFx0XHRsaXN0RGF0YTogcmVzcG9uc2VbX3RoaXMucHJvcHMuYWpheEZpZWxkTGlzdE5hbWVdLFxuXHRcdFx0XHRwYWdlOiByZXNwb25zZS5wYWdlLFxuXHRcdFx0XHRwYWdlU2l6ZTogcmVzcG9uc2UucGFnZVNpemUsXG5cdFx0XHRcdHRvdGFsQ291bnQ6IHJlc3BvbnNlLnRvdGFsQ291bnQsXG5cdFx0XHRcdGlzTG9hZGVkOiB0cnVlLFxuXHRcdFx0XHRsb2FkaW5nOmZhbHNlLFxuXHRcdFx0XHRhbGxSb3dzU2VsZWN0ZWQ6ZmFsc2Vcblx0XHRcdH0pO1xuXHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuXG5cdFx0XHRfdGhpcy5vbkluaXRpYWwoe1xuXHRcdFx0XHRpc0xvYWRlZDogdHJ1ZSxcblx0XHRcdFx0bG9hZGluZzpmYWxzZSxcblx0XHRcdFx0YWxsUm93c1NlbGVjdGVkOmZhbHNlXG5cdFx0XHR9KTtcblxuXHRcdFx0Tm90aWZ5LnNob3coW3tcblx0XHRcdFx0bWVzc2FnZTogZXJyLm1lc3NhZ2UsXG5cdFx0XHRcdHR5cGU6ICdlcnJvcicsXG5cdFx0XHR9XSk7XG5cblx0XHR9KTtcblxuXHR9XG5cblx0b25Gb2xkID0gKCk9PntcblxuXHRcdGNvbnN0IHtvbkZvbGQsZm9sZFNpemV9ID0gdGhpcy5wcm9wcztcblxuXHRcdHZhciB7dmlzaWJpbGl0eVJvd3N9ID0gdGhpcy5zdGF0ZTtcblxuXHRcdHZhciBmb2xkT3BlbiA9ICF0aGlzLnN0YXRlLmZvbGRPcGVuO1xuXHRcdHZpc2liaWxpdHlSb3dzID0gdmlzaWJpbGl0eVJvd3MudG9TdHJpbmcoKS5yZXBsYWNlKC8sL2dpLCcnKTtcblxuXHRcdGlmKGZvbGRPcGVuKXtcblx0XHRcdFx0dmlzaWJpbGl0eVJvd3MgPSB2aXNpYmlsaXR5Um93cy5zdWJzdHIoMCxmb2xkU2l6ZSkgKyB2aXNpYmlsaXR5Um93cy5zdWJzdHIoZm9sZFNpemUrMSx2aXNpYmlsaXR5Um93cy5sZW5ndGgpLnJlcGxhY2UoLzAvZ2ksMSk7XG5cdFx0fWVsc2V7XG5cdFx0XHRcdHZpc2liaWxpdHlSb3dzID0gdmlzaWJpbGl0eVJvd3Muc3Vic3RyKDAsZm9sZFNpemUpICsgdmlzaWJpbGl0eVJvd3Muc3Vic3RyKGZvbGRTaXplKzEsdmlzaWJpbGl0eVJvd3MubGVuZ3RoKS5yZXBsYWNlKC8xL2dpLDApO1xuXHRcdH1cblxuXHRcdHZpc2liaWxpdHlSb3dzID0gdmlzaWJpbGl0eVJvd3Muc3BsaXQoJycpO1xuXG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRmb2xkT3Blbixcblx0XHRcdHZpc2liaWxpdHlSb3dzXG5cdFx0fSxmdW5jdGlvbigpe1xuXHRcdFx0b25Gb2xkICYmIG9uRm9sZCgpO1xuXHRcdH0pO1xuXHR9XG5cblx0Y29tcG9uZW50RGlkTW91bnQoKSB7XG5cblx0XHR0aGlzLm9uTG9hZERhdGEoKTtcblxuXHRcdGNvbnN0IHtmb2xkT3Blbixmb2xkLGZvbGRTaXplfSA9IHRoaXMucHJvcHM7XG5cblx0XHR2YXIgdmlzaWJpbGl0eVJvd3MgPSBuZXcgQXJyYXkodGhpcy5tYXhSb3dzICsgMSkuam9pbigxKTtcblxuXHRcdGlmKGZvbGQpe1xuXHRcdFx0dmlzaWJpbGl0eVJvd3MgPSAobmV3IEFycmF5KGZvbGRTaXplKzEpKS5qb2luKDEpKyhuZXcgQXJyYXkoTnVtYmVyKHRoaXMubWF4Um93cyktTnVtYmVyKGZvbGRTaXplKzEpKSkuam9pbigwKTtcblx0XHR9XG5cblx0XHR2aXNpYmlsaXR5Um93cyA9IHZpc2liaWxpdHlSb3dzLnNwbGl0KCcnKTtcblxuXHRcdC8v6buY6K6k6ZqQ6JePY2hpbGRyZW5cblx0XHRsZXQgdmlzaWJpbGl0eVR5cGUgPSB0aGlzLnByb3BzLnRvZ2dsZVZpc2liaWxpdHkgfHwgJyc7XG5cblx0XHRzd2l0Y2ggKHZpc2liaWxpdHlUeXBlKSB7XG5cdFx0XHRjYXNlICdvZGQnOlxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dmlzaWJpbGl0eVJvd3MuZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuXHRcdFx0XHRcdFx0aWYgKGluZGV4ICUgMiAhPT0gMCkge1xuXHRcdFx0XHRcdFx0XHR2aXNpYmlsaXR5Um93c1tpbmRleF0gPSAwO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdGNhc2UgJ2V2ZW50Jzpcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHZpc2liaWxpdHlSb3dzLmZvckVhY2goZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcblx0XHRcdFx0XHRcdGlmIChpbmRleCAlIDIgPT0gMCkge1xuXHRcdFx0XHRcdFx0XHR2aXNpYmlsaXR5Um93c1tpbmRleF0gPSAwO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHtcblx0XHRcdFx0XHQvKlxuXHRcdFx0XHRcdHZpc2liaWxpdHlSb3dzLmZvckVhY2goZnVuY3Rpb24oaXRlbSwgaW5kZXgpIHtcblx0XHRcdFx0XHRcdHZpc2liaWxpdHlSb3dzW2luZGV4XSA9IDE7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Ki9cblx0XHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0dmlzaWJpbGl0eVJvd3Ncblx0XHR9KTtcblxuXHR9XG5cblx0c2V0VmlzaWJpbGl0eVJvdyhyb3dOdW1iZXIpIHtcblx0XHR2YXIgdmlzaWJpbGl0eVJvd3MgPSB0aGlzLnN0YXRlLnZpc2liaWxpdHlSb3dzO1xuXHRcdHZpc2liaWxpdHlSb3dzW3Jvd051bWJlcl0gPSBuZXcgTnVtYmVyKCEhIXBhcnNlSW50KHZpc2liaWxpdHlSb3dzW3Jvd051bWJlcl0pKTtcblx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdHZpc2liaWxpdHlSb3dzXG5cdFx0fSk7XG5cdH1cblxuXG5cdG9uUm93Q2xpY2soZXZlbnQsIHJvd051bWJlcikge1xuXG5cdFx0bGV0IHtcblx0XHRcdHNlbGVjdGVkUm93c1xuXHRcdH0gPSB0aGlzLnN0YXRlO1xuXG5cdFx0c2VsZWN0ZWRSb3dzID0gKG5ldyBBcnJheSgpKS5jb25jYXQoc2VsZWN0ZWRSb3dzKTtcblxuXG5cdFx0aWYgKHBhcnNlSW50KHNlbGVjdGVkUm93c1tyb3dOdW1iZXJdKSkge1xuXHRcdFx0c2VsZWN0ZWRSb3dzW3Jvd051bWJlcl0gPSAwO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzZWxlY3RlZFJvd3Nbcm93TnVtYmVyXSA9IDE7XG5cdFx0fVxuXG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRzZWxlY3RlZFJvd3M6IHNlbGVjdGVkUm93c1xuXHRcdH0sIGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5vblNlbGVjdCgpO1xuXHRcdH0pO1xuXG5cdFx0aWYgKGV2ZW50JiZldmVudC5oYXNPd25Qcm9wZXJ0eSgndGFyZ2V0JykgJiYgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT0gJ2lucHV0Jykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHQvL+aYvuekuuWtkOWFg+e0oFxuXHRcdHZhciB2aXRpYmlsaXR5VHlwZSA9IHRoaXMucHJvcHMudG9nZ2xlVmlzaWJpbGl0eTtcblx0XHRpZiAodml0aWJpbGl0eVR5cGUpIHtcblx0XHRcdGlmICh2aXRpYmlsaXR5VHlwZSA9PT0gJ29kZCcpIHtcblx0XHRcdFx0aWYgKHJvd051bWJlciAlIDIgPT0gMCkge1xuXHRcdFx0XHRcdHRoaXMuc2V0VmlzaWJpbGl0eVJvdyhyb3dOdW1iZXIgKyAxKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKHJvd051bWJlciAlIDIgIT0gMCkge1xuXHRcdFx0XHRcdHRoaXMuc2V0VmlzaWJpbGl0eVJvdyhyb3dOdW1iZXIgLSAxKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdG9uU2VsZWN0KCkge1xuXG5cdFx0bGV0IHtcblx0XHRcdHNlbGVjdGVkUm93cyxcblx0XHRcdHZpc2liaWxpdHlSb3dzXG5cdFx0fSA9IHRoaXMuc3RhdGU7XG5cblx0XHR2YXIgYWxsUm93c1NlbGVjdGVkID0gdHJ1ZTtcblx0XHR2YXIgcmVzdWx0ID0gW107XG5cdFx0dmlzaWJpbGl0eVJvd3MuZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuXHRcdFx0aWYgKGl0ZW0gJiYgcGFyc2VJbnQoc2VsZWN0ZWRSb3dzW2luZGV4XSkpIHtcblx0XHRcdFx0cmVzdWx0LnB1c2goaW5kZXgpO1xuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdGFsbFJvd3NTZWxlY3RlZCA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Y29uc3Qge1xuXHRcdFx0b25TZWxlY3Rcblx0XHR9ID0gdGhpcy5wcm9wcztcblx0XHRvblNlbGVjdCAmJiBvblNlbGVjdChyZXN1bHQpO1xuXG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRhbGxSb3dzU2VsZWN0ZWRcblx0XHR9KTtcblx0fVxuXG5cdG9uU2VsZWN0QWxsKCkge1xuXG5cdFx0bGV0IHtcblx0XHRcdGFsbFJvd3NTZWxlY3RlZFxuXHRcdH0gPSB0aGlzLnN0YXRlO1xuXHRcdGFsbFJvd3NTZWxlY3RlZCA9ICFhbGxSb3dzU2VsZWN0ZWQ7XG5cdFx0dmFyIHRtcCA9IFtdO1xuXHRcdGlmIChhbGxSb3dzU2VsZWN0ZWQpIHtcblx0XHRcdHRtcCA9IG5ldyBBcnJheSh0aGlzLm1heFJvd3MgKyAxKS5qb2luKDEpLnNwbGl0KCcnKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dG1wID0gbmV3IEFycmF5KHRoaXMubWF4Um93cyArIDEpLmpvaW4oMCkuc3BsaXQoJycpO1xuXHRcdH1cblxuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0YWxsUm93c1NlbGVjdGVkOiAhdGhpcy5zdGF0ZS5hbGxSb3dzU2VsZWN0ZWQsXG5cdFx0XHRzZWxlY3RlZFJvd3M6IHRtcCxcblx0XHR9KTtcblxuXHRcdHZhciBfdGhpcyA9IHRoaXM7XG5cdFx0d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRfdGhpcy5vblNlbGVjdCgpO1xuXHRcdH0sIDApO1xuXHR9XG5cblx0Y3JlYXRlVGFibGVIZWFkZXIoYmFzZSkge1xuXG5cdFx0cmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChcblx0XHRcdGJhc2UsIHtcblx0XHRcdFx0ZGlzcGxheUNoZWNrYm94OiB0aGlzLnByb3BzLmRpc3BsYXlDaGVja2JveCxcblx0XHRcdFx0b25TZWxlY3RBbGw6IHRoaXMub25TZWxlY3RBbGwsXG5cdFx0XHRcdGRlZmF1bHRWYWx1ZTogdGhpcy5zdGF0ZS5kZWZhdWx0VmFsdWUsXG5cdFx0XHRcdG9uU29ydDogdGhpcy5vblNvcnQsXG5cdFx0XHRcdGFsbFJvd3NTZWxlY3RlZDogdGhpcy5zdGF0ZS5hbGxSb3dzU2VsZWN0ZWQsXG5cdFx0XHR9XG5cdFx0KTtcblx0fVxuXG5cdGNyZWF0ZVRhYmxlQm9keShiYXNlKSB7XG5cblx0XHRyZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KFxuXHRcdFx0YmFzZSwge1xuXHRcdFx0XHRkaXNwbGF5Q2hlY2tib3g6IHRoaXMucHJvcHMuZGlzcGxheUNoZWNrYm94LFxuXHRcdFx0XHRhbGxSb3dzU2VsZWN0ZWQ6IHRoaXMuc3RhdGUuYWxsUm93c1NlbGVjdGVkLFxuXHRcdFx0XHRzZWxlY3RlZFJvd3M6IHRoaXMuc3RhdGUuc2VsZWN0ZWRSb3dzLFxuXHRcdFx0XHR2aXNpYmlsaXR5Um93czogdGhpcy5zdGF0ZS52aXNpYmlsaXR5Um93cyxcblx0XHRcdFx0b25Sb3dDbGljazogdGhpcy5vblJvd0NsaWNrLFxuXHRcdFx0XHRvbk9wZXJhdGlvbjogdGhpcy5vbk9wZXJhdGlvbixcblx0XHRcdFx0ZGVmYXVsdFZhbHVlOiB0aGlzLnN0YXRlLmRlZmF1bHRWYWx1ZSxcblx0XHRcdFx0bGlzdERhdGE6IHRoaXMuc3RhdGUubGlzdERhdGEsXG5cdFx0XHRcdGFqYXg6IHRoaXMucHJvcHMuYWpheCxcblx0XHRcdH1cblx0XHQpO1xuXG5cdH1cblxuXHRjcmVhdGVUYWJsZUZvb3RlcihiYXNlKSB7XG5cblx0XHRsZXQge1xuXHRcdFx0cGFnaW5hdGlvbixcblx0XHRcdGZvb3RlclxuXHRcdH0gPSB0aGlzLnByb3BzO1xuXG5cdFx0aWYgKHBhZ2luYXRpb24gfHwgZm9vdGVyKSB7XG5cdFx0XHRmb290ZXIgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGxldCBwcm9wcyA9IHtcblx0XHRcdGRpc3BsYXlDaGVja2JveDogdGhpcy5wcm9wcy5kaXNwbGF5Q2hlY2tib3gsXG5cdFx0XHRhbGxSb3dzU2VsZWN0ZWQ6IHRoaXMuc3RhdGUuYWxsUm93c1NlbGVjdGVkLFxuXHRcdFx0ZGVmYXVsdFZhbHVlOiB0aGlzLnN0YXRlLmRlZmF1bHRWYWx1ZSxcblx0XHRcdHBhZ2U6IHRoaXMuc3RhdGUucGFnZSxcblx0XHRcdHBhZ2VTaXplOiB0aGlzLnN0YXRlLnBhZ2VTaXplLFxuXHRcdFx0cGFnaW5hdGlvbjogdGhpcy5wcm9wcy5wYWdpbmF0aW9uLFxuXHRcdFx0dG90YWxDb3VudDogdGhpcy5zdGF0ZS50b3RhbENvdW50LFxuXHRcdFx0b25QYWdlQ2hhbmdlOiB0aGlzLm9uUGFnZUNoYW5nZSxcblx0XHRcdGV4cG9ydFN3aXRjaDogdGhpcy5wcm9wcy5leHBvcnRTd2l0Y2gsXG5cdFx0XHRmb290ZXI6IGZvb3Rlcixcblx0XHR9XG5cblx0XHRsZXQgaGFuZGxlcnMgPSB7XG5cdFx0XHRvblNlbGVjdEFsbDogdGhpcy5vblNlbGVjdEFsbCxcblx0XHRcdG9uRXhwb3J0OiB0aGlzLm9uRXhwb3J0XG5cdFx0fVxuXG5cdFx0cmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChcblx0XHRcdGJhc2UsIHtcblx0XHRcdFx0Li4ucHJvcHMsXG5cdFx0XHRcdC4uLmhhbmRsZXJzXG5cdFx0XHR9XG5cdFx0KTtcblx0fVxuXG5cblx0cmVuZGVyVGFibGVIZWFkZXIoKSB7XG5cdFx0bGV0IHtcblx0XHRcdGNsYXNzTmFtZSxcblx0XHRcdGNoaWxkcmVuLFxuXHRcdFx0c3R5bGVcblx0XHR9ID0gdGhpcy5wcm9wcztcblx0XHRsZXQgdEhlYWQ7XG5cdFx0UmVhY3QuQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgKGNoaWxkKSA9PiB7XG5cdFx0XHRpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkgcmV0dXJuO1xuXHRcdFx0Y29uc3Qge1xuXHRcdFx0XHRtdWlOYW1lLFxuXHRcdFx0XHRuYW1lLFxuXHRcdFx0XHRkaXNwbGF5TmFtZVxuXHRcdFx0fSA9IGNoaWxkLnR5cGU7XG5cdFx0XHRpZiAoZGlzcGxheU5hbWUgPT09ICdUYWJsZUhlYWRlcicpIHtcblx0XHRcdFx0dEhlYWQgPSB0aGlzLmNyZWF0ZVRhYmxlSGVhZGVyKGNoaWxkKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRyZXR1cm4gdEhlYWQ7XG5cdH1cblxuXHRyZW5kZXJOb3RMaXN0RGF0YSgpIHtcblxuXHRcdGxldCB7XG5cdFx0XHRjbGFzc05hbWUsXG5cdFx0XHRjaGlsZHJlbixcblx0XHRcdHN0eWxlXG5cdFx0fSA9IHRoaXMucHJvcHM7XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0PHRhYmxlIGNsYXNzTmFtZT17XCJ1aS10YWJsZSBcIitjbGFzc05hbWV9IHN0eWxlPXtzdHlsZX0+XG5cdFx0XHRcdHt0aGlzLnJlbmRlclRhYmxlSGVhZGVyKCl9XG5cdFx0XHRcdDx0Ym9keT5cblx0XHRcdFx0XHQ8dHIgc3R5bGU9e3tiYWNrZ3JvdW5kQ29sb3I6JyNmZmYnfX0+XG5cdFx0XHRcdFx0XHQ8VGFibGVSb3dDb2x1bW4gY29sU3Bhbj17MTAwfSA+XG5cdFx0XHRcdFx0XHRcdDxkaXYgc3R5bGU9e3t0ZXh0QWxpZ246J2NlbnRlcicscGFkZGluZ1RvcDoxMDAscGFkZGluZ0JvdHRvbToxMDB9fT5cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cInVpLW5vdGhpbmdcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiaWNvblwiPjwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0PHAgY2xhc3NOYW1lPVwidGlwXCI+5pqC5pe26L+Y5rKh5pyJ5pWw5o2u5ZGmfjwvcD5cblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L1RhYmxlUm93Q29sdW1uPlxuXHRcdFx0XHRcdDwvdHI+XG5cdFx0XHRcdDwvdGJvZHk+XG5cdFx0XHQ8L3RhYmxlPlxuXHRcdCk7XG5cdH1cblxuXHRyZW5kZXJUYWJsZUJvZHkoKSB7XG5cblx0XHRsZXQge1xuXHRcdFx0Y2xhc3NOYW1lLFxuXHRcdFx0Y2hpbGRyZW4sXG5cdFx0XHRzdHlsZVxuXHRcdH0gPSB0aGlzLnByb3BzO1xuXG5cdFx0bGV0IHRCb2R5O1xuXG5cdFx0UmVhY3QuQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgKGNoaWxkKSA9PiB7XG5cdFx0XHRpZiAoIVJlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkKSkgcmV0dXJuO1xuXHRcdFx0Y29uc3Qge2Rpc3BsYXlOYW1lfSA9IGNoaWxkLnR5cGU7XG5cdFx0XHRpZiAoZGlzcGxheU5hbWUgPT09ICdUYWJsZUJvZHknKSB7XG5cdFx0XHRcdHRCb2R5ID0gdGhpcy5jcmVhdGVUYWJsZUJvZHkoY2hpbGQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHRCb2R5O1xuXHR9XG5cblx0cmVuZGVyVGFibGVGb290ZXIoKSB7XG5cblx0XHRsZXQge1xuXHRcdFx0Y2xhc3NOYW1lLFxuXHRcdFx0Y2hpbGRyZW4sXG5cdFx0XHRzdHlsZVxuXHRcdH0gPSB0aGlzLnByb3BzO1xuXHRcdGxldCB0Rm9vdDtcblxuXHRcdFJlYWN0LkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIChjaGlsZCkgPT4ge1xuXHRcdFx0aWYgKCFSZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZCkpIHJldHVybjtcblx0XHRcdGNvbnN0IHtcblx0XHRcdFx0bXVpTmFtZSxcblx0XHRcdFx0bmFtZSxcblx0XHRcdFx0ZGlzcGxheU5hbWVcblx0XHRcdH0gPSBjaGlsZC50eXBlO1xuXHRcdFx0aWYgKGRpc3BsYXlOYW1lID09PSAnVGFibGVGb290ZXInKSB7XG5cdFx0XHRcdHRGb290ID0gdGhpcy5jcmVhdGVUYWJsZUZvb3RlcihjaGlsZCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gdEZvb3Q7XG5cblx0fVxuXG5cdHJlbmRlckxvYWRpbmcoKSB7XG5cdFx0bGV0IHtcblx0XHRcdGNsYXNzTmFtZSxcblx0XHRcdGNoaWxkcmVuLFxuXHRcdFx0c3R5bGVcblx0XHR9ID0gdGhpcy5wcm9wcztcblxuXHRcdHJldHVybiAoXG5cdFx0XHQ8dGFibGUgY2xhc3NOYW1lPXtcInVpLXRhYmxlIFwiK2NsYXNzTmFtZX0gc3R5bGU9e3N0eWxlfT5cblx0XHRcdFx0e3RoaXMucmVuZGVyVGFibGVIZWFkZXIoKX1cblx0XHRcdFx0PHRib2R5PlxuXHRcdFx0XHRcdDx0ciBzdHlsZT17e2JhY2tncm91bmRDb2xvcjonI2ZmZid9fT5cblx0XHRcdFx0XHRcdDxUYWJsZVJvd0NvbHVtbiBjb2xTcGFuPXsxMDB9ID5cblx0XHRcdFx0XHRcdFx0PGRpdiBzdHlsZT17e3RleHRBbGlnbjonY2VudGVyJyxwYWRkaW5nVG9wOjUwLHBhZGRpbmdCb3R0b206NTB9fT5cblx0XHRcdFx0XHRcdFx0XHRcdDxMb2FkaW5nIC8+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9UYWJsZVJvd0NvbHVtbj5cblx0XHRcdFx0XHQ8L3RyPlxuXHRcdFx0XHQ8L3Rib2R5PlxuXHRcdFx0XHR7Lypcblx0XHRcdFx0e3RoaXMucmVuZGVyVGFibGVGb290ZXIoKX1cblx0XHRcdFx0Ki99XG5cdFx0XHQ8L3RhYmxlPlxuXHRcdCk7XG5cdH1cblxuXHRyZW5kZXJGb2xkID0gKCk9PntcblxuXHRcdGNvbnN0IHtmb2xkfSA9IHRoaXMucHJvcHM7XG5cblx0XHRpZighZm9sZCl7XG5cdFx0XHRyZXR1cm4gbnVsbCA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIChcblx0XHQ8ZGl2PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImJ0bi1jb2xsYXBzZVwiPlxuXHRcdFx0XHR7dGhpcy5zdGF0ZS5mb2xkT3BlbiYmPHNwYW4gY2xhc3NOYW1lPVwicmVjb3JkRGV2ZWxvcFwiIG9uQ2xpY2s9e3RoaXMub25Gb2xkfT7lsZXlvIA8L3NwYW4+fVxuXHRcdFx0ICAgIHshdGhpcy5zdGF0ZS5mb2xkT3BlbiYmPHNwYW4gY2xhc3NOYW1lPVwicmVjb3JkQ2xvc2VcIiBvbkNsaWNrPXt0aGlzLm9uRm9sZH0+5pS26LW3PC9zcGFuPn1cblx0XHRcdCAgICA8L2Rpdj5cblx0XHQ8L2Rpdj5cblxuXHRcdCk7XG5cblx0fVxuXG5cdHJlbmRlcigpIHtcblxuXHRcdGxldCB7XG5cdFx0XHRjbGFzc05hbWUsXG5cdFx0XHRjaGlsZHJlbixcblx0XHRcdHN0eWxlLFxuXHRcdFx0YWpheCxcblx0XHRcdGZvbGRcblx0XHR9ID0gdGhpcy5wcm9wcztcblx0XHRsZXQge1xuXHRcdFx0bGlzdERhdGEsXG5cdFx0XHRsb2FkaW5nXG5cdFx0fSA9IHRoaXMuc3RhdGU7XG5cdFx0Zm9sZD1mb2xkfHx0aGlzLnN0YXRlLmZvbGQ7XG5cdFx0aWYgKGxvYWRpbmcpIHtcblx0XHRcdHJldHVybiB0aGlzLnJlbmRlckxvYWRpbmcoKTtcblx0XHR9XG5cblx0XHRpZiAoYWpheCAmJiAhbGlzdERhdGEubGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5yZW5kZXJOb3RMaXN0RGF0YSgpO1xuXHRcdH1cblxuXHRcdHJldHVybiAoXG5cdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cInVpLXRhYmxlLXdyYXBcIj5cblx0XHRcdFx0PHRhYmxlIGNsYXNzTmFtZT17XCJ1aS10YWJsZSBcIitjbGFzc05hbWV9IHN0eWxlPXtzdHlsZX0+XG5cdFx0XHRcdFx0e3RoaXMucmVuZGVyVGFibGVIZWFkZXIoKX1cblx0XHRcdFx0XHR7dGhpcy5yZW5kZXJUYWJsZUJvZHkoKX1cblx0XHRcdFx0XHR7dGhpcy5yZW5kZXJUYWJsZUZvb3RlcigpfVxuXHRcdFx0XHQ8L3RhYmxlPlxuXHRcdFx0XHR7dGhpcy5yZW5kZXJGb2xkKCl9XG5cdFx0XHQ8L2Rpdj5cblx0XHQpO1xuXG5cdH1cblxuXG59XG4iXX0=