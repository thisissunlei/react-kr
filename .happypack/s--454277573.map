{"version":3,"sources":["src/Containers/Operation/CustomerManage/AgreementList/Renew/Create/NewCreateForm.js"],"names":["NewCreateForm","decorate","props","context","showMore","setState","HeightAuto","state","setAllRent","list","_this","stationList","map","item","unitprice","dispatch","callAPI","JSON","stringify","then","response","allRent","catch","err","show","message","type","getSingleRent","mounth","rentBegin","leaseBeginDate","split","rentEnd","leaseEndDate","rentDay","rentMounth","years","a","mounthIndex","rentPriceByDay","toFixed","dealRentName","name","nzhcn","cn","allRentName","encodeB","parseFloat","allRentNameArray","length","xiaoshu","stationRefs","onCancel","bind","onSubmit","onStationSubmit","onStationCancel","onStationDelete","onStationSelect","openStationDialog","openStationUnitPriceDialog","onChangeSearchPersonel","onStationVosChange","onCloseStation","stationVos","selectedStation","openStation","openStationUnitPrice","index","value","personel","mobile","lastname","filter","indexOf","initialValues","nextProps","form","changeValues","stationVosList","lessorAddress","leaseBegindate","leaseEnddate","firstpaydate","contractVersionType","totalrent","error","handleSubmit","pristine","reset","submitting","optionValues","fnaCorporationList","leaseId","id","corporationAddress","width","marginTop","paddingLeft","marginLeft","marginBottom","stationType","stationName","marginRight","color","paddingBottom","requiredValue","pattern","customerName","communityName","communityAddress","paymentList","payTypeList","files","textAlign","paddingRight","DefaultPropTypes","PropTypes","object","func","validate","errors","values","lessorContactid","lessorContacttel","leaseContact","leaseContacttel","leaseAddress","isNaN","contractcode","String","totaldeposit","paymodel","paytype","signdate","stationnum","boardroomnum","selector","enableReinitialize","keepDirtyOnReinitialize","lessorId","wherefloor"],"mappings":"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","file":"NewCreateForm.js","sourceRoot":"/Users/liuyihao/Code/kr-admin","sourcesContent":["import React, {\n\tComponent,\n\tPropTypes\n} from 'react';\nimport {\n\tconnect\n} from 'kr/Redux';\nimport Param from 'jquery-param';\nimport {\n\tFields\n} from 'redux-form';\nimport {\n\tBinder\n} from 'react-binding';\nimport ReactMixin from \"react-mixin\";\nimport LinkedStateMixin from 'react-addons-linked-state-mixin';\nimport dateFormat from 'dateformat';\nimport nzh from 'nzh';\nimport {\n\treduxForm,\n\tformValueSelector,\n\tchange,\n\tinitialize,\n\tarrayPush,\n\tarrayInsert,\n\tFieldArray\n} from 'redux-form';\n\nimport {\n\tActions,\n\tStore\n} from 'kr/Redux';\n\nimport AllStation from './AllStation';\n\nimport {\n\tMenu,\n\tMenuItem,\n\tDropDownMenu,\n\tIconMenu,\n\tDialog,\n\n\tTable,\n\tTableBody,\n\tTableHeader,\n\tTableHeaderColumn,\n\tTableRow,\n\tTableRowColumn,\n\tTableFooter,\n\tSection,\n\tKrField,\n\tGrid,\n\tRow,\n\tCol,\n\tButton,\n\tNotify,\n\tKrDate,\n\tDotTitle,\n\tButtonGroup,\n\tPaper,\n\tListGroup,\n\tListGroupItem,\n\tCircleStyle\n} from 'kr-ui';\n\n@ReactMixin.decorate(LinkedStateMixin)\nclass NewCreateForm extends Component {\n\n\tstatic DefaultPropTypes = {\n\t\tinitialValues: {\n\t\t\tcustomerName: '',\n\t\t\tcommunityName: '',\n\t\t\tlessorAddress: '',\n\t\t\tpayTypeList: [],\n\t\t\tpaymentList: [],\n\t\t\tfnaCorporationList: [],\n\t\t}\n\t}\n\n\tstatic PropTypes = {\n\t\tinitialValues: React.PropTypes.object,\n\t\tonSubmit: React.PropTypes.func,\n\t\tonCancel: React.PropTypes.func,\n\t}\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\n\t\t//stationsRefs表单\n\t\tthis.stationRefs = {};\n\n\t\tthis.onCancel = this.onCancel.bind(this);\n\t\tthis.onSubmit = this.onSubmit.bind(this);\n\n\t\tthis.onStationSubmit = this.onStationSubmit.bind(this);\n\t\tthis.onStationCancel = this.onStationCancel.bind(this);\n\n\t\tthis.onStationDelete = this.onStationDelete.bind(this);\n\t\tthis.onStationSelect = this.onStationSelect.bind(this);\n\n\t\tthis.openStationDialog = this.openStationDialog.bind(this);\n\t\tthis.openStationUnitPriceDialog = this.openStationUnitPriceDialog.bind(this);\n\t\tthis.onChangeSearchPersonel = this.onChangeSearchPersonel.bind(this);\n\t\tthis.onStationVosChange = this.onStationVosChange.bind(this);\n\t\tthis.onCloseStation = this.onCloseStation.bind(this);\n\n\n\t\tthis.state = {\n\t\t\tstationVos: [],\n\t\t\tselectedStation: [],\n\t\t\topenStation: false,\n\t\t\topenStationUnitPrice: false,\n\t\t\tallRent:0,\n\t\t\tHeightAuto: false,\n\t\t}\n\t}\n\n\tonStationVosChange(index, value) {\n\t\tlet {\n\t\t\tstationVos\n\t\t} = this.state;\n\t\tstationVos[index].unitprice = value;\n\t\tthis.setState({\n\t\t\tstationVos\n\t\t});\n\t}\n\n\tshowMore = () => {\n\t\tthis.setState({\n\t\t\tHeightAuto: !this.state.HeightAuto\n\t\t})\n\n\t}\n\tonCloseStation() {\n\t\tthis.setState({\n\t\t\topenStation: !this.state.openStation\n\t\t});\n\t}\n\n\t//录入单价dialog\n\topenStationUnitPriceDialog() {\n\t\tthis.setState({\n\t\t\topenStationUnitPrice: !this.state.openStationUnitPrice\n\t\t});\n\t}\n\n\tonChangeSearchPersonel(personel) {\n\t\tStore.dispatch(change('reduceCreateForm', 'lessorContacttel', personel.mobile));\n\t\tStore.dispatch(change('reduceCreateForm', 'lessorContactName', personel.lastname));\n\n\t}\n\n\tonStationCancel() {\n\t\tthis.openStationDialog();\n\t}\n\n\tonStationSubmit(stationVos) {\n\t\tlet _this = this;\n\t\tlet allRent = 0;\n\t\tthis.setAllRent(stationVos);\n\t\tthis.setState({\n\t\t\tstationVos\n\t\t});\n\n\t\tthis.openStationDialog();\n\t}\n\tsetAllRent=(list)=>{\n\t\tlet _this = this;\n\t\tlet stationList = list.map((item)=>{\n\t\t\tif(!item.unitprice){\n\t\t\t\titem.unitprice = 0;\n\t\t\t}\n\t\t\treturn item;\n\t\t})\n\t\tStore.dispatch(Actions.callAPI('getAllRent',{},{stationList:JSON.stringify(list)})).then(function(response) {\n\t\t\t_this.setState({\n\t\t\t\tallRent:response\n\t\t\t})\n\t\t}).catch(function(err) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: err.message,\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t});\n\t}\n\tgetSingleRent=(item)=>{\n\t\t//年月日\n\t\tlet mounth = [31,28,31,30,31,30,31,31,30,31,30,31];\n\t\tlet rentBegin = dateFormat(item.leaseBeginDate, \"yyyy-mm-dd\").split('-');\n\t\tlet rentEnd = dateFormat(item.leaseEndDate, \"yyyy-mm-dd\").split('-');\n\t\tlet rentDay = 0;\n\t\tlet rentMounth = (rentEnd[0]-rentBegin[0])*12+(rentEnd[1]-rentBegin[1]);\n\t\tlet years = rentEnd[0];\n\t\tif(rentBegin[2]-rentEnd[2] == 1){\n\t\t\trentDay = 0;\n\t\t}else{\n\t\t\tlet a =rentEnd[2]-rentBegin[2];\n\t\t\tif(a>=0){\n\t\t\t\trentDay = a+1;\n\n\t\t\t}else{\n\t\t\t\tlet mounthIndex = rentEnd[1]-1;\n\t\t\t\tif((years%4==0 && years%100!=0)||(years%400==0) && rentEnd[1]==2 ){\n\t\t\t\t\trentDay = mounth[mounthIndex]+2+a;\n\t\t\t\t}\n\t\t\t\trentDay = mounth[mounthIndex]+1+a;\n\t\t\t\trentMounth = rentMounth-1;\n\t\t\t}\n\t\t}\n\t\t//计算日单价\n\t\tlet rentPriceByDay = ((item.unitprice*12)/365).toFixed(6);\n\t\t//工位总价钱\n\t\tlet allRent = (rentPriceByDay * rentDay) + (rentMounth*item.unitprice);\n\t\tallRent = allRent.toFixed(2)*1;\n\t\treturn allRent;\n\t}\n\n\n\t//删除工位\n\tonStationDelete() {\n\n\t\tlet {\n\t\t\tselectedStation,\n\t\t\tstationVos\n\t\t} = this.state;\n\t\tstationVos = stationVos.filter(function(item, index) {\n\n\t\t\tif (selectedStation.indexOf(index) != -1) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t\tlet _this = this;\n\t\tlet allRent = 0;\n\t\tthis.setAllRent(stationVos);\n\t\tthis.setState({\n\t\t\tstationVos,\n\t\t});\n\t}\n\n\tonStationSelect(selectedStation) {\n\t\tthis.setState({\n\t\t\tselectedStation\n\t\t})\n\t}\n\n\topenStationDialog() {\n\t\tthis.setState({\n\t\t\topenStation: !this.state.openStation\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tlet {\n\t\t\tinitialValues\n\t\t} = this.props;\n\t\tStore.dispatch(initialize('reduceCreateForm', initialValues));\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\n\t}\n\n\tonSubmit(form) {\n\n\t\tform = Object.assign({}, form);\n\n\t\tlet {\n\t\t\tchangeValues\n\t\t} = this.props;\n\t\tlet {\n\t\t\tstationVos\n\t\t} = this.state;\n\n\t\tif (!stationVos.length) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: \"请选择工位\",\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t\treturn;\n\t\t};\n\n\n\t\tform.stationVosList = stationVos;\n\t\tform.lessorAddress = changeValues.lessorAddress;\n\n\t\tform.leaseBegindate = dateFormat(stationVos[0].leaseBeginDate, \"yyyy-mm-dd hh:MM:ss\");\n\t\tform.leaseEnddate = dateFormat(stationVos[0].leaseEndDate, \"yyyy-mm-dd hh:MM:ss\");\n\n\t\tform.firstpaydate = dateFormat(form.firstpaydate, \"yyyy-mm-dd hh:MM:ss\");\n\n\t\tform.stationVos = JSON.stringify(stationVos);\n\t\tform.contractVersionType = 'NEW';\n\t\tform.totalrent = (this.state.allRent).toFixed(2);\n\t\tconst {\n\t\t\tonSubmit\n\t\t} = this.props;\n\t\tonSubmit && onSubmit(form);\n\t}\n\n\tonCancel() {\n\t\tconst {\n\t\t\tonCancel\n\t\t} = this.props;\n\t\tonCancel && onCancel();\n\t}\n\tdealRentName=(allRent)=>{\n\t\tlet name = '';\n\t\tvar nzhcn = nzh.cn;\n\t\tif(!allRent){\n\t\t\treturn '零';\n\t\t}\n\t\tlet  allRentName = nzhcn.encodeB(parseFloat(allRent));\n\t\tlet allRentNameArray = allRentName.split('点');\n\t\tif(allRentNameArray.length==1){\n\t\t\tname = allRentNameArray[0] + '元整';\n\t\t}else{\n\t\t\tlet xiaoshu = allRentNameArray[1];\n\t\t\tname = allRentNameArray[0]+'元'+xiaoshu[0]+'角';\n\t\t\tif(xiaoshu[1]){\n\t\t\t\tname = name+xiaoshu[1]+'分';\n\t\t\t}\n\t\t}\n\t\treturn name;\n\t}\n\n\trender() {\n\n\t\tlet {\n\t\t\terror,\n\t\t\thandleSubmit,\n\t\t\tpristine,\n\t\t\treset,\n\t\t\tsubmitting,\n\t\t\tinitialValues,\n\t\t\tchangeValues,\n\t\t\toptionValues\n\t\t} = this.props;\n\n\t\tlet {\n\t\t\tfnaCorporationList\n\t\t} = optionValues;\n\n\t\tfnaCorporationList && fnaCorporationList.map(function(item, index) {\n\t\t\tif (changeValues.leaseId == item.id) {\n\t\t\t\tchangeValues.lessorAddress = item.corporationAddress;\n\t\t\t}\n\t\t});\n\n\t\tlet {\n\t\t\tstationVos,\n\t\t\tallRent,\n\t\t\tHeightAuto\n\t\t} = this.state;\n\t\tlet allRentName = this.dealRentName(allRent);\n\n\t\treturn (\n\t\t<div style={{width:615,marginTop:'-10px'}}>\n\n<form className=\"m-new-renew\" onSubmit={handleSubmit(this.onSubmit)} >\n\t\t\t<div className=\"cheek\" style={{paddingLeft:0,marginLeft:23}}>\n\t\t\t\t<div className=\"titleBar\" style={{marginLeft:-23}}><span className=\"order-number\">1</span><span className=\"wire\"></span><label className=\"small-title\">租赁明细</label></div>\n\t\t\t\t<div className=\"small-cheek\">\n\t\t\t\t<div className=\"detailList\" style={{marginTop:\"-35px\",width:\"620px\",marginLeft:\"35px\"}}>\n\t\t\t\t<DotTitle title='租赁明细' style={{marginTop:53,marginBottom:25}}>\n\t\t\t\t      <Grid style={{marginTop:\"-28px\",marginBottom:\"10px\"}}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col align=\"right\">\n\t\t\t\t\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t\t\t\t\t<Button label=\"续租\"  onTouchTap={this.openStationDialog} />\n\t\t\t\t\t\t\t\t\t\t<Button label=\"删除\" cancle={true} type=\"button\" height={27} onTouchTap={this.onStationDelete} />\n\n\t\t\t\t\t\t\t\t  </ButtonGroup>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t<div style={{marginTop:\"-10px\"}}>\n\t\t\t\t<Table  displayCheckbox={true} onSelect={this.onStationSelect} >\n\t\t\t\t<TableHeader>\n\t\t\t\t<TableHeaderColumn>类别</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn>编号／名称</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn>单价(元/月)</TableHeaderColumn>\n\t\t\t\t\t<TableHeaderColumn>续租开始时间</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>续租结束日期</TableHeaderColumn>\n\t\t\t\t\t\t</TableHeader>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{stationVos.map((item,index)=>{\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow key={index}>\n\t\t\t\t\t\t\t\t\t<TableRowColumn>{(item.stationType == 1) ?'工位':'会议室'}</TableRowColumn>\n\t\t\t\t\t\t\t\t\t<TableRowColumn>{item.stationName}</TableRowColumn>\n\t\t\t\t\t\t\t\t\t<TableRowColumn>\n\t\t\t\t\t\t\t\t\t\t\t{item.unitprice}\n\t\t\t\t\t\t\t\t\t</TableRowColumn>\n\t\t\t\t\t\t\t\t\t<TableRowColumn> <KrDate value={item.leaseBeginDate}/></TableRowColumn>\n\t\t\t\t\t\t\t\t\t<TableRowColumn><KrDate value={item.leaseEndDate}/></TableRowColumn>\n\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\n\t\t\t\t\t\t</div>\n                      {stationVos.length>5?<div className=\"bottom-tip\"  onTouchTap={this.showMore}> <p><span>{HeightAuto?'收起':'展开'}</span><span className={HeightAuto?'toprow':'bottomrow'}></span></p></div>:''}\n\t\t\t\t\t\n                     </DotTitle>\n                     <div style={{marginTop:'0px',marginBottom:25}}>服务费总计：<span style={{marginRight:50,color:'red'}}>￥{allRent}</span><span>{allRentName}</span></div>\n\n                    </div>\n\n\t\t\t<div className=\"titleBar\" style={{marginLeft:-23}}><span className=\"order-number\">2</span><span className=\"wire\"></span><label className=\"small-title\">合同基本信息</label></div>\n\t\t\t\t<div className=\"small-cheek\" style={{paddingBottom:0}}>\n\t\t\t\t\t\n\t\t\t\t<KrField grid={1/2}  name=\"mainbillid\" type=\"hidden\" component=\"input\" />\n\t\t\t\t<KrField grid={1/2}  name=\"contractstate\" type=\"hidden\" component=\"input\" />\n\t\t\t\t<KrField grid={1/2}  name=\"contracttype\" type=\"hidden\" component=\"input\" />\n\t\t\t\t<KrField grid={1/2}  name=\"leaseBegindate\" type=\"hidden\" component=\"input\" />\n\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}  name=\"leaseId\"   component=\"select\" label=\"出租方\" options={optionValues.fnaCorporationList}  requireLabel={true} />\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}   name=\"lessorAddress\" type=\"text\" component=\"labelText\" inline={false} label=\"地址\" value={changeValues.lessorAddress}  defaultValue=\"无\"/>\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}   name=\"lessorContactid\" component=\"searchPersonel\" label=\"联系人\" onChange={this.onChangeSearchPersonel} requireLabel={true} />\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}   name=\"lessorContacttel\" type=\"text\" component=\"input\" label=\"电话\" requireLabel={true}\n\t\t\t\trequiredValue={true} pattern={/(^((\\+86)|(86))?[1][3456789][0-9]{9}$)|(^(0\\d{2,3}-\\d{7,8})(-\\d{1,4})?$)/} errors={{requiredValue:'电话号码为必填项',pattern:'请输入正确电话号'}}/>\n\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}   component=\"labelText\" label=\"承租方\" value={optionValues.customerName} inline={false}/>\n\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}   name=\"leaseAddress\" type=\"text\" component=\"input\" label=\"地址\" requireLabel={true}\n\t\t\t\trequiredValue={true} pattern={/^.{0,120}$/} errors={{requiredValue:'地址为必填项',pattern:'地址最大60位'}} />\n\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}   name=\"leaseContact\" type=\"text\" component=\"input\" label=\"联系人\" requireLabel={true}\n\t\t\t\trequiredValue={true} pattern={/^.{0,20}$/} errors={{requiredValue:'联系人为必填项',pattern:'联系人最大20位'}} />\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}  name=\"leaseContacttel\" type=\"text\" component=\"input\" label=\"电话\" requireLabel={true}\n\t\t\t\trequiredValue={true} pattern={/(^((\\+86)|(86))?[1][3456789][0-9]{9}$)|(^(0\\d{2,3}-\\d{7,8})(-\\d{1,4})?$)/} errors={{requiredValue:'电话号码为必填项',pattern:'请输入正确电话号'}}/>\n\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}  name=\"communityid\" component=\"labelText\" label=\"所属社区\" inline={false} value={optionValues.communityName} />\n\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}   name=\"communityAddress\" component=\"labelText\" label=\"地址\" inline={false} value={optionValues.communityAddress} requireLabel={true} />\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}   name=\"contractcode\" type=\"text\" component=\"input\" label=\"合同编号\"  requireLabel={true}\n\t\t\t\trequiredValue={true} pattern={/^.{0,50}$/} errors={{requiredValue:'合同编号为必填项',pattern:'合同编号最大50位'}} />\n\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}  name=\"paymodel\"   component=\"select\" label=\"付款方式\" options={optionValues.paymentList} requireLabel={true} />\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}  name=\"paytype\"   component=\"select\" label=\"支付方式\" options={optionValues.payTypeList} requireLabel={true} />\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}  name=\"firstpaydate\"  component=\"date\" label=\"首付款时间\"  requireLabel={true} />\n\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}   name=\"signdate\"  component=\"date\"  label=\"签署时间\" requireLabel={true} />\n\n\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}   name=\"totalrent\" type=\"text\" component=\"labelText\" label=\"租金总额\" requireLabel={true} value={allRent} inline={false} defaultValue='0'\n\t\t\t\trequiredValue={true} pattern={/^\\d{0,16}(\\.\\d{0,2})?$/} errors={{requiredValue:'租金总额为必填项',pattern:'请输入正数金额，小数点后最多两位'}} />\n\n\t\t\t\t<KrField style={{width:262,marginLeft:25}}  name=\"totaldeposit\" type=\"text\" component=\"input\" label=\"押金总额\" requireLabel={true}\n\t\t\t\trequiredValue={true} pattern={/^\\d{0,16}(\\.\\d{0,2})?$/} errors={{requiredValue:'押金总额为必填项',pattern:'请输入正数金额，小数点后最多两位'}} />\n\n\t\t\t\t<KrField style={{width:545,marginLeft:25}}  name=\"contractmark\" component=\"textarea\" label=\"备注\" maxSize={200}/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"end-round\"></div>\n\t\t</div>\n\t</div>\n\t\t\t\t<KrField style={{width:545,marginLeft:25,marginTop:'-20px'}} name=\"contractFileList\" component=\"input\" type=\"hidden\" label=\"合同附件\"/>\n\t\t\t\t<KrField style={{width:545,marginLeft:25,marginTop:'-20px'}}  name=\"fileIdList\" component=\"file\" label=\"合同附件\" defaultValue={[]} onChange={(files)=>{\n\t\t\t\t\tStore.dispatch(change('reduceCreateForm','contractFileList',files));\n\t\t\t\t}} />\n\n\n\t\t\t\t\t\t<Grid style={{paddingBottom:50,textAlign:\"center\"}}>\n\t\t\t\t\t\t<Row >\n\t\t\t\t\t\t<ListGroup>\n\t\t\t\t\t\t\t<ListGroupItem style={{textAlign:'right',paddingRight:15}}><Button  label=\"确定\" type=\"submit\"  width={81} height={30} fontSize={16}/></ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem style={{textAlign:'left',paddingLeft:15}}><Button  label=\"取消\" cancle={true} type=\"button\"  onTouchTap={this.onCancel}  width={81} height={30} fontSize={16}/></ListGroupItem>\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Col md={4}></Col>\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t</form>\n\n\n\t\t\t\t\t<Dialog\n\t\t\t\t\t\ttitle=\"分配工位\"\n\t\t\t\t\t\topen={this.state.openStation}\n\t\t\t\t\t\tmodal={true}\n\t\t\t\t\t\tautoScrollBodyContent={true}\n\t\t\t\t\t\tautoDetectWindowHeight={true}\n\t\t\t\t\t\tonClose={this.onCloseStation}>\n\t\t\t\t\t\t\t\t<AllStation onSubmit={this.onStationSubmit} onCancel={this.onStationCancel} selectedStationVos={this.state.stationVos}/>\n\t\t\t\t\t  </Dialog>\n\n\n\t\t\t</div>);\n\t}\n}\n\n\n\nconst validate = values => {\n\n\tconst errors = {}\n\n\tif (!values.leaseId) {\n\t\terrors.leaseId = '请填写出租方';\n\t}\n\n\tif (!values.lessorContactid) {\n\t\terrors.lessorContactid = '请填写出租方联系人';\n\t}\n\n\tif (!values.lessorContacttel) {\n\t\terrors.lessorContacttel = '请填写出租方联系电话';\n\t}\n\n\tif (!values.leaseContact) {\n\t\terrors.leaseContact = '请填写承租方联系人';\n\t}\n\n\tif (!values.leaseContacttel) {\n\t\terrors.leaseContacttel = '请填写承租方联系人';\n\t}\n\n\n\tif (!values.leaseAddress) {\n\t\terrors.leaseAddress = '请填写承租方地址';\n\t}\n\n\tif (values.leaseAddress && !isNaN(values.leaseAddress)) {\n\t\terrors.leaseAddress = '承租方地址不能为数字';\n\t}\n\n\t// if (!values.fileIdList) {\n\t// \terrors.fileIdList = '请填写合同附件';\n\t// }\n\tif (!values.contractcode) {\n\t\terrors.contractcode = '请填写合同编号';\n\t}\n\n\n\n\tif (!String(values.totalrent)) {\n\t\terrors.totalrent = '请填写租金总额';\n\t}\n\n\tif (!values.totaldeposit) {\n\t\terrors.totaldeposit = '请填写押金总额';\n\t}\n\n\tif (!values.paymodel) {\n\t\terrors.paymodel = '请填写付款方式';\n\t}\n\n\tif (!values.paytype) {\n\t\terrors.paytype = '请填写支付方式';\n\t}\n\n\tif (!values.signdate) {\n\t\terrors.signdate = '请填写签署时间';\n\t}\n\n\tif (!values.firstpaydate) {\n\t\terrors.firstpaydate = '请填写首付款时间';\n\t}\n\n\tif (!values.stationnum && !values.boardroomnum) {\n\t\terrors.stationnum = '租赁项目必须填写一项';\n\t}\n\n\treturn errors\n}\n\n\nconst selector = formValueSelector('reduceCreateForm');\n\nNewCreateForm = reduxForm({\n\tform: 'reduceCreateForm',\n\tvalidate,\n\tenableReinitialize: true,\n\tkeepDirtyOnReinitialize: true\n})(NewCreateForm);\n\nexport default connect((state) => {\n\n\tlet changeValues = {};\n\n\tchangeValues.lessorId = selector(state, 'lessorId');\n\tchangeValues.leaseId = selector(state, 'leaseId');\n\tchangeValues.stationnum = selector(state, 'stationnum');\n\tchangeValues.boardroomnum = selector(state, 'boardroomnum');\n\tchangeValues.leaseBegindate = selector(state, 'leaseBegindate');\n\tchangeValues.leaseEnddate = selector(state, 'leaseEnddate');\n\tchangeValues.wherefloor = selector(state, 'wherefloor');\n\n\treturn {\n\t\tchangeValues\n\t}\n\n})(NewCreateForm);\n"]}