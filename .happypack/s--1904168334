'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.callAPI = callAPI;
exports.callAjaxAPI = callAjaxAPI;
exports.showModalDialog = showModalDialog;

var _nodeFetch = require('node-fetch');

var _nodeFetch2 = _interopRequireDefault(_nodeFetch);

var _jqueryParam = require('jquery-param');

var _jqueryParam2 = _interopRequireDefault(_jqueryParam);

var _fetch = require('kr/Redux/Utils/fetch');

var _fetch2 = _interopRequireDefault(_fetch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function callAPI(apiName, request, payload) {

	return {
		types: ['LOAD_COMMON_REQUEST', 'LOAD_COMMON_SUCCESS', 'LOAD_COMMON_FAILURE'],
		apiName: apiName,
		request: request,
		payload: payload
	};
}

function callAjaxAPI(apiName, request, payload) {
	return _fetch2.default.request(apiName, request, payload);
};

function showModalDialog(url, width, height, param, windowname) {

	var dialogWidth = "350px";
	var dialogHeight = "450px";

	if (typeof width != "undefined") {
		dialogWidth = width;
	}

	if (typeof height != "undefined") {
		dialogHeight = height;
	}

	var result;

	if (window.showModalDialog) {
		result = window.parent.showModalDialog(url, param, "status:Modeless;edge:raised;unadorned:no;scroll=no;resizable:yes;center=yes;help:no;dialogwidth:" + dialogWidth + ";dialogheight:" + dialogHeight);
	} else {
		var winOption = "height=" + dialogHeight + ",width=" + dialogWidth + ",top=100,left=200,toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,fullscreen=0";
		result = window.open(url, windowname ? windowname : '_blank', winOption);
		var loop = window.setInterval(function () {
			if (result.closed) {

				window.clearInterval(loop);
			}
		}, 50);
	}

	return result;
}
;

var _temp = function () {
	if (typeof __REACT_HOT_LOADER__ === 'undefined') {
		return;
	}

	__REACT_HOT_LOADER__.register(callAPI, 'callAPI', '/Users/dongfanai/Desktop/project/kr-admin/src/Redux/Modules/Common/actions.js');

	__REACT_HOT_LOADER__.register(callAjaxAPI, 'callAjaxAPI', '/Users/dongfanai/Desktop/project/kr-admin/src/Redux/Modules/Common/actions.js');

	__REACT_HOT_LOADER__.register(showModalDialog, 'showModalDialog', '/Users/dongfanai/Desktop/project/kr-admin/src/Redux/Modules/Common/actions.js');
}();

;