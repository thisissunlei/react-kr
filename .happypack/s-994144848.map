{"version":3,"sources":["src/Components/Dialog/index.js"],"names":["DialogComponent","getPageWidthOrHeight","page","width","window","innerWidth","height","innerHeight","document","compatMode","documentElement","clientWidth","clientHeight","body","initializeStyles","ele","refs","dialog","err","position","getBoundingClientRect","style","zIndex","top","left","bottom","right","onClose","props","addEventListener","bind","title","modal","open","autoDetectWindowHeight","autoScrollBodyContent","children","bodyStyle","contentStyle","footerStyle","actions","other","styles","display","displayName","defaultProps","propTypes","PropTypes","func","bool","string","object","node"],"mappings":"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","file":"index.js","sourceRoot":"/Users/liuyihao/Code/kr-admin","sourcesContent":["import React, {\n\tComponent\n} from 'react';\nimport './index.less';\n\nimport ReactDOM from 'react-dom';\n\nimport DialogBody from './DialogBody';\nimport DialogFooter from './DialogFooter';\n\nexport default class DialogComponent extends Component {\n\n\tstatic displayName = 'DialogComponent';\n\n\tstatic defaultProps = {\n\t\tautoScrollBodyContent: false,\n\t}\n\n\tstatic propTypes = {\n\t\t/**\n\t\t*关闭时回调函数\n\t\t*/\n\t\tonClose: React.PropTypes.func,\n\t\t/**\n\t\t*是否开启\n\t\t*/\n\t\topen: React.PropTypes.bool,\n\t\t/**\n\t\t*标题\n\t\t*/\n\t\ttitle: React.PropTypes.string,\n\t\tbodyStyle: React.PropTypes.object,\n\t\t/**\n\t\t*显示遮罩层\n\t\t*/\n\t\tmodal: React.PropTypes.bool,\n\t\t/**\n\t\t*\n\t\t*/\n\t\tautoDetectWindowHeight: React.PropTypes.bool,\n\t\t/**\n\t\t* 内容出现滚动条\n\t\t*/\n\t\tautoScrollBodyContent: React.PropTypes.bool,\n\t\tactions: React.PropTypes.node,\n\t}\n\n\tcomponentDidMount(){\n\t\t\tthis.initializeStyles();\n\t\t\twindow.addEventListener('resize',function(){\n\t\t\t\tthis.initializeStyles();\n\t\t\t}.bind(this));\n\t}\n\n\n\tcomponentWillReceiveProps() {\n\t}\n\n\n\tgetPageWidthOrHeight = ()=>{\n\n\t\t\tvar page = {};\n\t\t\t page.width = window.innerWidth;\n\t\t\t page.height = window.innerHeight;\n\t\t\tif(document.compatMode == 'CSS1Compat'){\n\t\t\t\t page.width = document.documentElement.clientWidth;\n\t\t\t\t page.height = document.documentElement.clientHeight;\n\t\t\t}else{\n\t\t\t\tpage.width = document.body.clientWidth;\n\t\t\t\tpage.height = document.body.clientHeight;\n\t\t\t}\n\t\t\treturn  Object.assign({},page);\n\t}\n\n\tinitializeStyles = ()=>{\n\n\t\t\t// var ele = ReactDOM.findDOMNode(this);\n\t\t\tvar ele;\n\t\t\ttry{\n\t\t\t\tele = this.refs.dialog;\n\t\t\t}catch(err){\n\t\t\t\tele = null;\n\t\t\t}\n\t\t\tif(!ele){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar position = {};\n\n\t\t\ttry{\n\t\t\t\t\tposition = ele.getBoundingClientRect();\n\t\t\t}catch(err){\n\t\t\t\tposition = {};\n\t\t\t}\n\n\t\t\tvar page = this.getPageWidthOrHeight();\n\n\t\t\tele.style.width = page.width+'px';\n\t\t\tele.style.height = page.height+'px';\n\t\t\tele.style.zIndex = 99;\n\t\t\tele.style.top = -position.top +'px';\n\t\t\tele.style.left = -position.left+'px';\n\t\t\tele.style.bottom = -position.bottom+'px';\n\t\t\tele.style.right = -0+'px';\n\t}\n\n\n\tonClose = ()=>{\n\t\t\t//document.body.style.overflow = 'auto';\n\t\t\tconst {onClose} = this.props;\n\t\t\tonClose && onClose();\n\t}\n\n\trender() {\n\n\t\tconst {\n\t\t\ttitle,\n\t\t\tmodal,\n\t\t\topen,\n\t\t\tonClose,\n\t\t\tautoDetectWindowHeight,\n\t\t\tautoScrollBodyContent,\n\t\t\tchildren,\n\t\t\tbodyStyle,\n\t\t\tcontentStyle,\n\t\t\tfooterStyle,\n\t\t\tactions,\n\t\t\t...other\n\t\t} = this.props;\n\n\t\tlet styles = {};\n\n\t\tif(open){\n\t\t\t\tstyles.display = 'block';\n\t\t\t//document.body.style.overflow = 'hidden';\n\t\t}else{\n\t\t\t\tstyles.display = 'none';\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ui-dialog\" ref=\"dialog\" style={styles}>\n\t\t\t\t<div className=\"dialog-modal\"></div>\n\t\t\t\t<div className=\"dialog-content\" style={contentStyle}>\n\t\t\t\t\t\t<div className=\"dialog-header\">\n\t\t\t\t\t\t\t\t<div className=\"dialog-header-title\"> {title} </div>\n\t\t\t\t\t\t\t\t<span className=\"close\" onClick={this.onClose}></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{open && <DialogBody bodyStyle={bodyStyle}> {children} </DialogBody>}\n\t\t\t\t\t\t{open && actions &&  <DialogFooter footerStyle={footerStyle}> {actions} </DialogFooter>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\n\t}\n}\n"]}