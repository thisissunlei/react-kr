{"version":3,"sources":["src/Components/KrForm/FieldControl/SelectComponent/index.js"],"names":["SelectComponent","props","onChange","bind","handleChange","setInitValue","isInit","state","value","input","nextProps","setState","item","label","inline","search","type","meta","touched","error","children","disabled","style","requireLabel","options","multi","other","name","Component","defaultProps","PropTypes","func","bool"],"mappings":"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","file":"index.js","sourceRoot":"/Users/tmac_zc/Code/kr-admin","sourcesContent":["import React from 'react';\n\nimport ReactSelect from '../../../Select/Select';\n\nimport WrapComponent from '../WrapComponent';\nimport './index.less';\n\n//import 'react-select/dist/react-select.css';\n\nexport default class SelectComponent extends React.Component {\n\n\n\tstatic defaultProps = {\n\t\tinline: false\n\t}\n\n\tstatic PropTypes = {\n\t\tonChange: React.PropTypes.func,\n\t\tinline: React.PropTypes.bool,\n\t\tsearch: React.PropTypes.bool\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\n\t\tthis.setInitValue = this.setInitValue.bind(this);\n\n\t\tthis.isInit = false;\n\n\t\tthis.state = {\n\t\t\tvalue: []\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.setInitValue(this.props.input.value);\n\t}\n\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (!this.isInit && nextProps.input.value) {\n\t\t\tthis.setInitValue(nextProps.input.value);\n\t\t}\n\t}\n\n\tsetInitValue(value) {\n\n\t\tif (!value) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState({\n\t\t\tvalue\n\t\t});\n\t\tthis.isInit = true;\n\t}\n\n\thandleChange(value) {\n\n\t\tlet {\n\t\t\tinput\n\t\t} = this.props;\n\t\tthis.setState({\n\t\t\tvalue\n\t\t});\n\t\tinput.onChange(value);\n\t}\n\n\tonChange(item) {\n\t\tlet {\n\t\t\tinput,\n\t\t\tonChange\n\t\t} = this.props;\n\t\tvar value = (item && item.value) || '';\n\t\tinput.onChange(value);\n\t\tonChange && onChange(item);\n}\n\nrender() {\n\n\t\tlet {\n\t\t\tinput,\n\t\t\tlabel,\n\t\t\tinline,\n\t\t\tsearch,\n\t\t\ttype,\n\t\t\tmeta: {\n\t\t\t\ttouched,\n\t\t\t\terror\n\t\t\t},\n\t\t\tchildren,\n\t\t\tdisabled,\n\t\t\tstyle,\n\t\t\trequireLabel,\n\t\t\toptions,\n\t\t\tmulti,\n\t\t\t...other\n\t\t} = this.props;\n\n\t\tif (multi) {\n\t\t\treturn (\n\t\t\t\t<WrapComponent label={label} wrapStyle={style} requireLabel={requireLabel} inline={inline} search={search}>\n\t\t\t\t\t<div className=\"ui-select\">\n\t\t\t\t\t\t<ReactSelect\n\t\t\t\t\t\t\t\t\tmulti\n\t\t\t\t\t\t\t\t\tsimpleValue\n\t\t\t\t\t\t\t\t\tname={input.name}\n\t\t\t\t\t\t\t\t\tvalue={this.state.value}\n\t\t\t\t\t\t\t\t\tclearable={true}\n\t\t\t\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\tplaceholder=\"请选择...\"\n\t\t\t\t\t\t\t\t\tnoResultsText=\"\"\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{touched && error && <div className=\"error-wrap\"> <span>{error}</span> </div> }\n\t\t\t\t</WrapComponent>\n\t\t\t);\n\n\t\t}\n\t\tif (options) {\n\n\t\t\treturn (\n\n\t\t\t\t<WrapComponent label={label} wrapStyle={style} requireLabel={requireLabel} inline={inline} search={search}>\n\t\t\t\t\t\t<ReactSelect\n\t\t\t\t\t\t\t\t\tname={input.name}\n\t\t\t\t\t\t\t\t\tsearchable={false}\n\t\t\t\t\t\t\t\t\tvalue={input.value}\n\t\t\t\t\t\t\t\t\tclearable={true}\n\t\t\t\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t\tplaceholder=\"请选择\"\n\t\t\t\t\t\t\t\t\tonValueClick={function(){\n\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t{touched && error && <div className=\"error-wrap\"> <span>{error}</span> </div> }\n\t\t</WrapComponent>\n\n\t\t\t);\n\n\t\t}\n\n\t\treturn (\n\t\t\t<WrapComponent label={label} wrapStyle={style} requireLabel={requireLabel} inline={inline} search={search}>\n\t\t\t\t\t<select {...input}  disabled={disabled}>\n\t\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t</select>\n\t\t\t\t\t{touched && error && <p><div className=\"error-wrap\"> <span>{error}</span> </div></p> }\n\t\t\t</WrapComponent>\n\n\t\t);\n\t}\n}\n"]}