{"version":3,"sources":["src/Containers/Operation/CustomerManage/AgreementList/State.js"],"names":["State","openTowAgreement","openOneAgreement","agreementList","otherFunction","openAgreementDetail","loading","contractList","openNewIndent","openEditAgreement","companyName","listId","orderReady","orderCount","argumentType","mainBillId","agreementId","admit","enter","increase","reduce","relet","returnRent","totalPaper","page","pageSize","editRight","hasOfficeChange","params","ishasOffice","agreementDetail","ajaxListData","ajaxData","_this","dispatch","callAPI","then","response","items","totalCount","setTimeout","catch","err","error","message","createContract","hasEditRight","module","exports"],"mappings":";;;;;;AAAA;;;;AAOA;;AAIA;;AACA;;;;AAIA,IAAIA,QAAQ,sBAAW;AAClB;AACHC,mBAAiB,KAFI;AAGrB;AACAC,mBAAiB,KAJI;AAKrBC,gBAAc,EALO;AAMrBC,gBAAc,KANO;AAOrB;AACAC,sBAAoB,KARC;AASrBC,UAAQ,KATa;AAUrBC,eAAa,EAVQ;AAWrB;AACAC,gBAAc,KAZO;AAarB;AACAC,oBAAkB,KAdG;AAerB;AACAC,cAAY,EAhBS;AAiBrB;AACAC,SAAO,EAlBc;AAmBrB;AACAC,aAAW,EApBU;AAqBrB;AACAC,aAAW,EAtBU;AAuBrB;AACAC,eAAa,EAxBQ;AAyBrB;AACAC,aAAW,EA1BU;AA2BrB;AACAC,cAAY,EA5BS;AA6BrB;AACAC,QAAM,IA9Be;AA+BrB;AACAC,QAAM,IAhCe;AAiCrB;AACAC,WAAS,IAlCY;AAmCrB;AACAC,SAAO,IApCc;AAqCrB;AACAC,QAAM,IAtCe;AAuCrB;AACAC,aAAW,IAxCU;;AA0CrBC,aAAW,EA1CU;AA2CrBC,OAAK,EA3CgB;AA4CrBC,WAAS,EA5CY;;AA8CrB;AACAC,YAAU;;AA/CW,CAAX,CAAZ;AAkDA1B,MAAM2B,eAAN,GAAsB,kBAAO,UAASC,MAAT,EAAgB;AAC5C,MAAKC,WAAL,GAAiBD,MAAjB;AACA,CAFqB,CAAtB;AAGA;AACA5B,MAAM8B,eAAN,GAAsB,kBAAO,YAAU;AACtC,MAAKzB,mBAAL,GAAyB,CAAC,KAAKA,mBAA/B;AACA,CAFqB,CAAtB;AAGA;AACAL,MAAM+B,YAAN,GAAmB,kBAAO,UAASC,QAAT,EAAkB;AACvC;AACHA,YAAW,4BAAc,EAAd,EAAiBA,QAAjB,CAAX;AACG,KAAIC,QAAQ,IAAZ;AACH,cAAMC,QAAN,CAAe,eAAQC,OAAR,CAAgB,eAAhB,EAAiCH,QAAjC,CAAf,EAA2DI,IAA3D,CAAgE,UAASC,QAAT,EAAmB;AAClFJ,QAAM1B,YAAN,GAAmB8B,SAASC,KAA5B;AACAL,QAAMV,UAAN,GAAiBc,SAASE,UAA1B;AACAN,QAAMT,IAAN,GAAWa,SAASb,IAApB;AACAS,QAAMR,QAAN,GAAeY,SAASZ,QAAxB;AACAe,aAAW,YAAW;AACpBlC,YAAS;AACV,GAFD,EAEG,CAFH;AAGA,EARD,EAQGmC,KARH,CAQS,UAASC,GAAT,EAAc;AACtB,gBAAQC,KAAR,CAAcD,IAAIE,OAAlB;AACA,EAVD;AAWA;AACD,CAhBkB,CAAnB;;AAkBA;AACA5C,MAAM6C,cAAN,GAAqB,kBAAO,YAAU;AACjC,KAAIZ,QAAQ,IAAZ;AACH,cAAMC,QAAN,CAAe,eAAQC,OAAR,CAAgB,YAAhB,CAAf,EAA8CC,IAA9C,CAAmD,UAASC,QAAT,EAAmB;AACpEJ,QAAMP,SAAN,GAAgBW,SAASS,YAAzB;AACD,EAFD,EAEGL,KAFH,CAES,UAASC,GAAT,EAAc;AACtB,gBAAQC,KAAR,CAAcD,IAAIE,OAAlB;AACA,EAJD;AAKD,CAPoB,CAArB;;AAeAG,OAAOC,OAAP,GAAiBhD,KAAjB;;;;;;;;+BA5FIA,K","file":"State.js","sourceRoot":"/Users/liuyihao/Code/kr-admin","sourcesContent":["import mobx, {\n\tobservable,\n\taction,\n\tasMap,\n\tcomputed,\n\textendObservable\n} from 'mobx';\nimport {\n\tActions,\n\tStore\n} from 'kr/Redux';\nimport {reduxForm,formValueSelector,initialize,change} from 'redux-form';\nimport {\n    Message\n} from 'kr-ui';\n\nlet State = observable({\n\t   \t//第二次打开的新建\n\t\topenTowAgreement:false,\n\t\t//第一次打开的新建\n\t\topenOneAgreement:false,\n\t\tagreementList:[],\n\t\totherFunction:false,\n\t\t//查看\n\t\topenAgreementDetail:false,\n\t\tloading:false,\n\t\tcontractList:[],\n\t\t//新建订单\n\t\topenNewIndent:false,\n\t\t//编辑合同\n\t\topenEditAgreement:false,\n\t\t//公司名称\n\t\tcompanyName:\"\",\n\t\t//客户id\n\t\tlistId:\"\",\n\t\t//订单名\n\t\torderReady:[],\n\t\t//订单号\n\t\torderCount:\"\",\n\t\t//合同类型\n\t\targumentType:'',\n\t\t//订单id\n\t\tmainBillId:'',\n\t\t//合同id\n\t\tagreementId:'',\n\t\t//承租意向书是否可创建\n\t\tadmit:true,\n\t\t//入驻合同是否可创建\t\n\t\tenter:true,\n\t\t//增租合同是否可创建\t\n\t\tincrease:true,\n\t\t//减租合同是否可创建\n\t\treduce:true,\n\t\t//续租合同是否可创建\n\t\trelet:true,\n\t\t//退组合同是否可创建\n\t\treturnRent:true,\n\n\t\ttotalPaper:'',\n\t\tpage:'',\n\t\tpageSize:'',\n\n\t\t//权限\n\t\teditRight:''\n\n});\nState.hasOfficeChange=action(function(params){\n\tthis.ishasOffice=params;\n})\n//查看开关\nState.agreementDetail=action(function(){\n\tthis.openAgreementDetail=!this.openAgreementDetail;\n})\n//列表数据请求\nState.ajaxListData=action(function(ajaxData){\n\t    //错误到了这一层要深究\n\t\tajaxData = Object.assign({},ajaxData);\n\t    var _this = this;\n\t\tStore.dispatch(Actions.callAPI('contract-list', ajaxData)).then(function(response) {\n\t\t\t_this.contractList=response.items;\n\t\t\t_this.totalPaper=response.totalCount;\n\t\t\t_this.page=response.page;\n\t\t\t_this.pageSize=response.pageSize;\n\t\t\tsetTimeout(function() {\n\t\t\t\t\tloading: false\n\t\t\t}, 0);\n\t\t}).catch(function(err) {\n\t\t\tMessage.error(err.message);\n\t\t});\n\t\t//Store.dispatch(Actions.switchSidebarNav(false));\n})\n\n//获取登录人是否有创建合同的权限\nState.createContract=action(function(){\n\t    var _this = this;\n\t\tStore.dispatch(Actions.callAPI('edit-right')).then(function(response) {\n\t\t  _this.editRight=response.hasEditRight\n\t\t}).catch(function(err) {\n\t\t\tMessage.error(err.message);\n\t\t});\n})\n\n\n\n\n\n\n\nmodule.exports = State;\n"]}