{"version":3,"sources":["src/Containers/Operation/BasicConfig/EquipmentDefinition/index.js"],"names":["EquipmentDefinition","props","context","onLoaded","response","list","setState","onOperation","itemDetail","openOnLineDialog","onLineOpen","state","openOffLineDialog","openOffline","openSingleUploadDialog","openSingleUpload","openNewCreateDefinitionDialog","openNewCreateDefinition","openEquipmentAdvancedQueryDialog","openEquipmentAdvancedQuery","openBatchUploadDialog","openBatchUpload","closeBatchUpload","openEditEquipmentDialog","item","openEditEquipment","openFinishUploadDialog","openFinishUpload","openFinishUploadDialogLast","tipOpen","_this","openTipWarn","tipText","setTimeout","tipCommunityOpen","onSearchSubmit","value","filter","content","equipmentParams","deviceCode","hardwareId","onEquipmentAdvanceSearchReset","refs","inputFilter","realInput","onEquipmentAdvanceSearchSubmit","values","type","communityId","floor","functionId","propertyId","typeId","timer","Date","onBatchUpload","uploadImage","communitys","isDoorNumHas","console","log","hardwareIdHas","seleletZero","onSubmitNewCreateEquipment","locationId","dispatch","callAPI","then","id","success","page","pageSize","catch","err","error","message","onlineOrOffline","itemData","onlineOfflineParams","deviceId","status","offlineOrOnline","confirmOnline","confirmOffline","singleRequestURI","onLined","seleced","options","label","minHeight","backgroundColor","display","marginBottom","height","marginLeft","width","float","marginTop","zIndex","position","onExport","oldValue","overflow","TooltipStyle","length","paddingTop","maxWidth","overflowX","textOverflow","whiteSpace","spanColorOnline","color","spanColor","bind","saveAndNewCreate","params","onFilterState","finishUpload","textAlign","fontSize","padding","paddingRight","paddingLeft"],"mappings":"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","file":"index.js","sourceRoot":"/Users/liuyihao/Code/kr-admin","sourcesContent":["import React, {\n  Component\n} from 'react';\nimport {\n  Title,\n  KrField,\n  Table,\n  TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow,\n  TableRowColumn,\n  TableFooter,\n  Button,\n  Section,\n  SearchForms,\n  Dialog,\n  Grid,\n  ListGroup,\n  ListGroupItem,\n  Row,\n  Message,\n  Tooltip\n} from 'kr-ui';\nimport NewCreateDefinitionForm from './NewCreateDefinitionForm';\nimport EquipmentAdvanceQueryForm from './EquipmentAdvancedQueryForm';\nimport BatchUploadImageForm from './BatchUploadImageForm';\nimport EditEquipmentForm from \"./EditEquipmentForm\";\nimport FinishUploadImgForm from \"./FinishUploadImgForm\";\nimport SingleUploadImgForm from \"./SingleUploadImgForm\";\nimport {Actions,Store} from 'kr/Redux';\nimport './index.less';\nimport error2 from \"./images/error2.png\"\nexport default class EquipmentDefinition extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      openNewCreateDefinition: false,\n      openEquipmentAdvancedQuery: false,\n      openBatchUpload: false,\n      openEditEquipment: false,\n      openFinishUpload: false,\n      onLineOpen:false,\n      openOffline :false,\n      openSingleUpload: false,\n      \n      singleRequestURI :'',\n      filter: 'deviceCode',\n      content: '',\n      openTipWarn : false,\n      tipText:\"\",\n      onLined : false,\n      timer :'',\n      itemDetail : {},\n      equipmentParams: {\n        filter: \"deviceCode\",\n        content: '',\n        page : 1,\n        pageSize: 15\n      },\n      onlineOfflineParams:{}\n    }\n  }\n  onLoaded=(response)=>{\n    let list = response;\n    this.setState({\n      list\n    })\n  }\n  //操作相关\n  onOperation=(itemDetail)=>{\n    this.setState({\n      itemDetail\n    });\n  }\n  // 是否打开上线确认窗口\n  openOnLineDialog=()=>{\n    this.setState({\n      onLineOpen : !this.state.onLineOpen\n    })\n  }\n  // 是否打开下线确认窗口\n  openOffLineDialog=()=>{\n    this.setState({\n      openOffline : !this.state.openOffline\n    })\n  }\n  // 是否打开单张上传图片\n  openSingleUploadDialog=(itemDetail)=>{\n    this.setState({\n      openSingleUpload : !this.state.openSingleUpload,\n      itemDetail : itemDetail\n    })\n  }\n  // 是否打开新增设备定义\n  openNewCreateDefinitionDialog=()=>{\n    this.setState({\n      openNewCreateDefinition:!this.state.openNewCreateDefinition\n    })\n  }\n  // 是否打开高级搜索\n  openEquipmentAdvancedQueryDialog=()=>{\n    this.setState({\n    openEquipmentAdvancedQuery : !this.state.openEquipmentAdvancedQuery\n    })\n  }\n  // 是否打开批量上传图片\n  openBatchUploadDialog=()=>{\n    this.setState({\n      openBatchUpload : !this.state.openBatchUpload\n    })\n  }\n  // 关闭批量上传\n  closeBatchUpload=()=>{\n    this.setState({\n      openBatchUpload : false\n    })\n  }\n  // 是否打开编辑\n  openEditEquipmentDialog=(item)=>{\n    this.setState({\n      openEditEquipment : !this.state.openEditEquipment,\n      itemDetail : item\n\n    })\n  }\n  // 是否打开上传图片完成\n  openFinishUploadDialog=()=>{\n    this.setState({\n      openFinishUpload : !this.state.openFinishUpload\n    })\n  }\n  // 最终必须打开成功/失败的Table\n  openFinishUploadDialogLast=()=>{\n    this.setState({\n      openFinishUpload : true\n    })\n  }\n  // 是否打开提示上传图片\n  tipOpen=()=>{\n    let _this =this;\n    _this.setState({\n      openTipWarn : true,\n      tipText :\"请上传图片!\"\n    });\n    setTimeout(function(){\n      _this.setState({\n        openTipWarn : false\n      })\n    },3000)\n  }\n  // 是否打开提示选择社区\n  tipCommunityOpen=()=>{\n    let _this =this;\n    _this.setState({\n      openTipWarn : true,\n      tipText :\"请选择社区!\"\n    });\n    setTimeout(function(){\n      _this.setState({\n        openTipWarn : false\n      })\n    },3000)\n  }\n  // 查询\n  onSearchSubmit=(value)=>{\n    if(value.filter == \"deviceCode\"){\n      this.setState({\n        filter: value.filter,\n        content: value.content,\n        equipmentParams: {\n          deviceCode: value.content,\n        }\n      })\n    }else{\n      this.setState({\n        filter: value.filter,\n        content: value.content,\n        equipmentParams: {\n          hardwareId: value.content,\n        }\n      })\n    }\n  }\n\n  // 高级查询重置\n  onEquipmentAdvanceSearchReset=()=>{\n    this.refs.inputFilter.refs.realInput.value = \"\";\n    this.setState({\n      filter: 'deviceCode',\n      content: '',\n      equipmentParams: {\n        deviceCode: \"\",\n      }\n    })\n  }\n  // 设备高级查询提交\n  onEquipmentAdvanceSearchSubmit=(values)=>{\n    this.refs.inputFilter.refs.realInput.value = \"\";\n    let _this = this;\n    this.openEquipmentAdvancedQueryDialog();\n    if(values.type==\"hardwareId\"){\n      _this.setState({\n        filter : \"deviceCode\",\n        content : \"\",\n        equipmentParams:{\n          communityId :values.communityId || \"\",\n          hardwareId : values.value || \"\",\n          floor : values.floor || \"\",\n          functionId : values.functionId || \"\",\n          propertyId : values.propertyId || \"\",\n          typeId : values.typeId|| \"\"\n        }\n      })\n    }else{\n      _this.setState({\n        filter : \"deviceCode\",\n        content : \"\",\n        timer : new Date(),\n        equipmentParams:{\n          communityId :values.communityId || \"\",\n          deviceCode : values.value || \"\",\n          floor : values.floor || \"\",\n          functionId : values.functionId || \"\",\n          propertyId : values.propertyId || \"\",\n          typeId : values.typeId|| \"\"\n        }\n      })\n    }\n    if(!values.value){\n\n      this.refs.inputFilter.refs.realInput.value = \"\";\n      _this.setState({\n        filter:\"deviceCode\"\n      })\n    }\n  }\n  // 提交---批量上传\n  onBatchUpload=(values)=>{\n    let _this = this;\n    if(!values.uploadImage){\n      this.tipOpen();\n      return;\n    }\n    if(!values.communitys){\n      this.tipCommunityOpen();\n      return;\n    }\n  }\n  //校验门编号存在\n  isDoorNumHas=()=>{\n    console.log(\"在index已经执行\")\n    let _this = this;\n    _this.setState({\n      openTipWarn : true,\n      tipText :\"门编号已经存在!\"\n    });\n    setTimeout(function(){\n      _this.setState({\n        openTipWarn : false\n      })\n    },3000)\n  }\n  // 硬件ID已经存在，则提示窗口显示\n  hardwareIdHas=()=>{\n    let _this = this;\n    _this.setState({\n      openTipWarn : true,\n      tipText :\"硬件ID已经存在!\"\n    },function(){\n    });\n    setTimeout(function(){\n      _this.setState({\n        openTipWarn : false\n      })\n    },3000)\n  }\n  //  并没有选择社区 \n  seleletZero=()=>{\n    let _this = this;\n    _this.setState({\n      openTipWarn : true,\n      tipText :\"您选择的设备不存在，请重新选择!\"\n    });\n    setTimeout(function(){\n      _this.setState({\n        openTipWarn : false\n      })\n    },3000)\n  }\n  // 提交---->新建\n  onSubmitNewCreateEquipment=(values)=>{\n    \n    if(!values.locationId){\n      values.locationId=0;\n    }\n    let _this = this;\n    Store.dispatch(Actions.callAPI('equipmentNewCreateOrEdit',{},values))\n      .then(function(response){\n        if(values.id){\n          Message.success(\"编辑设备成功\");\n        }else{\n          Message.success(\"新增设备成功\");\n        }\n        _this.setState({\n          openEditEquipment : false,\n          openNewCreateDefinition : false,\n          equipmentParams: {\n            deviceCode: \"\",\n            page : 1,\n            pageSize: 15,\n            timer : new Date()\n          }\n        })\n      }).catch(function(err){\n        Message.error(err.message);\n        _this.setState({\n          openEditEquipment : false,\n          openNewCreateDefinition : false,\n          equipmentParams: {\n            deviceCode: \"\",\n            page : 1,\n            pageSize: 15,\n            timer : new Date()\n          }\n        })\n      });\n  }\n\n  // 打开上线\n  onlineOrOffline=(itemData)=>{\n    this.openOnLineDialog();\n    this.setState({\n      onlineOfflineParams : {\n        deviceId : itemData.id,\n        status : \"ONLINE\"\n      }\n    })\n  }\n  // 打开下线\n  offlineOrOnline=(itemData)=>{\n    this.openOffLineDialog();\n    this.setState({\n      onlineOfflineParams : {\n        deviceId : itemData.id,\n        status : \"OFFLINE\"\n      }\n    })\n  }\n  // 最终确定确定上线\n  confirmOnline=()=>{\n    let _this = this;\n    let onlineOfflineParams = this.state.onlineOfflineParams\n    Store.dispatch(Actions.callAPI('onlineOrOffline',{},onlineOfflineParams))\n      .then(function(response){\n        Message.success(\"上线成功\");\n        _this.setState({\n          onLineOpen : false,\n          openOffline : false,\n          equipmentParams: {\n            filter: \"deviceCode\",\n            content: '',\n            page : 1,\n            pageSize: 15,\n            timer : new Date()\n          },\n        })\n      }).catch(function(err){\n        Message.error(err.message);\n        _this.setState({\n          onLineOpen : false,\n          openOffline : false,\n          equipmentParams: {\n            filter: \"deviceCode\",\n            content: '',\n            page : 1,\n            pageSize: 15,\n            timer : new Date()\n          },\n        })\n        \n        \n     });\n\n      \n    \n  }\n  // 最终确定下线\n  confirmOffline=()=>{\n    let _this = this;\n\n    let onlineOfflineParams = this.state.onlineOfflineParams\n    Store.dispatch(Actions.callAPI('onlineOrOffline',{},onlineOfflineParams))\n      .then(function(response){\n        Message.success(\"下线成功\");\n        _this.setState({\n          onLineOpen : false,\n          openOffline : false,\n          equipmentParams: {\n            filter: \"deviceCode\",\n            content: '',\n            page : 1,\n            pageSize: 15,\n            timer : new Date()\n          },\n        })\n      }).catch(function(err){\n        Message.error(err.message);\n        _this.setState({\n          onLineOpen : false,\n          openOffline : false,\n          equipmentParams: {\n            filter: \"deviceCode\",\n            content: '',\n            page : 1,\n            pageSize: 15,\n            timer : new Date()\n          },\n        })\n     });\n    \n  }\n  render() {\n    let {list,itemDetail,seleced,openTipWarn,tipText} = this.state;\n    let options=[{\n      label:\"门编号\",\n      value:\"deviceCode\"\n    },{\n      label:\"硬件编号\",\n      value:\"hardwareId\"\n    }]\n    return (\n      <div style={{minHeight:'910',backgroundColor:\"#fff\"}}>\n        <div className=\"uploadWarn\" style={{display:openTipWarn?\"block\":\"none\"}}><img src={error2} className=\"tipImg\"/>{tipText}</div>\n        <Title value=\"设备定义 \"/>\n        <Section title={`设备定义`} description=\"\" >\n          <form name=\"searchForm\" className=\"searchForm searchList\" style={{marginBottom:10,height:45}}>\n            <Grid>\n              <Row>\n                <ListGroup>\n                  <ListGroupItem>\n                    <Button label=\"新增定义\"  onTouchTap={this.openNewCreateDefinitionDialog}/>\n                  </ListGroupItem>\n                  <ListGroupItem style={{marginLeft:10}}>\n                    <Button label=\"批量上传图片\"  onTouchTap={this.openBatchUploadDialog} style={{width:100,height:30}}/>\n                  </ListGroupItem>\n                  <ListGroupItem style={{float:'right'}}>\n                    {/*高级查询*/}\n                    <Button type='search' searchClick={this.openEquipmentAdvancedQueryDialog} \n                        searchStyle={{marginLeft:'30',marginTop:'10',display:'inline-block',float:'right'}}\n                    />\n                  <SearchForms onSubmit={this.onSearchSubmit}  ref = \"inputFilter\" \n                    style={{marginTop:5,zIndex:10000}} \n                    content={this.state.content} \n                    searchFilter={options}\n                  />\n                  </ListGroupItem>\n                </ListGroup>\n              </Row>\n            </Grid>   \n          </form>\n          <Table\n            className=\"member-list-table\"\n            style={{marginTop:10,position:'inherit'}}\n            onLoaded={this.onLoaded}\n            ajax={true}\n            onProcessData={(state)=>{\n              return state;\n              }}\n            onOperation={this.onOperation}\n            exportSwitch={false}\n            onExport={this.onExport}\n            ajaxFieldListName='items'\n            ajaxUrlName='equipmentList'\n            ajaxParams={this.state.equipmentParams}\n          >\n            <TableHeader>\n              <TableHeaderColumn>社区名称</TableHeaderColumn>\n              <TableHeaderColumn>展示标题</TableHeaderColumn>\n              <TableHeaderColumn>门编号</TableHeaderColumn>\n              <TableHeaderColumn>智能硬件ID</TableHeaderColumn>\n              <TableHeaderColumn>类型</TableHeaderColumn>\n              <TableHeaderColumn>属性</TableHeaderColumn>\n              <TableHeaderColumn>对应功能</TableHeaderColumn>\n              <TableHeaderColumn>是否上线</TableHeaderColumn>\n              <TableHeaderColumn>连接状态</TableHeaderColumn>\n              <TableHeaderColumn>操作</TableHeaderColumn>\n          </TableHeader>\n          <TableBody style={{position:'inherit'}}>\n              <TableRow displayCheckbox={true}>\n              <TableRowColumn name=\"communityName\"\n              component={(value,oldValue)=>{\n                if(value==\"\"){\n                  value=\"-\"\n                }\n                return (<span>{value}</span>)}}\n              ></TableRowColumn>\n              \n\n\n\n              <TableRowColumn style={{width:160,overflow:\"visible\"}} name=\"showTitle\" component={(value,oldValue)=>{\n                            var TooltipStyle=\"\"\n                            if(value.length==\"\"){\n                              TooltipStyle=\"none\"\n\n                            }else{\n                              TooltipStyle=\"block\";\n                            }\n                             return (<div style={{display:TooltipStyle,paddingTop:5}} className='financeDetail-hover'><span className='tableOver' style={{maxWidth:160,display:\"inline-block\",overflowX:\"hidden\",textOverflow:\" ellipsis\",whiteSpace:\" nowrap\"}}>{value}</span>\n                              <Tooltip offsetTop={5} place='top'>{value}</Tooltip></div>)\n              }} ></TableRowColumn>\n\n              \n\n\n              <TableRowColumn name=\"deviceCode\" style={{overflow:\"hidden\"}}\n              component={(value,oldValue)=>{\n                if(value==\"\"){\n                  value=\"-\"\n                }\n                return (<span>{value}</span>)}}\n              ></TableRowColumn>\n\n\n\n\n            \n              <TableRowColumn style={{width:160,overflow:\"visible\"}} name=\"hardwareId\" component={(value,oldValue)=>{\n                            var TooltipStyle=\"\"\n                            if(value.length==\"\"){\n                              TooltipStyle=\"none\"\n\n                            }else{\n                              TooltipStyle=\"block\";\n                            }\n                             return (<div style={{display:TooltipStyle,paddingTop:5}} className='financeDetail-hover'><span className='tableOver' style={{maxWidth:160,display:\"inline-block\",overflowX:\"hidden\",textOverflow:\" ellipsis\",whiteSpace:\" nowrap\"}}>{value}</span>\n                              <Tooltip offsetTop={5} place='top'>{value}</Tooltip></div>)\n              }} ></TableRowColumn>\n\n\n\n\n            \n              <TableRowColumn name=\"typeName\"\n              component={(value,oldValue)=>{\n                if(value==\"\"){\n                  value=\"-\"\n                }\n                return (<span>{value}</span>)}}\n              ></TableRowColumn>\n              <TableRowColumn name=\"propertyName\"\n              component={(value,oldValue)=>{\n                if(value==\"\"){\n                  value=\"-\"\n                }\n                return (<span>{value}</span>)}}\n              ></TableRowColumn>\n              <TableRowColumn name=\"functionName\"\n              component={(value,oldValue)=>{\n                if(value==\"\"){\n                  value=\"-\"\n                }\n                return (<span>{value}</span>)}}\n              ></TableRowColumn>\n              <TableRowColumn name=\"enable\"\n              component={(value,oldValue)=>{\n                var spanColorOnline=\"\"; \n                if(value==\"OFFLINE\"){\n                  value=\"未上线\";\n                  spanColorOnline = \"#ff6868\";\n                }else if(value==\"ONLINE\"){\n                  value=\"已上线\";\n                }\n                return (<span style={{color:spanColorOnline}}>{value}</span>)}}></TableRowColumn>\n              <TableRowColumn name=\"activityTypeId\"\n              component={(value,oldValue)=>{\n                var spanColor = \"\";\n                if(value==\"UNLINK\"){\n                  value=\"未连接\";\n                  spanColor = \"#ff6868\";\n                }else if(value==\"LINK\"){\n                  value=\"已连接\";\n                }\n                return (<span style={{color:spanColor}}>{value}</span>)}}></TableRowColumn>\n              <TableRowColumn type=\"operation\" name=\"enable\" options={[{label:'已上线',value:'ONLINE'},{label:'未上线',value:'OFFLINE'}]} \n             \n              component={(value,oldValue,itemData)=>{\n                  if(value==\"未上线\"){\n                    return (\n                      <span>\n                      <Button label=\"上线\"  type=\"operation\" operation=\"online\" onClick={this.onlineOrOffline.bind(this,itemData)}/>\n                      <Button label=\"编辑\"  type=\"operation\" operation=\"edit\" onClick={this.openEditEquipmentDialog.bind(this,itemData)}/>\n                      <Button label=\"上传图片\"  type=\"operation\" operation=\"singleUpload\" onClick={this.openSingleUploadDialog.bind(this,itemData)}/>\n                      </span>\n                    )\n                  }\n                  if(value==\"已上线\"){\n                    return (\n                      <span>\n                      <Button label=\"下线\"  type=\"operation\" operation=\"offline\" onClick={this.offlineOrOnline.bind(this,itemData)}/>\n                      <Button label=\"上传图片\"  type=\"operation\" operation=\"singleUpload\" onClick={this.openSingleUploadDialog.bind(this,itemData)}/>\n                      </span>\n                    )\n                  }\n              }}>    \n              </TableRowColumn>\n             </TableRow>\n          </TableBody>\n          <TableFooter></TableFooter>\n          </Table>\n        </Section>\n        <Dialog\n          title=\"新增设备定义\"\n          open={this.state.openNewCreateDefinition}\n          onClose={this.openNewCreateDefinitionDialog}\n          contentStyle={{width:687}}\n        >\n          <NewCreateDefinitionForm  \n            onCancel={this.openNewCreateDefinitionDialog} \n            style ={{paddingTop:'35px'}}\n            onSubmit = {this.onSubmitNewCreateEquipment}\n            isDoorNumHas= {this.isDoorNumHas}\n            hardwareIdHas ={this.hardwareIdHas}\n            saveAndNewCreate= {this.saveAndNewCreate}\n          /> \n        </Dialog>\n        <Dialog\n          title=\"编辑设备\"\n          open={this.state.openEditEquipment}\n          onClose={this.openEditEquipmentDialog}\n          contentStyle={{width:687}}\n        >\n          <EditEquipmentForm \n            detail={itemDetail}\n            onSubmit = {this.onSubmitNewCreateEquipment}\n            isDoorNumHas= {this.isDoorNumHas}\n            hardwareIdHas ={this.hardwareIdHas}\n            saveAndNewCreate= {this.saveAndNewCreate}\n            closeEditEquipment = {this.openEditEquipmentDialog}\n          />\n        </Dialog>\n        <Dialog\n          title=\"高级查询\"\n          open={this.state.openEquipmentAdvancedQuery}\n          onClose={this.openEquipmentAdvancedQueryDialog}\n          contentStyle={{width:687}}\n        >\n          <EquipmentAdvanceQueryForm \n            onSubmit={this.onEquipmentAdvanceSearchSubmit} \n            onReset = {this.onEquipmentAdvanceSearchReset}\n            params={this.params} \n            onCancel={this.openEquipmentAdvancedQueryDialog} \n            onFilterState = {this.onFilterState}\n            style={{marginTop:37}} \n            content={this.state.content} \n            filter={this.state.filter}\n          />\n        </Dialog>\n        <Dialog\n          title=\"批量上传图片\"\n          open={this.state.openBatchUpload}\n          onClose={this.openBatchUploadDialog}\n          contentStyle={{width:687}}\n        >\n          <BatchUploadImageForm \n            tipCommunityOpen = {this.tipCommunityOpen}\n            tipOpen = {this.tipOpen}\n            onCancel= {this.openBatchUploadDialog}\n            onSubmit= {this.onBatchUpload}\n            seleletZero ={this.seleletZero}\n            closeBatchUpload = {this.closeBatchUpload}\n            openFinishTable = {this.openFinishUploadDialogLast}\n            finishUpload = {this.finishUpload}\n          />\n        </Dialog>\n        <Dialog\n          title=\"上传图片\"\n          open={this.state.openFinishUpload}\n          onClose={this.openFinishUploadDialog}\n          contentStyle={{width:687}}\n        >\n          <FinishUploadImgForm \n            closeUploadImg = {this.openFinishUploadDialog}\n            onCancel= {this.openFinishUploadDialog}\n          />\n        </Dialog>\n        <Dialog\n          title=\"提示\"\n          open={this.state.onLineOpen}\n          onClose={this.openOnLineDialog}\n          contentStyle={{width:443,height:236}}\n        >\n          <div style={{marginTop:45}}>\n            <p style={{textAlign:\"center\",color:\"#333333\",fontSize:14}}>确定要上线吗？</p>\n            <Grid style={{marginTop:60,marginBottom:'4px'}}>\n                  <Row>\n                    <ListGroup>\n                      <ListGroupItem style={{width:175,textAlign:'right',padding:0,paddingRight:15}}>\n                        <Button  label=\"确定\" type=\"submit\" onClick={this.confirmOnline} />\n                      </ListGroupItem>\n                      <ListGroupItem style={{width:175,textAlign:'left',padding:0,paddingLeft:15}}>\n                        <Button  label=\"取消\" type=\"button\"  cancle={true} onTouchTap={this.openOnLineDialog} />\n                      </ListGroupItem>\n                    </ListGroup>          \n                  </Row>\n                </Grid>\n          </div>\n        </Dialog>\n        <Dialog\n          title=\"提示\"\n          open={this.state.openOffline}\n          onClose={this.openOffLineDialog}\n          contentStyle={{width:443,height:236}}\n        >\n          <div style={{marginTop:45}}>\n            <p style={{textAlign:\"center\",color:\"#333333\",fontSize:14}}>确定要下线吗？</p>\n            <Grid style={{marginTop:60,marginBottom:'4px'}}>\n                  <Row>\n                    <ListGroup>\n                      <ListGroupItem style={{width:175,textAlign:'right',padding:0,paddingRight:15}}>\n                        <Button  label=\"确定\" type=\"submit\" onClick={this.confirmOffline} />\n                      </ListGroupItem>\n                      <ListGroupItem style={{width:175,textAlign:'left',padding:0,paddingLeft:15}}>\n                        <Button  label=\"取消\" type=\"button\"  cancle={true} onTouchTap={this.openOffLineDialog} />\n                      </ListGroupItem>\n                    </ListGroup>          \n                  </Row>\n                </Grid>\n          </div>\n        </Dialog>\n        <Dialog\n          title=\"上传图片\"\n          open={this.state.openSingleUpload}\n          onClose={this.openSingleUploadDialog}\n          contentStyle={{width:443}}\n        >\n          <SingleUploadImgForm \n            tipOpen={this.tipOpen}\n            detail={itemDetail} \n            onCancel = {this.openSingleUploadDialog}\n            openSingleUploadDialog ={this.openSingleUploadDialog}\n          />\n        </Dialog>\n      </div>\n    );\n\n  }\n\n}\n\n"]}