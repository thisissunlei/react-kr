'use strict';

var _mobx = require('mobx');

var _mobx2 = _interopRequireDefault(_mobx);

var _Redux = require('kr/Redux');

var _krUi = require('kr-ui');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var State = (0, _mobx.observable)({
	openEditCustomerList: false,
	comeFrom: "Merchants",
	orderDetail: {},
	searchParams: {},
	isDevelop: true,
	listId: "",
	detail: {},
	recordDevelop: true,
	operType: "",
	visitLen: 5
});
State.initComeFrom = (0, _mobx.action)(function (comeFroms, operTypes) {
	this.comeFrom = comeFroms || this.comeFrom;
	this.operType = operTypes;
});
State.recordDevelopChange = (0, _mobx.action)(function (comeFrom) {
	this.recordDevelop = !this.recordDevelop;
	this.isDevelop = !this.isDevelop;
});

State.switchEditCustomerList = (0, _mobx.action)(function (comeFrom) {
	this.openEditCustomerList = !this.openEditCustomerList;
});
State.switchEditCustomerList = (0, _mobx.action)(function (comeFrom) {
	this.openEditCustomerList = !this.openEditCustomerList;
});
//获取订单数据列表
State.orderList = (0, _mobx.action)(function (params) {
	if (!params) {
		return;
	}

	var _this = this;
	_Redux.Store.dispatch(_Redux.Actions.callAPI('customerOrdersList', { customerId: params })).then(function (response) {
		_this.orderDetail = response;
	}).catch(function (err) {
		_krUi.Message.error(err.message);
	});
});
State.initListId = (0, _mobx.action)(function (params) {
	this.listId = params;
});
//获取详情页数据
State.lookListId = (0, _mobx.action)(function (params, operType) {
	this.operType = operType;
	if (!params) {
		return;
	}
	if (!operType) {
		return;
	}
	var data = {};
	operType = this.operType || operType;
	var _this = this;
	_this.searchParams = {
		id: params,
		operType: operType
	};
	data.id = params;
	data.operType = operType;

	_Redux.Store.dispatch(_Redux.Actions.callAPI('get-detail-info', data)).then(function (response) {
		_this.detail = response;
	}).catch(function (err) {
		_krUi.Message.error(err.message);
	});
});

module.exports = State;
;

var _temp = function () {
	if (typeof __REACT_HOT_LOADER__ === 'undefined') {
		return;
	}

	__REACT_HOT_LOADER__.register(State, 'State', '/Users/smile/Documents/kr-admin/src/Containers/Operation/CustomerManage/CustomerList/LookCustomerList/State.js');
}();

;