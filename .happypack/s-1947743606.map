{"version":3,"sources":["src/Components/KrField/TreeComponent/index.js"],"names":["TreeComponent","props","imitateInputClick","value","listId","input","listValue","setState","showTreeList","state","onChange","uiList1Ele","treeAll","_this","arr","map","item","index","codeName","children","id","uiList2Ele","uiList2","uiList3Ele","uiList3","uiList4Ele","uiList4","isInit","placeholder","uiList1","bodyElem","document","getElementsByTagName","onclick","event","window","target","className","indexOf","parentNode","label","style","requireLabel","inline","search","listValueName","meta","touched","error","imitateInputStyle","color","length","blockListStyle","heightList1","$treeUi","getElementsByClassName","$Weight","offsetWidth","width","Component","displayName","defaultProps","PropTypes","defaultValue","string","onSubmit","func","bool"],"mappings":"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","file":"index.js","sourceRoot":"/Users/tmac_zc/Code/kr-admin","sourcesContent":["import React from 'react';\n\nimport ReactDOM from 'react-dom';\nimport $ from 'jquery';\n\nimport './index.less';\nimport WrapComponent from '../WrapComponent';\nimport TreeAll from './TreeData.json';\nimport ProjectType from \"./ProjectType\";\nimport {stopSubmit,submit,blur,stopAsyncValidation,touch} from 'redux-form';\nimport {\n\tobserver\n} from 'mobx-react';\nimport State from './State';\nimport ItemSingle from './ItemSingle';\n\n@observer\nexport default class TreeComponent extends React.Component {\n\n\tstatic displayName = 'DateComponent';\n\n\n\tstatic defaultProps = {\n\t\tinline: false\n\t}\n\n\tstatic PropTypes = {\n\t\tdefaultValue: React.PropTypes.string,\n\t\tonSubmit: React.PropTypes.func,\n\t\tinline: React.PropTypes.bool,\n\t\tsearch: React.PropTypes.bool,\n\t\tplaceholder:React.PropTypes.string\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props)\n\n\n\t\tthis.isInit = false;\n\t\tthis.state = {\n\t\t\tshowTreeList:false,\n\t\t\tlistId:\"\",\n\t\t\tlistValue:props.placeholder||\"请选择项目类型\",\n\t\t\tuiList1:TreeAll,\n\t\t\t\n\t\t\tuiList3:[],\n\t\t\tuiList4:[],\n\t\t}\n\t\tState.listValue=props.placeholder||\"请选择项目类型\";\n\n\t}\n\tcomponentDidMount() {\n      \n      let _this=this;\n\t\tlet bodyElem=document.getElementsByTagName(\"body\")[0];\n\t\tbodyElem.onclick=function(event){\n\t\t\tevent = event || window.event;\n\t\t\tvar target = event.target;\n\n\t\t\twhile (target) {\n\t\t\t\tif (target && target.className && target.className.indexOf('tree-communityTree') !== -1) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\ttarget = target.parentNode;\n\t\t\t}\n\t\t\t_this.setState({\n\t\t\t\tshowTreeList:false,\n\t\t\t})\n\t\t}\n\n\t}\n\timitateInputClick=(value,listId)=>{\n\t\t\tlet {input}=this.props;\n\t\t\tif(typeof(value)==\"string\"){\n\t\t\t\tState.listValue=value;\n\t\t\t\tthis.setState({\n\t\t\t\t\tlistId:listId,\n\t\t\t\t\tlistValue:value,\n\t\t\t\t\tshowTreeList:!this.state.showTreeList,\n\t\t\t\t})\n\t\t\t\t// return;\n\t\t\t}\n\t\t\tthis.setState({\t\t\t\n\t\t\t\tshowTreeList:!this.state.showTreeList,\n\t\t\t})\n\t\t\tinput.onChange(listId);\n\t}\n\tuiList1Ele=()=>{\n\t\tlet {treeAll}=this.props;\n\t\tif(!treeAll){\n\t\t\treturn ;\n\t\t}\n\t\tlet _this=this;\n\t\tlet arr=treeAll.map(function(item,index){\n\t\t\treturn (<ItemSingle value={item.codeName} data={item.children} listId={item.id} treeClose={_this.imitateInputClick} treeAll={treeAll}/>);\n\t\t})\n\t\treturn arr;\n\t}\n\tuiList2Ele=()=>{\n\t\tlet {treeAll}=this.props;\n        if(!treeAll){\n\t\t\treturn ;\n\t\t}\n\t\tlet _this=this;\n\t\tlet arr=State.uiList2.map(function(item,index){\n\t\t\treturn (<ItemSingle value={item.codeName} data={item.children} listId={item.id} treeClose={_this.imitateInputClick} treeAll={treeAll}/>);\n\t\t})\n\t\treturn arr;\n\t}\n\tuiList3Ele=()=>{\n\t\tlet {treeAll}=this.props;\n        if(!treeAll){\n\t\t\treturn ;\n\t\t}\n\t\tlet _this=this;\n\t\tlet arr=State.uiList3.map(function(item,index){\n\t\t\treturn (<ItemSingle value={item.codeName} data={item.children} listId={item.id} treeClose={_this.imitateInputClick} treeAll={treeAll}/>);\n\t\t})\n\t\treturn arr;\n\t}\n\tuiList4Ele=()=>{\n\t\tlet {treeAll}=this.props;\n        if(!treeAll){\n\t\t\treturn ;\n\t\t}\n\t\tlet _this=this;\n\t\tlet arr=State.uiList4.map(function(item,index){\n\t\t\treturn (<ItemSingle value={item.codeName} data={item.children} listId={item.id} treeClose={_this.imitateInputClick} treeAll={treeAll}/>);\n\t\t})\n\t\treturn arr;\n\t}\n\n\n\t\n\t\n\trender() {\n\t\tlet {label,style,requireLabel,inline,search,listValueName,placeholder,treeAll,meta: {\n\t\t\t\ttouched,\n\t\t\t\terror\n\t\t\t}}=this.props;\n\t\tif(!treeAll){\n\t\t\ttreeAll='';\n\t\t}\n\t\tlet imitateInputStyle=\"ui-imitateInput\";\n\t\tlet {showTreeList}=this.state;\n\t\tlet listValue=State.listValue;\n\t\tlet color=\"#666\";\n\t\tif(listValue==\"请选择项目类型\"||listValue==placeholder){\n\t\t\tcolor=\"#ccc\";\n\t\t\tif(!listValueName){\n\n\t\t\t}else if(listValueName.length!=0){\n\t\t\t\tlistValue=listValueName;\n\n\t\t\t}\n\t\t}\n        \n        if(listValue!=\"请选择项目类型\"&&listValue!=placeholder){\n        \tcolor=\"#666\";\n        }\n\n        var blockListStyle={};\n        var heightList1='0';\n        var $treeUi=document.getElementsByClassName('ui-treeList')[0];\n        var $Weight=document.getElementsByClassName('ui-list1')[0];\n        let {uiList2,uiList3,uiList4}=State;\n        if($treeUi){\n            heightList1=$Weight.offsetWidth;\n        }\n\n       \t\n\t\tif(uiList4.length!=0){\n\t\t if($treeUi){\n\t\t    $treeUi.style.width=heightList1*4+5+'px';\n\t\t  }\n\t\t}else if(uiList3.length!=0){\n\t\t  if($treeUi){\n\t\t    $treeUi.style.width=heightList1*3+5+'px';\n\t\t   }\n\t\t}else if(uiList2.length!=0){\n\t\t  if($treeUi){\n\t\t\t$treeUi.style.width=heightList1*2+5+'px';\n\t\t   }\n\t\t}\n\t\n\t\treturn (\n         \n\t\t\t<WrapComponent label={label} wrapStyle={style} requireLabel={requireLabel} inline={inline} search={search}>\n\t\t\t <div className='tree-communityTree'>\n\t\t\t\t<div ref=\"ui-imitateInput\" className={imitateInputStyle} onClick={this.imitateInputClick}>\n\t\t\t\t\t<input readOnly=\"true\" className=\"ui-treeInput\" style={{color:color}} value={listValue} onChange={this.onChange} />\n\t\t\t\t\t<span className=\"ui-treeArrow\"></span>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t\t{showTreeList && <div className=\"ui-treeList\">\n\t\t\t\t\t\t<div className=\"ui-list1\">\n\t\t\t\t\t\t\t{this.uiList1Ele()}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{State.uiList2.length!=0 && <div className=\"ui-list2\">\n\t\t\t\t\t\t\t{this.uiList2Ele()}\n\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t{State.uiList3.length!=0 && <div className=\"ui-list3\">\n\t\t\t\t\t\t\t{this.uiList3Ele()}\n\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t{State.uiList4.length!=0 && <div className=\"ui-list4\">\n\t\t\t\t\t\t\t{this.uiList4Ele()}\n\t\t\t\t\t\t</div>}\n\t\t\t\t\t</div>}\n\n\t\t\t\t{/*<ProjectType data={treeAll} num={true} treeClose={this.imitateInputClick} />*/}\n\n\t\t\t\t{touched && error && <div className=\"error-wrap\"> <span>{error}</span> </div> }\n\t\t\t </div>\n\t\t\t</WrapComponent>\n\t\t);\n\t}\n\n}\n"]}