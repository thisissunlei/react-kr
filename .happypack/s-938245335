'use strict';

var _observable;

var _mobx = require('mobx');

var _mobx2 = _interopRequireDefault(_mobx);

var _Redux = require('kr/Redux');

var _krUi = require('kr-ui');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var State = (0, _mobx.observable)((_observable = {
	searchParams: {
		page: 1
	},
	openNewMerchants: false,
	openLookMerchants: false,
	openEditCustomerList: false,
	openNewCustomerIndent: false,
	openNewIndent: false,
	openEditIndent: false,
	openDelete: false,
	openSearchUpper: false,
	openSwitch: false,
	openPersonDialog: false,
	indentReady: {},
	listId: "",
	deleteId: '',
	companyName: ''
}, _defineProperty(_observable, 'openDelete', false), _defineProperty(_observable, 'editIndentData', {}), _defineProperty(_observable, 'editIndentId', ''), _defineProperty(_observable, 'customerName', ""), _defineProperty(_observable, 'orderCount', ""), _defineProperty(_observable, 'mainbillname', ""), _defineProperty(_observable, 'cityname', ""), _defineProperty(_observable, 'editCity', ''), _defineProperty(_observable, 'editprojectName', ''), _defineProperty(_observable, 'ishasOffice', false), _defineProperty(_observable, 'editIndentState', ""), _observable));
State.hasOfficeChange = (0, _mobx.action)(function (params) {
	this.ishasOffice = params;
});
//新建页的开关
State.switchNewCustomerList = (0, _mobx.action)(function () {
	this.openNewMerchants = !this.openNewMerchants;
});
//查看页面的开关
State.switchLookCustomerList = (0, _mobx.action)(function () {
	this.openLookMerchants = !this.openLookMerchants;
});
//编辑页面的开关
State.switchEditCustomerList = (0, _mobx.action)(function () {
	this.openEditCustomerList = !this.openEditCustomerList;
});
//新增排放记录的开关
State.switchCustomerIndent = (0, _mobx.action)(function () {
	this.openNewCustomerIndent = !this.openNewCustomerIndent;
});
//新建订单的开关
State.switchNewIndent = (0, _mobx.action)(function () {
	this.openNewIndent = !this.openNewIndent;
});
//编辑订单的开关
State.switchEditIndent = (0, _mobx.action)(function () {
	this.openEditIndent = !this.openEditIndent;
});
//高级查询的开关
State.searchUpperCustomer = (0, _mobx.action)(function () {
	this.openSearchUpper = !this.openSearchUpper;
});
//转移开关
State.openSwitchGoDialog = (0, _mobx.action)(function () {
	this.openSwitch = !this.openSwitch;
});
//删除订单
State.openDeleteOrder = (0, _mobx.action)(function () {
	this.openDelete = !this.openDelete;
});
//新建订单页得数据准备
State.indentReady = (0, _mobx.action)(function (params) {
	this.indentReady = params;
});

//编辑定点id
State.editIndentIdChange = (0, _mobx.action)(function (params) {
	this.editIndentId = params;
});
//订单名称
State.orderNameChange = (0, _mobx.action)(function (params) {
	this.orderName = params;
});

//获取订单名称
State.orderNameInit = (0, _mobx.action)(function (value) {
	var _this = this;
	var data = {};

	data.customerId = value;

	_Redux.Store.dispatch(_Redux.Actions.callAPI('get-customName-orderName', data)).then(function (response) {
		_this.customerName = response.customerName;
		_this.orderCount = response.orderCount;
	}).catch(function (err) {
		_krUi.Message.error(err.message);
	});
});

//转移提交
State.switchSureSubmit = (0, _mobx.action)(function (value) {
	var _this = this;
	_Redux.Store.dispatch(_Redux.Actions.callAPI('customerTransfer', {}, value)).then(function (response) {
		_this.openSwitch = false;
		_krUi.Message.success('转移成功');
		_this.openPersonDialog = false;
		_this.searchParams = {
			page: 1,
			time: +new Date()
		};
	}).catch(function (err) {
		_krUi.Message.error(err.message);
	});
});
//导出
State.exportData = (0, _mobx.action)(function (value) {
	var search = {};
	search.company = this.searchParams.company;
	search.cityId = this.searchParams.cityId;
	search.communityId = this.searchParams.communityId;
	search.signEndDate = this.searchParams.signEndDate;
	search.signStartDate = this.searchParams.signStartDate;
	if (!search.company) {
		search.company = '';
	}
	if (!search.cityId) {
		search.cityId = '';
	}
	if (!search.signStartDate) {
		search.signStartDate = '';
	}
	if (!search.communityId) {
		search.communityId = '';
	}
	if (!search.signEndDate) {
		search.signEndDate = '';
	}
	var customerIds = [];
	if (value.length != 0) {
		value.map(function (item, value) {
			customerIds.push(item.id);
		});
	}
	var url = 'http://optest.krspace.cn/api/krspace-finance-web/customer/sign-customers-export?customerIds=' + customerIds + '&company=' + search.company + '&cityId=' + search.cityId + '&signStartDate=' + search.signStartDate + '&communityId=' + search.communityId + '&signEndDate=' + search.signEndDate;
	window.location.href = url;
});
//城市改变
State.cityChange = (0, _mobx.action)(function (params) {
	this.cityname = params;
});
State.closeAllMerchants = (0, _mobx.action)(function () {
	this.openLookMerchants = false;
	this.openNewMerchants = false;
	this.openSearchUpper = false;
	this.openEditCustomerList = false;
	this.openNewCustomerIndent = false;
	this.openNewIndent = false;
	this.openEditIndent = false;
});
State.MerchantsListId = (0, _mobx.action)(function (params) {
	this.listId = params;
});
module.exports = State;
;

var _temp = function () {
	if (typeof __REACT_HOT_LOADER__ === 'undefined') {
		return;
	}

	__REACT_HOT_LOADER__.register(State, 'State', '/Users/liuyihao/Code/kr-admin/src/Containers/Operation/CustomerManage/CustomerList/SignedClient/State.js');
}();

;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9Db250YWluZXJzL09wZXJhdGlvbi9DdXN0b21lck1hbmFnZS9DdXN0b21lckxpc3QvU2lnbmVkQ2xpZW50L1N0YXRlLmpzIl0sIm5hbWVzIjpbIlN0YXRlIiwic2VhcmNoUGFyYW1zIiwicGFnZSIsIm9wZW5OZXdNZXJjaGFudHMiLCJvcGVuTG9va01lcmNoYW50cyIsIm9wZW5FZGl0Q3VzdG9tZXJMaXN0Iiwib3Blbk5ld0N1c3RvbWVySW5kZW50Iiwib3Blbk5ld0luZGVudCIsIm9wZW5FZGl0SW5kZW50Iiwib3BlbkRlbGV0ZSIsIm9wZW5TZWFyY2hVcHBlciIsIm9wZW5Td2l0Y2giLCJvcGVuUGVyc29uRGlhbG9nIiwiaW5kZW50UmVhZHkiLCJsaXN0SWQiLCJkZWxldGVJZCIsImNvbXBhbnlOYW1lIiwiaGFzT2ZmaWNlQ2hhbmdlIiwicGFyYW1zIiwiaXNoYXNPZmZpY2UiLCJzd2l0Y2hOZXdDdXN0b21lckxpc3QiLCJzd2l0Y2hMb29rQ3VzdG9tZXJMaXN0Iiwic3dpdGNoRWRpdEN1c3RvbWVyTGlzdCIsInN3aXRjaEN1c3RvbWVySW5kZW50Iiwic3dpdGNoTmV3SW5kZW50Iiwic3dpdGNoRWRpdEluZGVudCIsInNlYXJjaFVwcGVyQ3VzdG9tZXIiLCJvcGVuU3dpdGNoR29EaWFsb2ciLCJvcGVuRGVsZXRlT3JkZXIiLCJlZGl0SW5kZW50SWRDaGFuZ2UiLCJlZGl0SW5kZW50SWQiLCJvcmRlck5hbWVDaGFuZ2UiLCJvcmRlck5hbWUiLCJvcmRlck5hbWVJbml0IiwidmFsdWUiLCJfdGhpcyIsImRhdGEiLCJjdXN0b21lcklkIiwiZGlzcGF0Y2giLCJjYWxsQVBJIiwidGhlbiIsInJlc3BvbnNlIiwiY3VzdG9tZXJOYW1lIiwib3JkZXJDb3VudCIsImNhdGNoIiwiZXJyIiwiZXJyb3IiLCJtZXNzYWdlIiwic3dpdGNoU3VyZVN1Ym1pdCIsInN1Y2Nlc3MiLCJ0aW1lIiwiRGF0ZSIsImV4cG9ydERhdGEiLCJzZWFyY2giLCJjb21wYW55IiwiY2l0eUlkIiwiY29tbXVuaXR5SWQiLCJzaWduRW5kRGF0ZSIsInNpZ25TdGFydERhdGUiLCJjdXN0b21lcklkcyIsImxlbmd0aCIsIm1hcCIsIml0ZW0iLCJwdXNoIiwiaWQiLCJ1cmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJjaXR5Q2hhbmdlIiwiY2l0eW5hbWUiLCJjbG9zZUFsbE1lcmNoYW50cyIsIk1lcmNoYW50c0xpc3RJZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7OztBQU9BOztBQUlBOzs7Ozs7QUFHQSxJQUFJQSxRQUFRO0FBQ1ZDLGVBQWE7QUFDWkMsUUFBSztBQURPLEVBREg7QUFJVkMsbUJBQWlCLEtBSlA7QUFLVkMsb0JBQWtCLEtBTFI7QUFNVkMsdUJBQXFCLEtBTlg7QUFPVkMsd0JBQXNCLEtBUFo7QUFRVkMsZ0JBQWMsS0FSSjtBQVNWQyxpQkFBZSxLQVRMO0FBVVZDLGFBQVcsS0FWRDtBQVdWQyxrQkFBZ0IsS0FYTjtBQVlWQyxhQUFXLEtBWkQ7QUFhVkMsbUJBQWlCLEtBYlA7QUFjVkMsY0FBWSxFQWRGO0FBZVZDLFNBQU8sRUFmRztBQWdCVkMsV0FBUyxFQWhCQztBQWlCVkMsY0FBWTtBQWpCRiw4Q0FrQkMsS0FsQkQsa0RBbUJLLEVBbkJMLGdEQW9CRyxFQXBCSCxnREFxQkcsRUFyQkgsOENBc0JDLEVBdEJELGdEQXVCRyxFQXZCSCw0Q0F3QkQsRUF4QkMsNENBeUJELEVBekJDLG1EQTBCTSxFQTFCTiwrQ0EyQkUsS0EzQkYsbURBNEJNLEVBNUJOLGdCQUFaO0FBOEJBaEIsTUFBTWlCLGVBQU4sR0FBc0Isa0JBQU8sVUFBU0MsTUFBVCxFQUFnQjtBQUM1QyxNQUFLQyxXQUFMLEdBQWlCRCxNQUFqQjtBQUNBLENBRnFCLENBQXRCO0FBR0E7QUFDQWxCLE1BQU1vQixxQkFBTixHQUE4QixrQkFBTyxZQUFXO0FBQy9DLE1BQUtqQixnQkFBTCxHQUFzQixDQUFDLEtBQUtBLGdCQUE1QjtBQUNBLENBRjZCLENBQTlCO0FBR0E7QUFD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TixDQUFVLFVBQUNDLElBQUQsRUFBTzVCLEtBQVAsRUFBaUI7QUFDMUJ5QixlQUFZSSxJQUFaLENBQWlCRCxLQUFLRSxFQUF0QjtBQUNBLEdBRkQ7QUFHQTtBQUNELEtBQUlDLHVHQUFxR04sV0FBckcsaUJBQTRITixPQUFPQyxPQUFuSSxnQkFBcUpELE9BQU9FLE1BQTVKLHVCQUFvTEYsT0FBT0ssYUFBM0wscUJBQXdOTCxPQUFPRyxXQUEvTixxQkFBMFBILE9BQU9JLFdBQXJRO0FBQ0FTLFFBQU9DLFFBQVAsQ0FBZ0JDLElBQWhCLEdBQXVCSCxHQUF2QjtBQUNELENBOUJrQixDQUFuQjtBQStCQTtBQUNBakUsTUFBTXFFLFVBQU4sR0FBaUIsa0JBQU8sVUFBU25ELE1BQVQsRUFBZ0I7QUFDdkMsTUFBS29ELFFBQUwsR0FBY3BELE1BQWQ7QUFDQSxDQUZnQixDQUFqQjtBQUdBbEIsTUFBTXVFLGlCQUFOLEdBQTBCLGtCQUFPLFlBQVc7QUFDM0MsTUFBS25FLGlCQUFMLEdBQXVCLEtBQXZCO0FBQ0EsTUFBS0QsZ0JBQUwsR0FBc0IsS0FBdEI7QUFDQSxNQUFLTyxlQUFMLEdBQXFCLEtBQXJCO0FBQ0EsTUFBS0wsb0JBQUwsR0FBMEIsS0FBMUI7QUFDQSxNQUFLQyxxQkFBTCxHQUEyQixLQUEzQjtBQUNBLE1BQUtDLGFBQUwsR0FBbUIsS0FBbkI7QUFDQSxNQUFLQyxjQUFMLEdBQW9CLEtBQXBCO0FBQ0EsQ0FSeUIsQ0FBMUI7QUFTQVIsTUFBTXdFLGVBQU4sR0FBd0Isa0JBQU8sVUFBU3RELE1BQVQsRUFBaUI7QUFDL0MsTUFBS0osTUFBTCxHQUFZSSxNQUFaO0FBRUEsQ0FIdUIsQ0FBeEI7QUFJQXVELE9BQU9DLE9BQVAsR0FBaUIxRSxLQUFqQjs7Ozs7Ozs7K0JBcEtJQSxLIiwiZmlsZSI6IlN0YXRlLmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9saXV5aWhhby9Db2RlL2tyLWFkbWluIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vYngsIHtcblx0b2JzZXJ2YWJsZSxcblx0YWN0aW9uLFxuXHRhc01hcCxcblx0Y29tcHV0ZWQsXG5cdGV4dGVuZE9ic2VydmFibGVcbn0gZnJvbSAnbW9ieCc7XG5pbXBvcnQge1xuXHRBY3Rpb25zLFxuXHRTdG9yZVxufSBmcm9tICdrci9SZWR1eCc7XG5pbXBvcnQge1xuICAgIE1lc3NhZ2Vcbn0gZnJvbSAna3ItdWknO1xubGV0IFN0YXRlID0gb2JzZXJ2YWJsZSh7XG5cdFx0c2VhcmNoUGFyYW1zOntcblx0XHRcdHBhZ2U6MSxcblx0XHR9LFxuXHRcdG9wZW5OZXdNZXJjaGFudHM6ZmFsc2UsXG5cdFx0b3Blbkxvb2tNZXJjaGFudHM6ZmFsc2UsXG5cdFx0b3BlbkVkaXRDdXN0b21lckxpc3Q6ZmFsc2UsXG5cdFx0b3Blbk5ld0N1c3RvbWVySW5kZW50OmZhbHNlLFxuXHRcdG9wZW5OZXdJbmRlbnQ6ZmFsc2UsXG5cdFx0b3BlbkVkaXRJbmRlbnQ6ZmFsc2UsXG5cdFx0b3BlbkRlbGV0ZTpmYWxzZSxcblx0XHRvcGVuU2VhcmNoVXBwZXI6ZmFsc2UsXG5cdFx0b3BlblN3aXRjaDpmYWxzZSxcblx0XHRvcGVuUGVyc29uRGlhbG9nOmZhbHNlLFxuXHRcdGluZGVudFJlYWR5Ont9LFxuXHRcdGxpc3RJZDpcIlwiLFxuXHRcdGRlbGV0ZUlkOicnLFxuXHRcdGNvbXBhbnlOYW1lOicnLFxuXHRcdG9wZW5EZWxldGU6ZmFsc2UsXG5cdFx0ZWRpdEluZGVudERhdGE6e30sXG5cdFx0ZWRpdEluZGVudElkOicnLFxuXHRcdGN1c3RvbWVyTmFtZTpcIlwiLFxuXHRcdG9yZGVyQ291bnQ6XCJcIixcblx0XHRtYWluYmlsbG5hbWU6XCJcIixcblx0XHRjaXR5bmFtZTpcIlwiLFxuXHRcdGVkaXRDaXR5OicnLFxuXHRcdGVkaXRwcm9qZWN0TmFtZTonJyxcblx0XHRpc2hhc09mZmljZTpmYWxzZSxcblx0XHRlZGl0SW5kZW50U3RhdGU6XCJcIixcbn0pO1xuU3RhdGUuaGFzT2ZmaWNlQ2hhbmdlPWFjdGlvbihmdW5jdGlvbihwYXJhbXMpe1xuXHR0aGlzLmlzaGFzT2ZmaWNlPXBhcmFtcztcbn0pXG4vL+aWsOW7uumhteeahOW8gOWFs1xuU3RhdGUuc3dpdGNoTmV3Q3VzdG9tZXJMaXN0ID0gYWN0aW9uKGZ1bmN0aW9uKCkge1xuXHR0aGlzLm9wZW5OZXdNZXJjaGFudHM9IXRoaXMub3Blbk5ld01lcmNoYW50cztcbn0pO1xuLy/mn6XnnIvpobXpnaLnmoTlvIDlhbNcblN0YXRlLnN3aXRjaExvb2tDdXN0b21lckxpc3QgPSBhY3Rpb24oZnVuY3Rpb24oKSB7XG5cdHRoaXMub3Blbkxvb2tNZXJjaGFudHM9IXRoaXMub3Blbkxvb2tNZXJjaGFudHM7XG59KTtcbi8v57yW6L6R6aG16Z2i55qE5byA5YWzXG5TdGF0ZS5zd2l0Y2hFZGl0Q3VzdG9tZXJMaXN0ID0gYWN0aW9uKGZ1bmN0aW9uKCkge1xuXHR0aGlzLm9wZW5FZGl0Q3VzdG9tZXJMaXN0PSF0aGlzLm9wZW5FZGl0Q3VzdG9tZXJMaXN0O1xufSlcbi8v5paw5aKe5o6S5pS+6K6w5b2V55qE5byA5YWzXG5TdGF0ZS5zd2l0Y2hDdXN0b21lckluZGVudCA9IGFjdGlvbihmdW5jdGlvbigpIHtcblx0dGhpcy5vcGVuTmV3Q3VzdG9tZXJJbmRlbnQ9IXRoaXMub3Blbk5ld0N1c3RvbWVySW5kZW50O1xufSlcbi8v5paw5bu66K6i5Y2V55qE5byA5YWzXG5TdGF0ZS5zd2l0Y2hOZXdJbmRlbnQgPSBhY3Rpb24oZnVuY3Rpb24oKSB7XG5cdHRoaXMub3Blbk5ld0luZGVudD0hdGhpcy5vcGVuTmV3SW5kZW50O1xufSlcbi8v57yW6L6R6K6i5Y2V55qE5byA5YWzXG5TdGF0ZS5zd2l0Y2hFZGl0SW5kZW50PWFjdGlvbihmdW5jdGlvbigpIHtcblx0dGhpcy5vcGVuRWRpdEluZGVudD0hdGhpcy5vcGVuRWRpdEluZGVudDtcbn0pXG4vL+mrmOe6p+afpeivoueahOW8gOWFs1xuU3RhdGUuc2VhcmNoVXBwZXJDdXN0b21lciA9IGFjdGlvbihmdW5jdGlvbigpIHtcblx0dGhpcy5vcGVuU2VhcmNoVXBwZXI9IXRoaXMub3BlblNlYXJjaFVwcGVyO1xufSk7XG4vL+i9rOenu+W8gOWFs1xuU3RhdGUub3BlblN3aXRjaEdvRGlhbG9nPSBhY3Rpb24oZnVuY3Rpb24oKSB7XG5cdHRoaXMub3BlblN3aXRjaD0hdGhpcy5vcGVuU3dpdGNoO1xufSk7XG4vL+WIoOmZpOiuouWNlVxuU3RhdGUub3BlbkRlbGV0ZU9yZGVyPSBhY3Rpb24oZnVuY3Rpb24oKSB7XG5cdHRoaXMub3BlbkRlbGV0ZT0hdGhpcy5vcGVuRGVsZXRlO1xufSlcbi8v5paw5bu66K6i5Y2V6aG15b6X5pWw5o2u5YeG5aSHXG5TdGF0ZS5pbmRlbnRSZWFkeT0gYWN0aW9uKGZ1bmN0aW9uKHBhcmFtcykge1xuXHR0aGlzLmluZGVudFJlYWR5PXBhcmFtcztcbn0pXG5cbi8v57yW6L6R5a6a54K5aWRcblN0YXRlLmVkaXRJbmRlbnRJZENoYW5nZT1hY3Rpb24oZnVuY3Rpb24ocGFyYW1zKXtcblx0dGhpcy5lZGl0SW5kZW50SWQ9cGFyYW1zO1xufSlcbi8v6K6i5Y2V5ZCN56ewXG5TdGF0ZS5vcmRlck5hbWVDaGFuZ2U9YWN0aW9uKGZ1bmN0aW9uKHBhcmFtcyl7XG5cdHRoaXMub3JkZXJOYW1lPXBhcmFtcztcbn0pXG5cbi8v6I635Y+W6K6i5Y2V5ZCN56ewXG5TdGF0ZS5vcmRlck5hbWVJbml0PSBhY3Rpb24oZnVuY3Rpb24odmFsdWUpIHtcblx0dmFyIF90aGlzPXRoaXM7XG5cdGxldCBkYXRhPXt9O1xuXHRcblx0ZGF0YS5jdXN0b21lcklkPXZhbHVlO1xuXG5cdFN0b3JlLmRpc3BhdGNoKEFjdGlvbnMuY2FsbEFQSSgnZ2V0LWN1c3RvbU5hbWUtb3JkZXJOYW1lJyxkYXRhKSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdF90aGlzLmN1c3RvbWVyTmFtZT1yZXNwb25zZS5jdXN0b21lck5hbWU7XG5cdFx0X3RoaXMub3JkZXJDb3VudD1yZXNwb25zZS5vcmRlckNvdW50O1xuXG5cdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuXHRcdCBNZXNzYWdlLmVycm9yKGVyci5tZXNzYWdlKTtcblx0fSk7XHRcdFxufSk7XG5cblxuLy/ovaznp7vmj5DkuqRcblN0YXRlLnN3aXRjaFN1cmVTdWJtaXQ9IGFjdGlvbihmdW5jdGlvbih2YWx1ZSkge1xuXHR2YXIgX3RoaXM9dGhpcztcblx0U3RvcmUuZGlzcGF0Y2goQWN0aW9ucy5jYWxsQVBJKCdjdXN0b21lclRyYW5zZmVyJyx7fSx2YWx1ZSkpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHQgX3RoaXMub3BlblN3aXRjaD1mYWxzZTtcbiAgICAgICAgIE1lc3NhZ2Uuc3VjY2Vzcygn6L2s56e75oiQ5YqfJyk7XG4gICAgICAgICBfdGhpcy5vcGVuUGVyc29uRGlhbG9nPWZhbHNlO1xuICAgICAgICAgX3RoaXMuc2VhcmNoUGFyYW1zPXtcbiAgICAgICAgIFx0cGFnZToxLFxuXHRcdFx0dGltZTorbmV3IERhdGUoKVxuICAgICAgICAgfVxuXHR9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcblx0XHQgTWVzc2FnZS5lcnJvcihlcnIubWVzc2FnZSk7XG5cdH0pO1x0XHRcbn0pO1xuLy/lr7zlh7pcblN0YXRlLmV4cG9ydERhdGEgPSBhY3Rpb24oZnVuY3Rpb24odmFsdWUpIHtcblx0ICAgIHZhciBzZWFyY2g9e307XG5cdCAgICBzZWFyY2guY29tcGFueT0gdGhpcy5zZWFyY2hQYXJhbXMuY29tcGFueTtcblx0ICAgIHNlYXJjaC5jaXR5SWQ9dGhpcy5zZWFyY2hQYXJhbXMuY2l0eUlkO1xuXHQgICAgc2VhcmNoLmNvbW11bml0eUlkPXRoaXMuc2VhcmNoUGFyYW1zLmNvbW11bml0eUlkO1xuXHQgICAgc2VhcmNoLnNpZ25FbmREYXRlPXRoaXMuc2VhcmNoUGFyYW1zLnNpZ25FbmREYXRlO1xuXHQgICAgc2VhcmNoLnNpZ25TdGFydERhdGU9dGhpcy5zZWFyY2hQYXJhbXMuc2lnblN0YXJ0RGF0ZTtcblx0ICAgIGlmKCFzZWFyY2guY29tcGFueSl7XG5cdCAgICBcdHNlYXJjaC5jb21wYW55PScnO1xuXHQgICAgfVxuXHQgICAgaWYoIXNlYXJjaC5jaXR5SWQpe1xuXHQgICAgXHRzZWFyY2guY2l0eUlkPScnO1xuXHQgICAgfVxuXHQgICAgaWYoIXNlYXJjaC5zaWduU3RhcnREYXRlKXtcblx0ICAgIFx0c2VhcmNoLnNpZ25TdGFydERhdGU9Jyc7XG5cdCAgICB9XG5cdCAgICBpZighc2VhcmNoLmNvbW11bml0eUlkKXtcblx0ICAgIFx0c2VhcmNoLmNvbW11bml0eUlkPScnO1xuXHQgICAgfVxuXHQgICAgaWYoIXNlYXJjaC5zaWduRW5kRGF0ZSl7XG5cdCAgICBcdHNlYXJjaC5zaWduRW5kRGF0ZT0nJztcblx0ICAgIH1cblx0XHRsZXQgY3VzdG9tZXJJZHMgPSBbXTtcblx0XHRpZiAodmFsdWUubGVuZ3RoICE9IDApIHtcblx0XHRcdHZhbHVlLm1hcCgoaXRlbSwgdmFsdWUpID0+IHtcblx0XHRcdFx0Y3VzdG9tZXJJZHMucHVzaChpdGVtLmlkKVxuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdHZhciB1cmwgPSBgaHR0cDovL29wdGVzdC5rcnNwYWNlLmNuL2FwaS9rcnNwYWNlLWZpbmFuY2Utd2ViL2N1c3RvbWVyL3NpZ24tY3VzdG9tZXJzLWV4cG9ydD9jdXN0b21lcklkcz0ke2N1c3RvbWVySWRzfSZjb21wYW55PSR7c2VhcmNoLmNvbXBhbnl9JmNpdHlJZD0ke3NlYXJjaC5jaXR5SWR9JnNpZ25TdGFydERhdGU9JHtzZWFyY2guc2lnblN0YXJ0RGF0ZX0mY29tbXVuaXR5SWQ9JHtzZWFyY2guY29tbXVuaXR5SWR9JnNpZ25FbmREYXRlPSR7c2VhcmNoLnNpZ25FbmREYXRlfWBcblx0XHR3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDtcbn0pO1xuLy/ln47luILmlLnlj5hcblN0YXRlLmNpdHlDaGFuZ2U9YWN0aW9uKGZ1bmN0aW9uKHBhcmFtcyl7XG5cdHRoaXMuY2l0eW5hbWU9cGFyYW1zO1xufSlcblN0YXRlLmNsb3NlQWxsTWVyY2hhbnRzID0gYWN0aW9uKGZ1bmN0aW9uKCkge1xuXHR0aGlzLm9wZW5Mb29rTWVyY2hhbnRzPWZhbHNlO1xuXHR0aGlzLm9wZW5OZXdNZXJjaGFudHM9ZmFsc2U7XG5cdHRoaXMub3BlblNlYXJjaFVwcGVyPWZhbHNlO1xuXHR0aGlzLm9wZW5FZGl0Q3VzdG9tZXJMaXN0PWZhbHNlO1xuXHR0aGlzLm9wZW5OZXdDdXN0b21lckluZGVudD1mYWxzZTtcblx0dGhpcy5vcGVuTmV3SW5kZW50PWZhbHNlO1xuXHR0aGlzLm9wZW5FZGl0SW5kZW50PWZhbHNlO1xufSk7XG5TdGF0ZS5NZXJjaGFudHNMaXN0SWQgPSBhY3Rpb24oZnVuY3Rpb24ocGFyYW1zKSB7XG5cdHRoaXMubGlzdElkPXBhcmFtcztcblx0XG59KTtcbm1vZHVsZS5leHBvcnRzID0gU3RhdGU7XG4iXX0=