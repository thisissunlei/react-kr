{"version":3,"sources":["src/Components/KrField/SelectComponent/index.js"],"names":["SelectComponent","props","onChange","bind","handleChange","setInitValue","isInit","state","value","input","nextProps","setState","item","label","inline","search","type","meta","touched","error","children","disabled","style","heightStyle","requireLabel","options","multi","other","name","Component","defaultProps","PropTypes","func","bool","object"],"mappings":"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","file":"index.js","sourceRoot":"/Users/tmac_zc/Code/kr-admin","sourcesContent":["import React from 'react';\n\nimport ReactSelect from '../../Select/Select';\n\nimport WrapComponent from '../WrapComponent';\nimport './index.less';\n\n//import 'react-select/dist/react-select.css';\n\nexport default class SelectComponent extends React.Component {\n\n\n\tstatic defaultProps = {\n\t\tinline: false\n\t}\n\n\tstatic PropTypes = {\n\t\tonChange: React.PropTypes.func,\n\t\tinline: React.PropTypes.bool,\n\t\tsearch: React.PropTypes.bool,\n\n\t\theightStyle: React.PropTypes.object\n\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.handleChange = this.handleChange.bind(this);\n\n\t\tthis.setInitValue = this.setInitValue.bind(this);\n\n\t\tthis.isInit = false;\n\n\t\tthis.state = {\n\t\t\tvalue: []\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.setInitValue(this.props.input.value);\n\t}\n\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (!this.isInit && nextProps.input.value) {\n\t\t\tthis.setInitValue(nextProps.input.value);\n\t\t}\n\t}\n\n\tsetInitValue(value) {\n\n\t\tif (!value) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState({\n\t\t\tvalue\n\t\t});\n\t\tthis.isInit = true;\n\t}\n\n\thandleChange(value) {\n\n\t\tlet {\n\t\t\tinput\n\t\t} = this.props;\n\t\tthis.setState({\n\t\t\tvalue\n\t\t});\n\t\tinput.onChange(value);\n\t}\n\n\tonChange(item) {\n\t\tlet {\n\t\t\tinput,\n\t\t\tonChange\n\t\t} = this.props;\n\t\tvar value = (item && item.value) || '';\n\t\tinput.onChange(value);\n\t\tonChange && onChange(item);\n\t}\n\n\trender() {\n\n\t\tlet {\n\t\t\tinput,\n\t\t\tlabel,\n\t\t\tinline,\n\t\t\tsearch,\n\t\t\ttype,\n\t\t\tmeta: {\n\t\t\t\ttouched,\n\t\t\t\terror\n\t\t\t},\n\t\t\tchildren,\n\t\t\tdisabled,\n\t\t\tstyle,\n\t\t\theightStyle,\n\t\t\trequireLabel,\n\t\t\toptions,\n\t\t\tmulti,\n\t\t\t...other\n\t\t} = this.props;\n\t\tif (multi) {\n\t\t\treturn (\n\t\t\t\t<WrapComponent label={label} wrapStyle={style} requireLabel={requireLabel} inline={inline} search={search}>\n\t\t\t\t\t<div className=\"ui-select\">\n\t\t\t\t\t\t<ReactSelect\n\t\t\t\t\t\t\t\t\tmulti\n\t\t\t\t\t\t\t\t\tsimpleValue\n\t\t\t\t\t\t\t\t\tname={input.name}\n\t\t\t\t\t\t\t\t\tvalue={this.state.value}\n\t\t\t\t\t\t\t\t\tclearable={true}\n\t\t\t\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t\tplaceholder=\"请选择...\"\n\t\t\t\t\t\t\t\t\tnoResultsText=\"\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{touched && error && <div className=\"error-wrap\"> <span>{error}</span> </div> }\n\t\t\t\t</WrapComponent>\n\t\t\t);\n\n\t\t}\n\t\tif (options) {\n\t\t\treturn (\n\n\t\t\t\t<WrapComponent label={label} wrapStyle={style} requireLabel={requireLabel} inline={inline} search={search}>\n\t\t\t\t\t\t<ReactSelect\n\t\t\t\t\t\t\t\t\tname={input.name}\n\t\t\t\t\t\t\t\t\tsearchable={false}\n\t\t\t\t\t\t\t\t\tvalue={input.value}\n\t\t\t\t\t\t\t\t\tclearable={true}\n\t\t\t\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\t\tplaceholder=\"请选择\"\n\t\t\t\t\t\t\t\t\tonValueClick={function(){\n\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t{touched && error && <div className=\"error-wrap\"> <span>{error}</span> </div> }\n\t\t</WrapComponent>\n\n\t\t\t);\n\n\t\t}\n\n\t\treturn (\n\t\t\t<WrapComponent label={label} wrapStyle={style} requireLabel={requireLabel} inline={inline} search={search}>\n\n\t\t\t\t\t<select {...input}  disabled={disabled} style={heightStyle}>\n\n\t\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t</select>\n\t\t\t\t\t{touched && error && <div className=\"error-wrap\"> <span>{error}</span> </div> }\n\t\t\t</WrapComponent>\n\n\t\t);\n\t}\n}"]}