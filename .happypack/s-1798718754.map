{"version":3,"sources":["src/Components/Form/Form/index.js"],"names":["FormComponent","props","context","onSubmit","bind","values","children","error","handleSubmit","pristine","reset","submitting","Component","propTypes","PropTypes","func","name","string","Form","onValidate","errors","validations","validateInfo","item","hasOwnProperty","val","message","minLength","value","parseInt","length","maxLength","initialValues","form","shouldAsyncValidate","enableReinitialize","keepDirtyOnReinitialize","validate","object"],"mappings":"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","file":"index.js","sourceRoot":"/Users/liuyihao/Code/kr-admin","sourcesContent":["import React from 'react';\nimport {reduxForm,formValueSelector,initialize,arrayPush,arrayInsert,FieldArray} from 'redux-form';\nimport {Actions,Store} from 'kr/Redux';\n\n\nclass FormComponent  extends React.Component{\n\n\tstatic propTypes = {\n\t\tonSubmit:React.PropTypes.func,\n\t\tname:React.PropTypes.string,\n\t}\n\n\tconstructor(props,context){\n\t\tsuper(props, context);\n\n\t\tthis.onSubmit = this.onSubmit.bind(this);\n\t}\n\n\tonSubmit(values){\n\t\tconst {onSubmit} = this.props;\n\t\tonSubmit && onSubmit(values);\n\t}\n\n\trender(){\n\n\t\tlet {children, error, handleSubmit, pristine, reset, submitting} = this.props;\n\n\t\treturn (\n\t\t\t<form onSubmit={handleSubmit(this.onSubmit)}>\n\t\t\t\t{children}\n\t\t\t </form>\n\t\t );\n\n\t}\n\n}\n\n\nexport default  class Form  extends React.Component{\n\n\tstatic PropTypes = {\n\t\tname:React.PropTypes.string,\n\t\tinitialValues:React.PropTypes.object,\n\t\tonSubmit:React.PropTypes.func,\n\t\tvalidations:React.PropTypes.object,\n\t}\n\n\tconstructor(props,context){\n\t\tsuper(props, context);\n\n\t\tthis.onSubmit  = this.onSubmit.bind(this);\n\t\tthis.onValidate = this.onValidate.bind(this);\n\t}\n\n\tonSubmit(values){\n\t\tconst {onSubmit} = this.props;\n\t\tonSubmit && onSubmit(values);\n\t}\n\n\tonValidate(values){\n\t\tconst errors = {};\n\t   \tconst {validations} = this.props;\n\n\t\tif(!validations){\n\t\t\treturn errors;\n\t\t}\n\n\t\tvar validateInfo = {};\n\n\t\tfor(var item in validations){\n\t\t\tif(validations.hasOwnProperty(item)){\n\n\t\t\t\tvalidateInfo = validations[item];\n\t\t\t\tvar val = values[item];\n\n\t\t\t\t//require\n\t\t\t\tif(validateInfo.hasOwnProperty('required') && !val){\n\t\t\t\t\terrors[item] = validateInfo['required'].message;\n\t\t\t\t\treturn errors;\n\t\t\t\t}\n\n\t\t\t\t//minLength\n\t\t\t\tif(validateInfo.hasOwnProperty('minLength')){\n\t\t\t\t\tvar minLength = validateInfo['minLength'].value;\n\t\t\t\t\tif(parseInt(val.length)<parseInt(minLength)){\n\t\t\t\t\t\terrors[item] = validateInfo['minLength'].message;\n\t\t\t\t\t\treturn errors;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//maxLength\n\t\t\t\tif(validateInfo.hasOwnProperty('maxLength')){\n\t\t\t\t\tvar maxLength = validateInfo['maxLength'].value;\n\t\t\t\t\tif(parseInt(val.length)>parseInt(maxLength)){\n\t\t\t\t\t\terrors[item] = validateInfo['maxLength'].message;\n\t\t\t\t\t\treturn errors;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t   return errors;\n\n\t}\n\n\n\trender(){\n\n\t\tconst {children,initialValues,name} = this.props;\n\n\t    FormComponent = reduxForm({ \n\t\t\tform: name,\n\t\t\tshouldAsyncValidate:function(){\n\t\t\t\t\treturn false;\n\t\t\t},\n\t\t\tenableReinitialize:true,\n\t\t\tkeepDirtyOnReinitialize:true,\n\t\t\tinitialValues,\n\t\t\tvalidate:this.onValidate\n\t\t})(FormComponent);\n\n\t  return (\n\n\t\t  \t <FormComponent onSubmit={this.onSubmit} {...this.props}>\n\t\t  \t\t{children}\n\t\t  \t</FormComponent>\n\t );\n\n\t}\n\n}\n\n\n\n\n\n\n"]}