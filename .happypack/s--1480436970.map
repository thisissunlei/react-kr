{"version":3,"sources":["src/Components/KrForm/Input/index.js"],"names":["Input","props","onValidate","value","state","minLength","maxLength","requiredValue","pattern","errors","String","length","test","undefined","onBlur","message","onError","onFocus","onChange","bind","defaultValue","nextProps","setState","event","target","slice","children","className","style","type","name","disabled","placeholder","other","classNames","Component","displayName","defaultPorps","propTypes","PropTypes","string","object","node","number","bool","func"],"mappings":"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","file":"index.js","sourceRoot":"/Users/liuyihao/Code/kr-admin","sourcesContent":["import React from 'react';\n\nimport {\n\tClassNames\n} from 'kr/Utils';\n\n\nimport './index.less';\n\nexport default  class Input extends React.Component {\n\n\tstatic displayName = 'Input';\n\n\tstatic defaultPorps = {\n\t\tvalue:'',\n\t\ttype:'text',\n\t\tplaceholder:'',\n\t\tdisabled:false,\n\t}\n\n\tstatic propTypes = {\n\t\t\t\tname: React.PropTypes.string,\n\t\t\t\tstyle: React.PropTypes.object,\n\t\t\t\tclassName: React.PropTypes.string,\n\t\t\t\ttype: React.PropTypes.string,\n\t\t\t\tchildren:React.PropTypes.node,\n\t\t\t\tminLength:React.PropTypes.number,\n\t\t\t\tmaxLength:React.PropTypes.number,\n\t\t\t\tpattern:React.PropTypes.object,\n\t\t\t\tplaceholder:React.PropTypes.string,\n\t\t\t\tdisabled:React.PropTypes.bool,\n\t\t\t\t/**\n\t\t\t\t*{maxLength:'不能超过最大值',minLength:'最小值为'}\n\t\t\t\t*\n\t\t\t\t*/\n\t\t\t\terrors:React.PropTypes.object,\n\t\t\t\tonError:React.PropTypes.func,\n\t}\n\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.onChange = this.onChange.bind(this);\n\n\t\tthis.state = {\n\t\t\tvalue:this.props.defaultValue,\n\t\t\tdefaultValue:this.props.defaultValue\n\t\t}\n\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\t/*\n\t\tif(nextProps.value != this.props.value){\n\t\t\t this.setState({\n\t\t\t\t value:nextProps.value\n\t\t\t });\n\t\t}\n\t\t*/\n\t\tif(nextProps.defaultValue != this.props.defaultValue){\n\t\t\t this.setState({\n\t\t\t\t value:nextProps.defaultValue\n\t\t\t });\n\t\t}\n\t}\n\tcomponentDidMount(){\n\t}\n\n\tonChange(event){\n\n\t\t\tvar value = event.target.value;\n\t\t\tconst {onChange,maxLength} = this.props;\n\t\t\tif (maxLength) {\n\t\t\t\t\tvalue = value.slice(0,maxLength);\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tvalue\n\t\t\t});\n\n\n\t\t\tonChange && onChange(value);\n\n/*\n\t\tlet message = this.onValidate(value);\n\t\tlet {onError} = this.props;\n\t\t\tonError && onError(message);\n\t\t\t*/\n\n\t}\n\n\tonValidate = (value)=>{\n\n\t\tvalue = value || this.state.value;\n\n\t\tlet {minLength,maxLength,requiredValue,pattern,errors} = this.props;\n\n\t\tif(requiredValue && !value){\n\t\t\treturn errors['requiredValue'];\n\t\t}\n\n\t\tif(minLength && String(value).length<minLength){\n\t\t\treturn errors['minLength'];\n\t\t}\n\n\t\tif(maxLength && String(value).length>maxLength){\n\t\t\treturn errors['maxLength'];\n\t\t}\n\n\t\tif(pattern && !pattern.test(value)){\n\t\t\treturn errors['pattern'];\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tonBlur = ()=>{\n\n\t\tlet {value} = this.state;\n\t\tlet message = this.onValidate();\n\t\tlet {onError,onBlur} = this.props;\n\t\tif(typeof message !== 'undefined'){\n\t\t\tonError && onError(message);\n\t\t}\n\t\tonBlur && onBlur(value);\n\t}\n\n\tonFocus = ()=>{\n\t\tlet {onFocus} = this.props;\n\t\tonFocus && onFocus();\n\t}\n\n\trender() {\n\n\t\tlet {children,className,style,type,name,disabled,placeholder,pattern,...other} = this.props;\n\n\t\tlet {value} = this.state;\n\n\t\tlet  classNames = ClassNames('ui-input',className);\n\n\t\tif(disabled){\n\t\t  \tclassNames = ClassNames('ui-input',className,'disabled');\n\t\t}\n\n\t\treturn (\n\t\t\t <input type={type} name={name} className={classNames}  style={style} placeholder={placeholder} value={value} {...other} disabled={disabled} onChange={this.onChange} onBlur={this.onBlur} onFocus={this.onFocus} />\n\t\t);\n\t}\n}\n"]}