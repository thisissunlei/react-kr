'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _simpleAssign = require('simple-assign');

var _simpleAssign2 = _interopRequireDefault(_simpleAssign);

var _transitions = require('../styles/transitions');

var _transitions2 = _interopRequireDefault(_transitions);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _propTypes = require('../utils/propTypes');

var _propTypes2 = _interopRequireDefault(_propTypes);

var _Paper = require('../Paper');

var _Paper2 = _interopRequireDefault(_Paper);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function getStyles(props, context, state) {
  var targetOrigin = props.targetOrigin;
  var open = state.open;
  var muiTheme = context.muiTheme;

  var horizontal = targetOrigin.horizontal.replace('middle', 'vertical');

  return {
    root: {
      opacity: open ? 1 : 0,
      transform: open ? 'scale(1, 1)' : 'scale(0, 0)',
      transformOrigin: horizontal + ' ' + targetOrigin.vertical,
      position: 'fixed',
      zIndex: muiTheme.zIndex.popover,
      transition: _transitions2.default.easeOut('250ms', ['transform', 'opacity']),
      maxHeight: '100%'
    },
    horizontal: {
      maxHeight: '100%',
      overflowY: 'auto',
      transform: open ? 'scaleX(1)' : 'scaleX(0)',
      opacity: open ? 1 : 0,
      transformOrigin: horizontal + ' ' + targetOrigin.vertical,
      transition: _transitions2.default.easeOut('250ms', ['transform', 'opacity'])
    },
    vertical: {
      opacity: open ? 1 : 0,
      transform: open ? 'scaleY(1)' : 'scaleY(0)',
      transformOrigin: horizontal + ' ' + targetOrigin.vertical,
      transition: _transitions2.default.easeOut('500ms', ['transform', 'opacity'])
    }
  };
}

var PopoverAnimationDefault = function (_Component) {
  _inherits(PopoverAnimationDefault, _Component);

  function PopoverAnimationDefault() {
    var _ref;

    var _temp, _this, _ret;

    _classCallCheck(this, PopoverAnimationDefault);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = PopoverAnimationDefault.__proto__ || Object.getPrototypeOf(PopoverAnimationDefault)).call.apply(_ref, [this].concat(args))), _this), _this.state = {
      open: false
    }, _temp), _possibleConstructorReturn(_this, _ret);
  }

  _createClass(PopoverAnimationDefault, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.setState({ open: true }); // eslint-disable-line react/no-did-mount-set-state
    }
  }, {
    key: 'componentWillReceiveProps',
    value: function componentWillReceiveProps(nextProps) {
      this.setState({
        open: nextProps.open
      });
    }
  }, {
    key: 'render',
    value: function render() {
      var _props = this.props,
          className = _props.className,
          style = _props.style,
          zDepth = _props.zDepth;
      var prepareStyles = this.context.muiTheme.prepareStyles;

      var styles = getStyles(this.props, this.context, this.state);

      return _react2.default.createElement(
        _Paper2.default,
        {
          style: (0, _simpleAssign2.default)(styles.root, style),
          zDepth: zDepth,
          className: className
        },
        _react2.default.createElement(
          'div',
          { style: prepareStyles(styles.horizontal) },
          _react2.default.createElement(
            'div',
            { style: prepareStyles(styles.vertical) },
            this.props.children
          )
        )
      );
    }
  }]);

  return PopoverAnimationDefault;
}(_react.Component);

PopoverAnimationDefault.propTypes = {
  children: _react.PropTypes.node,
  /**
   * The css class name of the root element.
   */
  className: _react.PropTypes.string,
  open: _react.PropTypes.bool.isRequired,
  /**
   * Override the inline-styles of the root element.
   */
  style: _react.PropTypes.object,
  targetOrigin: _propTypes2.default.origin.isRequired,
  zDepth: _propTypes2.default.zDepth
};
PopoverAnimationDefault.defaultProps = {
  style: {},
  zDepth: 1
};
PopoverAnimationDefault.contextTypes = {
  muiTheme: _react.PropTypes.object.isRequired
};
var _default = PopoverAnimationDefault;
exports.default = _default;
;

var _temp2 = function () {
  if (typeof __REACT_HOT_LOADER__ === 'undefined') {
    return;
  }

  __REACT_HOT_LOADER__.register(getStyles, 'getStyles', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/Popover/PopoverAnimationDefault.js');

  __REACT_HOT_LOADER__.register(PopoverAnimationDefault, 'PopoverAnimationDefault', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/Popover/PopoverAnimationDefault.js');

  __REACT_HOT_LOADER__.register(_default, 'default', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/Popover/PopoverAnimationDefault.js');
}();

;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9Db21wb25lbnRzL0RhdGVQaWNrZXIvUG9wb3Zlci9Qb3BvdmVyQW5pbWF0aW9uRGVmYXVsdC5qcyJdLCJuYW1lcyI6WyJnZXRTdHlsZXMiLCJwcm9wcyIsImNvbnRleHQiLCJzdGF0ZSIsInRhcmdldE9yaWdpbiIsIm9wZW4iLCJtdWlUaGVtZSIsImhvcml6b250YWwiLCJyZXBsYWNlIiwicm9vdCIsIm9wYWNpdHkiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2Zvcm1PcmlnaW4iLCJ2ZXJ0aWNhbCIsInBvc2l0aW9uIiwiekluZGV4IiwicG9wb3ZlciIsInRyYW5zaXRpb24iLCJlYXNlT3V0IiwibWF4SGVpZ2h0Iiwib3ZlcmZsb3dZIiwiUG9wb3ZlckFuaW1hdGlvbkRlZmF1bHQiLCJzZXRTdGF0ZSIsIm5leHRQcm9wcyIsImNsYXNzTmFtZSIsInN0eWxlIiwiekRlcHRoIiwicHJlcGFyZVN0eWxlcyIsInN0eWxlcyIsImNoaWxkcmVuIiwicHJvcFR5cGVzIiwibm9kZSIsInN0cmluZyIsImJvb2wiLCJpc1JlcXVpcmVkIiwib2JqZWN0Iiwib3JpZ2luIiwiZGVmYXVsdFByb3BzIiwiY29udGV4dFR5cGVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7Ozs7O0FBRUEsU0FBU0EsU0FBVCxDQUFtQkMsS0FBbkIsRUFBMEJDLE9BQTFCLEVBQW1DQyxLQUFuQyxFQUEwQztBQUFBLE1BQ2pDQyxZQURpQyxHQUNqQkgsS0FEaUIsQ0FDakNHLFlBRGlDO0FBQUEsTUFFakNDLElBRmlDLEdBRXpCRixLQUZ5QixDQUVqQ0UsSUFGaUM7QUFBQSxNQUdqQ0MsUUFIaUMsR0FHckJKLE9BSHFCLENBR2pDSSxRQUhpQzs7QUFJeEMsTUFBTUMsYUFBYUgsYUFBYUcsVUFBYixDQUF3QkMsT0FBeEIsQ0FBZ0MsUUFBaEMsRUFBMEMsVUFBMUMsQ0FBbkI7O0FBRUEsU0FBTztBQUNMQyxVQUFNO0FBQ0pDLGVBQVNM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YXVsdC5qcyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbGl1eWloYW8vQ29kZS9rci1hZG1pbiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0cmFuc2l0aW9ucyBmcm9tICcuLi9zdHlsZXMvdHJhbnNpdGlvbnMnO1xuaW1wb3J0IFJlYWN0LCB7Q29tcG9uZW50LCBQcm9wVHlwZXN9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBwcm9wVHlwZXMgZnJvbSAnLi4vdXRpbHMvcHJvcFR5cGVzJztcbmltcG9ydCBQYXBlciBmcm9tICcuLi9QYXBlcic7XG5cbmZ1bmN0aW9uIGdldFN0eWxlcyhwcm9wcywgY29udGV4dCwgc3RhdGUpIHtcbiAgY29uc3Qge3RhcmdldE9yaWdpbn0gPSBwcm9wcztcbiAgY29uc3Qge29wZW59ID0gc3RhdGU7XG4gIGNvbnN0IHttdWlUaGVtZX0gPSBjb250ZXh0O1xuICBjb25zdCBob3Jpem9udGFsID0gdGFyZ2V0T3JpZ2luLmhvcml6b250YWwucmVwbGFjZSgnbWlkZGxlJywgJ3ZlcnRpY2FsJyk7XG5cbiAgcmV0dXJuIHtcbiAgICByb290OiB7XG4gICAgICBvcGFjaXR5OiBvcGVuID8gMSA6IDAsXG4gICAgICB0cmFuc2Zvcm06IG9wZW4gPyAnc2NhbGUoMSwgMSknIDogJ3NjYWxlKDAsIDApJyxcbiAgICAgIHRyYW5zZm9ybU9yaWdpbjogYCR7aG9yaXpvbnRhbH0gJHt0YXJnZXRPcmlnaW4udmVydGljYWx9YCxcbiAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgekluZGV4OiBtdWlUaGVtZS56SW5kZXgucG9wb3ZlcixcbiAgICAgIHRyYW5zaXRpb246IHRyYW5zaXRpb25zLmVhc2VPdXQoJzI1MG1zJywgWyd0cmFuc2Zvcm0nLCAnb3BhY2l0eSddKSxcbiAgICAgIG1heEhlaWdodDogJzEwMCUnLFxuICAgIH0sXG4gICAgaG9yaXpvbnRhbDoge1xuICAgICAgbWF4SGVpZ2h0OiAnMTAwJScsXG4gICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgIHRyYW5zZm9ybTogb3BlbiA/ICdzY2FsZVgoMSknIDogJ3NjYWxlWCgwKScsXG4gICAgICBvcGFjaXR5OiBvcGVuID8gMSA6IDAsXG4gICAgICB0cmFuc2Zvcm1PcmlnaW46IGAke2hvcml6b250YWx9ICR7dGFyZ2V0T3JpZ2luLnZlcnRpY2FsfWAsXG4gICAgICB0cmFuc2l0aW9uOiB0cmFuc2l0aW9ucy5lYXNlT3V0KCcyNTBtcycsIFsndHJhbnNmb3JtJywgJ29wYWNpdHknXSksXG4gICAgfSxcbiAgICB2ZXJ0aWNhbDoge1xuICAgICAgb3BhY2l0eTogb3BlbiA/IDEgOiAwLFxuICAgICAgdHJhbnNmb3JtOiBvcGVuID8gJ3NjYWxlWSgxKScgOiAnc2NhbGVZKDApJyxcbiAgICAgIHRyYW5zZm9ybU9yaWdpbjogYCR7aG9yaXpvbnRhbH0gJHt0YXJnZXRPcmlnaW4udmVydGljYWx9YCxcbiAgICAgIHRyYW5zaXRpb246IHRyYW5zaXRpb25zLmVhc2VPdXQoJzUwMG1zJywgWyd0cmFuc2Zvcm0nLCAnb3BhY2l0eSddKSxcbiAgICB9LFxuICB9O1xufVxuXG5jbGFzcyBQb3BvdmVyQW5pbWF0aW9uRGVmYXVsdCBleHRlbmRzIENvbXBvbmVudCB7XG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAgIC8qKlxuICAgICAqIFRoZSBjc3MgY2xhc3MgbmFtZSBvZiB0aGUgcm9vdCBlbGVtZW50LlxuICAgICAqL1xuICAgIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBvcGVuOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHRoZSBpbmxpbmUtc3R5bGVzIG9mIHRoZSByb290IGVsZW1lbnQuXG4gICAgICovXG4gICAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgdGFyZ2V0T3JpZ2luOiBwcm9wVHlwZXMub3JpZ2luLmlzUmVxdWlyZWQsXG4gICAgekRlcHRoOiBwcm9wVHlwZXMuekRlcHRoLFxuICB9O1xuXG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgc3R5bGU6IHt9LFxuICAgIHpEZXB0aDogMSxcbiAgfTtcblxuICBzdGF0aWMgY29udGV4dFR5cGVzID0ge1xuICAgIG11aVRoZW1lOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gIH07XG5cbiAgc3RhdGUgPSB7XG4gICAgb3BlbjogZmFsc2UsXG4gIH07XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7b3BlbjogdHJ1ZX0pOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L25vLWRpZC1tb3VudC1zZXQtc3RhdGVcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBvcGVuOiBuZXh0UHJvcHMub3BlbixcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7XG4gICAgICBjbGFzc05hbWUsXG4gICAgICBzdHlsZSxcbiAgICAgIHpEZXB0aCxcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IHtwcmVwYXJlU3R5bGVzfSA9IHRoaXMuY29udGV4dC5tdWlUaGVtZTtcbiAgICBjb25zdCBzdHlsZXMgPSBnZXRTdHlsZXModGhpcy5wcm9wcywgdGhpcy5jb250ZXh0LCB0aGlzLnN0YXRlKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8UGFwZXJcbiAgICAgICAgc3R5bGU9e09iamVjdC5hc3NpZ24oc3R5bGVzLnJvb3QsIHN0eWxlKX1cbiAgICAgICAgekRlcHRoPXt6RGVwdGh9XG4gICAgICAgIGNsYXNzTmFtZT17Y2xhc3NOYW1lfVxuICAgICAgPlxuICAgICAgICA8ZGl2IHN0eWxlPXtwcmVwYXJlU3R5bGVzKHN0eWxlcy5ob3Jpem9udGFsKX0+XG4gICAgICAgICAgPGRpdiBzdHlsZT17cHJlcGFyZVN0eWxlcyhzdHlsZXMudmVydGljYWwpfT5cbiAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvUGFwZXI+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3BvdmVyQW5pbWF0aW9uRGVmYXVsdDtcbiJdfQ==