'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _simpleAssign = require('simple-assign');

var _simpleAssign2 = _interopRequireDefault(_simpleAssign);

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _Redux = require('kr/Redux');

var _fetch = require('kr/Redux/Utils/fetch');

var _fetch2 = _interopRequireDefault(_fetch);

var _jquery = require('jquery');

var _jquery2 = _interopRequireDefault(_jquery);

var _dateformat = require('dateformat');

var _dateformat2 = _interopRequireDefault(_dateformat);

var _DatePicker = require('material-ui/DatePicker');

var _DatePicker2 = _interopRequireDefault(_DatePicker);

var _krUi = require('kr-ui');

var _reduxForm = require('redux-form');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var FloorPlan = function (_Component) {
	_inherits(FloorPlan, _Component);

	function FloorPlan(props, context) {
		_classCallCheck(this, FloorPlan);

		var _this2 = _possibleConstructorReturn(this, (FloorPlan.__proto__ || Object.getPrototypeOf(FloorPlan)).call(this, props, context));

		_this2.firstDate = function (personel) {

			// Store.dispatch(change('FloorPlan', 'start', dateFormat(new Date(), "yyyy-mm-dd")));
			var firstDate = new Date(personel);
			var date = _this2.state.date;

			if (_this2.state.dateend) {
				var endDate = new Date(_this2.state.dateend);
				var start = firstDate.getTime();
				var end = endDate.getTime();
				if (start <= end) {
					_this2.setState({
						date: personel
					});
				} else {
					_krUi.Notify.show([{
						message: '结束时间不能小于开始时间',
						type: 'danger'
					}]);
					_Redux.Store.dispatch((0, _reduxForm.change)('FloorPlan', 'start', (0, _dateformat2.default)(date, "yyyy-mm-dd")));
				}
			} else {
				_this2.setState({
					date: personel
				});
			}
		};

		_this2.secondDate = function (personel) {
			var dateend = _this2.state.dateend;


			var secondDate = new Date(personel);
			var end = _this2.state.dateend;
			if (_this2.state.date) {
				var firstDate = new Date(_this2.state.date);
				var start = firstDate.getTime();
				var _end = secondDate.getTime();
				if (start <= _end) {
					_this2.setState({
						dateend: personel
					});
				} else {
					_krUi.Notify.show([{
						message: '结束时间不能小于开始时间',
						type: 'danger'
					}]);
					_Redux.Store.dispatch((0, _reduxForm.change)('FloorPlan', 'end', (0, _dateformat2.default)(dateend, "yyyy-mm-dd")));
				}
			} else {
				_this2.setState({
					dateend: personel
				});
			}
		};

		var _this = _this2;
		_this2.getStationUrl = _this2.getStationUrl.bind(_this2);
		_this2.onSubmit = _this2.onSubmit.bind(_this2);
		_this2.scrollLoad = _this2.scrollLoad.bind(_this2);
		_this2.onLoad = _this2.onLoad.bind(_this2);
		_this2.iframeWindow = null;
		_this2.state = {

			form: {},
			floors: '',
			community: '',
			communityIdList: [],
			communityInfoFloorList: [],
			url: '',
			dateend: (0, _dateformat2.default)(new Date(), "yyyy-mm-dd"),
			date: (0, _dateformat2.default)(new Date(), "yyyy-mm-dd")
		};

		_this2.getcommunity = _this2.getcommunity.bind(_this2);
		_this2.selectCommunity = _this2.selectCommunity.bind(_this2);
		_this2.getcommunity();
		_this2.getCommunityFloors = _this2.getCommunityFloors.bind(_this2);
		_this2.selectFloors = _this2.selectFloors.bind(_this2);
		_Redux.Store.dispatch((0, _reduxForm.change)('FloorPlan', 'start', (0, _dateformat2.default)(new Date(), "yyyy-mm-dd")));
		_Redux.Store.dispatch((0, _reduxForm.change)('FloorPlan', 'end', (0, _dateformat2.default)(new Date(), "yyyy-mm-dd")));

		return _this2;
	}
	// static contextTypes = {
	// 	onSetCommunity: React.PropTypes.func.isRequired,
	// 	communityId: React.PropTypes.string.isRequired,
	// }


	_createClass(FloorPlan, [{
		key: 'componentWillReceiveProps',
		value: function componentWillReceiveProps(nextProps) {
			if (nextProps.url != this.props.url) {
				this.setState({
					url: nextProps.url
				}, function () {
					this.getStationUrl();
				});
			}
		}
	}, {
		key: 'onLoad',
		value: function onLoad(iframeWindow) {
			this.iframeWindow = iframeWindow;
		}
	}, {
		key: 'componentDidMount',
		value: function componentDidMount() {
			this.setState({
				url: this.getStationUrl()
			});
		}
	}, {
		key: 'getStationUrl',
		value: function getStationUrl(form) {

			var url = "/krspace_operate_web/commnuity/communityFloorPlan/toCommunityFloorPlanList?communityId={communityId}&wherefloor={wherefloor}&date={date}&dateend={dateend}";

			var formList = form || {};
			var params = void 0;
			var _state = this.state,
			    community = _state.community,
			    floors = _state.floors,
			    date = _state.date,
			    dateend = _state.dateend;

			if (community == 0) {
				community = '';
			}

			params = {
				communityId: community,
				wherefloor: floors,
				date: date,
				dateend: dateend
			};

			if (Object.keys(params).length) {
				for (var item in params) {
					if (params.hasOwnProperty(item)) {
						url = url.replace('{' + item + '}', params[item]);
						delete params[item];
					}
				}
			};

			return url;
		}
	}, {
		key: 'onSubmit',
		value: function onSubmit(form) {
			form = (0, _simpleAssign2.default)({}, form);

			var _state2 = this.state,
			    floors = _state2.floors,
			    community = _state2.community;

			var that = this;
			var params = {
				communityId: community,
				wherefloor: floors,
				date: (0, _dateformat2.default)(form.start, "yyyy-mm-dd") || (0, _dateformat2.default)(new Date(), "yyyy-mm-dd"),
				dateend: (0, _dateformat2.default)(form.end, "yyyy-mm-dd") || (0, _dateformat2.default)(new Date(), "yyyy-mm-dd")
			};
			if (form.start && form.end) {
				var datastart = Date.parse(form.start),
				    dataend = Date.parse(form.end);
				if (datastart > dataend) {
					_krUi.Notify.show([{
						message: '开始时间不能大于结束时间',
						type: 'danger'
					}]);
				} else {
					this.setState({
						date: (0, _dateformat2.default)(form.start, "yyyy-mm-dd"),
						dateend: (0, _dateformat2.default)(form.end, "yyyy-mm-dd"),
						url: this.getStationUrl(params)
					});
				}
			} else {
				_krUi.Notify.show([{
					message: '注册时间不能为空',
					type: 'danger'
				}]);
			}
		}
		// 监听滚动事件

	}, {
		key: 'scrollLoad',
		value: function scrollLoad() {
			var that = this;
			(0, _jquery2.default)(window).bind('scroll', function () {
				var top = (0, _jquery2.default)(window).scrollTop() || 0; //539滚出的距离
				var height = (0, _jquery2.default)(window).height() || 0; //705浏览器高度
				var num = (0, _jquery2.default)(document).height() - (0, _jquery2.default)(window).height(); //页面高-浏览器高度
				// var scrollBottom = $('#planTable').offset().top +1000 - top - height;
				var scrollBottom = top - num;
				var isOutBoundary = scrollBottom >= 0;
				if (isOutBoundary) {
					that.iframeWindow.pagequery();
				}
			});
		}
	}, {
		key: 'getcommunity',
		value: function getcommunity() {
			var _this = this;
			var communityIdList = this.state.communityIdList;

			_Redux.Store.dispatch(_Redux.Actions.callAPI('getCommunity')).then(function (response) {
				communityIdList = response.communityInfoList.map(function (item, index) {
					item.value = item.id;
					item.label = item.name;
					return item;
				});
				communityIdList.unshift({
					label: '请选择',
					value: '0',
					id: '0'
				});
				_this.setState({
					communityIdList: communityIdList
				});
			}).catch(function (err) {
				_krUi.Notify.show([{
					message: err.message,
					type: 'danger'
				}]);
			});
		}
	}, {
		key: 'selectCommunity',
		value: function selectCommunity(personel) {
			var id = '';
			if (personel) {
				id = personel.id;
				this.getCommunityFloors(personel.id);
			}

			_Redux.Store.dispatch((0, _reduxForm.change)('FloorPlan', 'floor', ''));

			this.setState({
				community: id,
				floors: ''

			});
		}
	}, {
		key: 'getCommunityFloors',
		value: function getCommunityFloors(id) {
			var communityId = {
				communityId: parseInt(id)
			};
			var communityInfoFloorList;
			var that = this;
			_Redux.Store.dispatch(_Redux.Actions.callAPI('getCommunityFloors', communityId)).then(function (response) {
				communityInfoFloorList = response.floors.map(function (item, index) {
					var obj = {};
					obj.value = item;
					obj.label = item;
					return obj;
				});
				that.setState({
					communityInfoFloorList: communityInfoFloorList
				});
			}).catch(function (err) {
				_krUi.Notify.show([{
					message: err.message,
					type: 'danger'
				}]);
			});
		}
	}, {
		key: 'selectFloors',
		value: function selectFloors(personel) {
			var value = '';
			if (personel) {
				value = personel.value;
			}
			this.setState({
				floors: value
			});
		}
	}, {
		key: 'render',
		value: function render() {
			var _state3 = this.state,
			    height = _state3.height,
			    communityLabel = _state3.communityLabel,
			    communityIdList = _state3.communityIdList,
			    communityId = _state3.communityId,
			    communityInfoFloorList = _state3.communityInfoFloorList,
			    dateend = _state3.dateend,
			    date = _state3.date;

			var url = this.getStationUrl();

			var _props = this.props,
			    tab = _props.tab,
			    handleSubmit = _props.handleSubmit;


			if (tab === 'floorplan') {
				(0, _jquery2.default)(window).bind('scroll.floorplan', this.scrollLoad());
			} else {
				(0, _jquery2.default)(window).unbind('scroll.floorplan', this.scrollLoad());
			}

			return _react2.default.createElement(
				'div',
				{ id: 'planTable', style: { margin: 20, paddingBottom: 30 } },
				_react2.default.createElement(
					'form',
					{ name: 'planTable', onSubmit: handleSubmit(this.onSubmit), className: 'form-list', style: { textAlign: 'right' } },
					_react2.default.createElement(
						_krUi.ListGroup,
						null,
						_react2.default.createElement(
							_krUi.ListGroupItem,
							null,
							_react2.default.createElement(
								'span',
								{ style: { display: 'inline-block', lineHeight: '45px', textAlign: 'left' } },
								'\u793E\u533A'
							)
						),
						_react2.default.createElement(
							_krUi.ListGroupItem,
							{ style: { maxWidth: 170, marginTop: '-6px', minWidth: 110, width: '100%', textAlign: 'left' } },
							_react2.default.createElement(_krUi.KrField, { grid: 1 / 1, name: 'community', component: 'select', options: communityIdList, onChange: this.selectCommunity })
						),
						_react2.default.createElement(
							_krUi.ListGroupItem,
							null,
							_react2.default.createElement(
								'span',
								{ style: { display: 'inline-block', lineHeight: '45px', textAlign: 'left' } },
								'\u697C\u5C42'
							)
						),
						_react2.default.createElement(
							_krUi.ListGroupItem,
							{ style: { maxWidth: 170, marginTop: '-6px', minWidth: 100, width: '100%', textAlign: 'left' } },
							_react2.default.createElement(_krUi.KrField, { name: 'floor', grid: 1 / 1, component: 'select', options: communityInfoFloorList, onChange: this.selectFloors })
						),
						_react2.default.createElement(
							_krUi.ListGroupItem,
							{ style: { minWidth: 100, marginTop: '-6px', marginLeft: '-3px', textAlign: 'left' } },
							' ',
							_react2.default.createElement(_krUi.KrField, { name: 'start', component: 'date', simple: true, onChange: this.firstDate })
						),
						_react2.default.createElement(
							_krUi.ListGroupItem,
							{ style: { marginLeft: '10px', textAlign: 'left' } },
							_react2.default.createElement(
								'span',
								{ style: { display: 'inline-block', lineHeight: '45px' } },
								'\u81F3'
							)
						),
						_react2.default.createElement(
							_krUi.ListGroupItem,
							{ style: { minWidth: 100, marginTop: '-6px', textAlign: 'left' } },
							' ',
							_react2.default.createElement(_krUi.KrField, { name: 'end', component: 'date', simple: true, onChange: this.secondDate }),
							' '
						)
					)
				),
				_react2.default.createElement('p', { style: { margin: 10 } }),
				_react2.default.createElement(_krUi.IframeContent, { src: url, onClose: this.getState, className: 'floorIframe', onLoad: this.onLoad, width: '100%', height: 800, scrolling: 'no' })
			);
		}
	}]);

	return FloorPlan;
}(_react.Component);

FloorPlan.defaultProps = {
	tab: ''
};
exports.default = FloorPlan;


exports.default = FloorPlan = (0, _reduxForm.reduxForm)({
	form: 'FloorPlan'
})(FloorPlan);
;

var _temp = function () {
	if (typeof __REACT_HOT_LOADER__ === 'undefined') {
		return;
	}

	__REACT_HOT_LOADER__.register(FloorPlan, 'FloorPlan', '/Users/tmac_zc/Code/kr-admin/src/Containers/Operation/CommunityManage/Detail/FloorPlan/index.js');
}();

;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9Db250YWluZXJzL09wZXJhdGlvbi9Db21tdW5pdHlNYW5hZ2UvRGV0YWlsL0Zsb29yUGxhbi9pbmRleC5qcyJdLCJuYW1lcyI6WyJGbG9vclBsYW4iLCJwcm9wcyIsImNvbnRleHQiLCJmaXJzdERhdGUiLCJwZXJzb25lbCIsIkRhdGUiLCJkYXRlIiwic3RhdGUiLCJkYXRlZW5kIiwiZW5kRGF0ZSIsInN0YXJ0IiwiZ2V0VGltZSIsImVuZCIsInNldFN0YXRlIiwic2hvdyIsIm1lc3NhZ2UiLCJ0eXBlIiwiZGlzcGF0Y2giLCJzZWNvbmREYXRlIiwiX3RoaXMiLCJnZXRTdGF0aW9uVXJsIiwiYmluZCIsIm9uU3VibWl0Iiwic2Nyb2xsTG9hZCIsIm9uTG9hZCIsImlmcmFtZVdpbmRvdyIsImZvcm0iLCJmbG9vcnMiLCJjb21tdW5pdHkiLCJjb21tdW5pdHlJZExpc3QiLCJjb21tdW5pdHlJbmZvRmxvb3JMaXN0IiwidXJsIiwiZ2V0Y29tbXVuaXR5Iiwic2VsZWN0Q29tbXVuaXR5IiwiZ2V0Q29tbXVuaXR5Rmxvb3JzIiwic2VsZWN0Rmxvb3JzIiwibmV4dFByb3BzIiwiZm9ybUxpc3QiLCJwYXJhbXMiLCJjb21tdW5pdHlJZCIsIndoZXJlZmxvb3IiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwiaXRlbSIsImhhc093blByb3BlcnR5IiwicmVwbGFjZSIsInRoYXQiLCJkYXRhc3RhcnQiLCJwYXJzZSIsImRhdGFlbmQiLCJ3aW5kb3ciLCJ0b3AiLCJzY3JvbGxUb3AiLCJoZWlnaHQiLCJudW0iLCJkb2N1bWVudCIsInNjcm9sbEJvdHRvbSIsImlzT3V0Qm91bmRhcnkiLCJwYWdlcXVlcnkiLCJjYWxsQVBJIiwidGhlbiIsInJlc3BvbnNlIiwiY29tbXVuaXR5SW5mb0xpc3QiLCJtYXAiLCJpbmRleCIsInZhbHVlIiwiaWQiLCJsYWJlbCIsIm5hbWUiLCJ1bnNoaWZ0IiwiY2F0Y2giLCJlcnIiLCJwYXJzZUludCIsIm9iaiIsImNvbW11bml0eUxhYmVsIiwidGFiIiwiaGFuZGxlU3VibWl0IiwidW5iaW5kIiwibWFyZ2luIiwicGFkZGluZ0JvdHRvbSIsInRleHRBbGlnbiIsImRpc3BsYXkiLCJsaW5lSGVpZ2h0IiwibWF4V2lkdGgiLCJtYXJnaW5Ub3AiLCJtaW5XaWR0aCIsIndpZHRoIiwibWFyZ2luTGVmdCIsImdldFN0YXRlIiwiZGVmYXVsdFByb3BzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7Ozs7QUFJQTs7QUFPQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOztBQWVBOzs7Ozs7Ozs7O0lBV3FCQSxTOzs7QUFTcEIsb0JBQVlDLEtBQVosRUFBbUJDLE9BQW5CLEVBQTRCO0FBQUE7O0FBQUEscUhBQ3JCRCxLQURxQixFQUNkQyxPQURjOztBQUFBLFNBaU81QkMsU0FqTzRCLEdBaU9oQixVQUFDQyxRQUFELEVBQWM7O0FBRXpCO0FBQ0EsT0FBSUQsWUFBWSxJQUFJRSxJQUFKLENBQVNELFFBQVQsQ0FBaEI7QUFIeUIsT0FJcEJFLElBSm9CLEdBSVosT0FBS0MsS0FKTyxDQUlwQkQsSUFKb0I7O0FBS3pCLE9BQUksT0FBS0MsS0FBTCxDQUFXQyxPQUFmLEVBQXdCO0FBQ3ZCLFFBQUlDLFVBQVUsSUFBSUosSUFBSixDQUFTLE9BQUtFLEtBQUwsQ0FBV0MsT0FBcEIsQ0FBZDtBQUNBLFFBQUlFLFFBQVFQLFVBQVVRLE9BQVYsRUFBWjtBQUNBLFFBQUlDLE1BQU1ILFFBQVFFLE9BQVIsRUFBVjtBQUNBLFFBQUlELFNBQVNFLEdBQWIsRUFBa0I7QUFDakIsWUFBS0MsUUFBTCxDQUFjO0FBQ2JQLFlBQU1GO0FBRE8sTUFBZDtBQUdBLEtBSkQsTUFJTztBQUNOLGtCQUFPVSxJQUFQLENBQVksQ0FBQztBQUNaQyxlQUFTLGNBREc7QUFFWkMsWUFBTTtBQUZNLE1BQUQsQ0FBWjtBQUlBLGtCQUFNQyxRQUFOLENBQWUsdUJBQU8sV0FBUCxFQUFvQixPQUFwQixFQUE2QiwwQkFBV1gsSUFBWCxFQUFpQixZQUFqQixDQUE3QixD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REFBUyxNQUFLLE9BQWQsRUFBdUIsV0FBVSxNQUFqQyxFQUF5QyxRQUFRLElBQWpELEVBQXVELFVBQVUsS0FBSzlFLFNBQXRFO0FBQTNGLE9BTEQ7QUFNQztBQUFBO0FBQUEsU0FBZSxPQUFPLEVBQUNxRixZQUFXLE1BQVosRUFBbUJQLFdBQVUsTUFBN0IsRUFBdEI7QUFBNEQ7QUFBQTtBQUFBLFVBQU0sT0FBTyxFQUFDQyxTQUFRLGNBQVQsRUFBd0JDLFlBQVcsTUFBbkMsRUFBYjtBQUFBO0FBQUE7QUFBNUQsT0FORDtBQU9DO0FBQUE7QUFBQSxTQUFnQixPQUFPLEVBQUNHLFVBQVMsR0FBVixFQUFjRCxXQUFVLE1BQXhCLEVBQStCSixXQUFVLE1BQXpDLEVBQXZCO0FBQUE7QUFBMEUsc0RBQVMsTUFBSyxLQUFkLEVBQW9CLFdBQVUsTUFBOUIsRUFBcUMsUUFBUSxJQUE3QyxFQUFvRCxVQUFVLEtBQUsvRCxVQUFuRSxHQUExRTtBQUFBO0FBQUE7QUFQRDtBQUZELEtBREQ7QUFjQSx5Q0FBRyxPQUFPLEVBQUM2RCxRQUFPLEVBQVIsRUFBVixHQWRBO0FBZUEseURBQWUsS0FBS2hELEdBQXBCLEVBQXlCLFNBQVMsS0FBSzBELFFBQXZDLEVBQWlELFdBQVUsYUFBM0QsRUFBeUUsUUFBUSxLQUFLakUsTUFBdEYsRUFBOEYsT0FBTyxNQUFyRyxFQUE2RyxRQUFRLEdBQXJILEVBQTBILFdBQVUsSUFBcEk7QUFmQSxJQUZEO0FBcUJBOzs7Ozs7QUFoVm1CeEIsUyxDQUtiMEYsWSxHQUFlO0FBQ3JCZCxNQUFLO0FBRGdCLEM7a0JBTEY1RSxTOzs7QUFtVnJCLDhCQUFZLDBCQUFVO0FBQ3JCMEIsT0FBTTtBQURlLENBQVYsRUFFVDFCLFNBRlMsQ0FBWjs7Ozs7Ozs7K0JBblZxQkEsUyIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvdG1hY196Yy9Db2RlL2tyLWFkbWluIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7XG5cdENvbXBvbmVudCxcblx0UHJvcFR5cGVzXG59IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7XG5cdGNvbm5lY3Rcbn0gZnJvbSAna3IvUmVkdXgnO1xuaW1wb3J0IHtcblx0QWN0aW9ucyxcblx0U3RvcmVcbn0gZnJvbSAna3IvUmVkdXgnO1xuaW1wb3J0IGh0dHAgZnJvbSAna3IvUmVkdXgvVXRpbHMvZmV0Y2gnO1xuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBkYXRlRm9ybWF0IGZyb20gJ2RhdGVmb3JtYXQnO1xuaW1wb3J0IERhdGVQaWNrZXIgZnJvbSAnbWF0ZXJpYWwtdWkvRGF0ZVBpY2tlcic7XG5pbXBvcnQge1xuXHREaWFsb2csXG5cdFNlY3Rpb24sXG5cdEdyaWQsXG5cdEZvcm0sXG5cdE5vdGlmeSxcblx0S3JGaWVsZCxcblx0QnJlYWRDcnVtYnMsXG5cdElmcmFtZUNvbnRlbnQsXG5cdEJ1dHRvbixcblx0Um93LFxuXHRDb2wsXG5cdExpc3RHcm91cCxcblx0TGlzdEdyb3VwSXRlbVxufSBmcm9tICdrci11aSc7XG5pbXBvcnQge1xuXHRyZWR1eEZvcm0sXG5cdGZvcm1WYWx1ZVNlbGVjdG9yLFxuXHRpbml0aWFsaXplLFxuXHRhcnJheVB1c2gsXG5cdGFycmF5SW5zZXJ0LFxuXHRGaWVsZEFycmF5LFxuXHRjaGFuZ2Vcbn0gZnJvbSAncmVkdXgtZm9ybSc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmxvb3JQbGFuIGV4dGVuZHMgQ29tcG9uZW50IHtcblx0Ly8gc3RhdGljIGNvbnRleHRUeXBlcyA9IHtcblx0Ly8gXHRvblNldENvbW11bml0eTogUmVhY3QuUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcblx0Ly8gXHRjb21tdW5pdHlJZDogUmVhY3QuUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuXHQvLyB9XG5cdHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG5cdFx0dGFiOiAnJyxcblx0fVxuXG5cdGNvbnN0cnVjdG9yKHByb3BzLCBjb250ZXh0KSB7XG5cdFx0c3VwZXIocHJvcHMsIGNvbnRleHQpO1xuXHRcdGxldCBfdGhpcyA9IHRoaXM7XG5cdFx0dGhpcy5nZXRTdGF0aW9uVXJsID0gdGhpcy5nZXRTdGF0aW9uVXJsLmJpbmQodGhpcyk7XG5cdFx0dGhpcy5vblN1Ym1pdCA9IHRoaXMub25TdWJtaXQuYmluZCh0aGlzKTtcblx0XHR0aGlzLnNjcm9sbExvYWQgPSB0aGlzLnNjcm9sbExvYWQuYmluZCh0aGlzKTtcblx0XHR0aGlzLm9uTG9hZCA9IHRoaXMub25Mb2FkLmJpbmQodGhpcyk7XG5cdFx0dGhpcy5pZnJhbWVXaW5kb3cgPSBudWxsO1xuXHRcdHRoaXMuc3RhdGUgPSB7XG5cblx0XHRcdGZvcm06IHt9LFxuXHRcdFx0Zmxvb3JzOiAnJyxcblx0XHRcdGNvbW11bml0eTogJycsXG5cdFx0XHRjb21tdW5pdHlJZExpc3Q6IFtdLFxuXHRcdFx0Y29tbXVuaXR5SW5mb0Zsb29yTGlzdDogW10sXG5cdFx0XHR1cmw6ICcnLFxuXHRcdFx0ZGF0ZWVuZDogZGF0ZUZvcm1hdChuZXcgRGF0ZSgpLCBcInl5eXktbW0tZGRcIiksXG5cdFx0XHRkYXRlOiBkYXRlRm9ybWF0KG5ldyBEYXRlKCksIFwieXl5eS1tbS1kZFwiKVxuXHRcdH1cblxuXHRcdHRoaXMuZ2V0Y29tbXVuaXR5ID0gdGhpcy5nZXRjb21tdW5pdHkuYmluZCh0aGlzKTtcblx0XHR0aGlzLnNlbGVjdENvbW11bml0eSA9IHRoaXMuc2VsZWN0Q29tbXVuaXR5LmJpbmQodGhpcyk7XG5cdFx0dGhpcy5nZXRjb21tdW5pdHkoKTtcblx0XHR0aGlzLmdldENvbW11bml0eUZsb29ycyA9IHRoaXMuZ2V0Q29tbXVuaXR5Rmxvb3JzLmJpbmQodGhpcyk7XG5cdFx0dGhpcy5zZWxlY3RGbG9vcnMgPSB0aGlzLnNlbGVjdEZsb29ycy5iaW5kKHRoaXMpO1xuXHRcdFN0b3JlLmRpc3BhdGNoKGNoYW5nZSgnRmxvb3JQbGFuJywgJ3N0YXJ0JywgZGF0ZUZvcm1hdChuZXcgRGF0ZSgpLCBcInl5eXktbW0tZGRcIikpKTtcblx0XHRTdG9yZS5kaXNwYXRjaChjaGFuZ2UoJ0Zsb29yUGxhbicsICdlbmQnLCBkYXRlRm9ybWF0KG5ldyBEYXRlKCksIFwieXl5eS1tbS1kZFwiKSkpO1xuXG5cblx0fVxuXHRjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuXHRcdGlmIChuZXh0UHJvcHMudXJsICE9IHRoaXMucHJvcHMudXJsKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0dXJsOiBuZXh0UHJvcHMudXJsXG5cdFx0XHR9LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5nZXRTdGF0aW9uVXJsKCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXG5cdG9uTG9hZChpZnJhbWVXaW5kb3cpIHtcblx0XHR0aGlzLmlmcmFtZVdpbmRvdyA9IGlmcmFtZVdpbmRvdztcblxuXHR9XG5cblxuXG5cdGNvbXBvbmVudERpZE1vdW50KCkge1xuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0dXJsOiB0aGlzLmdldFN0YXRpb25VcmwoKVxuXHRcdH0pXG5cblxuXHR9XG5cblx0Z2V0U3RhdGlvblVybChmb3JtKSB7XG5cblxuXHRcdGxldCB1cmwgPSBcIi9rcnNwYWNlX29wZXJhdGVfd2ViL2NvbW1udWl0eS9jb21tdW5pdHlGbG9vclBsYW4vdG9Db21tdW5pdHlGbG9vclBsYW5MaXN0P2NvbW11bml0eUlkPXtjb21tdW5pdHlJZH0md2hlcmVmbG9vcj17d2hlcmVmbG9vcn0mZGF0ZT17ZGF0ZX0mZGF0ZWVuZD17ZGF0ZWVuZH1cIjtcblxuXHRcdHZhciBmb3JtTGlzdCA9IGZvcm0gfHwge307XG5cdFx0bGV0IHBhcmFtcztcblx0XHRsZXQge1xuXHRcdFx0Y29tbXVuaXR5LFxuXHRcdFx0Zmxvb3JzLFxuXHRcdFx0ZGF0ZSxcblx0XHRcdGRhdGVlbmRcblxuXHRcdH0gPSB0aGlzLnN0YXRlO1xuXHRcdGlmIChjb21tdW5pdHkgPT0gMCkge1xuXHRcdFx0Y29tbXVuaXR5ID0gJyc7XG5cdFx0fVxuXG5cdFx0cGFyYW1zID0ge1xuXHRcdFx0Y29tbXVuaXR5SWQ6IGNvbW11bml0eSxcblx0XHRcdHdoZXJlZmxvb3I6IGZsb29ycyxcblx0XHRcdGRhdGU6IGRhdGUsXG5cdFx0XHRkYXRlZW5kOiBkYXRlZW5kLFxuXHRcdH1cblxuXHRcdGlmIChPYmplY3Qua2V5cyhwYXJhbXMpLmxlbmd0aCkge1xuXHRcdFx0Zm9yIChsZXQgaXRlbSBpbiBwYXJhbXMpIHtcblx0XHRcdFx0aWYgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xuXHRcdFx0XHRcdHVybCA9IHVybC5yZXBsYWNlKCd7JyArIGl0ZW0gKyAnfScsIHBhcmFtc1tpdGVtXSk7XG5cdFx0XHRcdFx0ZGVsZXRlIHBhcmFtc1tpdGVtXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRyZXR1cm4gdXJsO1xuXHR9XG5cdG9uU3VibWl0KGZvcm0pIHtcblx0XHRcdGZvcm0gPSBPYmplY3QuYXNzaWduKHt9LCBmb3JtKTtcblxuXHRcdFx0bGV0IHtcblx0XHRcdFx0Zmxvb3JzLFxuXHRcdFx0XHRjb21tdW5pdHlcblx0XHRcdH0gPSB0aGlzLnN0YXRlO1xuXHRcdFx0dmFyIHRoYXQgPSB0aGlzO1xuXHRcdFx0dmFyIHBhcmFtcyA9IHtcblx0XHRcdFx0Y29tbXVuaXR5SWQ6IGNvbW11bml0eSxcblx0XHRcdFx0d2hlcmVmbG9vcjogZmxvb3JzLFxuXHRcdFx0XHRkYXRlOiBkYXRlRm9ybWF0KGZvcm0uc3RhcnQsIFwieXl5eS1tbS1kZFwiKSB8fCBkYXRlRm9ybWF0KG5ldyBEYXRlKCksIFwieXl5eS1tbS1kZFwiKSxcblx0XHRcdFx0ZGF0ZWVuZDogZGF0ZUZvcm1hdChmb3JtLmVuZCwgXCJ5eXl5LW1tLWRkXCIpIHx8IGRhdGVGb3JtYXQobmV3IERhdGUoKSwgXCJ5eXl5LW1tLWRkXCIpLFxuXHRcdFx0fTtcblx0XHRcdGlmIChmb3JtLnN0YXJ0ICYmIGZvcm0uZW5kKSB7XG5cdFx0XHRcdHZhciBkYXRhc3RhcnQgPSBEYXRlLnBhcnNlKGZvcm0uc3RhcnQpLFxuXHRcdFx0XHRcdGRhdGFlbmQgPSBEYXRlLnBhcnNlKGZvcm0uZW5kKTtcblx0XHRcdFx0aWYgKGRhdGFzdGFydCA+IGRhdGFlbmQpIHtcblx0XHRcdFx0XHROb3RpZnkuc2hvdyhbe1xuXHRcdFx0XHRcdFx0bWVzc2FnZTogJ+W8gOWni+aXtumXtOS4jeiDveWkp+S6jue7k+adn+aXtumXtCcsXG5cdFx0XHRcdFx0XHR0eXBlOiAnZGFuZ2VyJyxcblx0XHRcdFx0XHR9XSk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0XHRcdGRhdGU6IGRhdGVGb3JtYXQoZm9ybS5zdGFydCwgXCJ5eXl5LW1tLWRkXCIpLFxuXHRcdFx0XHRcdFx0ZGF0ZWVuZDogZGF0ZUZvcm1hdChmb3JtLmVuZCwgXCJ5eXl5LW1tLWRkXCIpLFxuXHRcdFx0XHRcdFx0dXJsOiB0aGlzLmdldFN0YXRpb25VcmwocGFyYW1zKVxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH1cblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Tm90aWZ5LnNob3coW3tcblx0XHRcdFx0XHRtZXNzYWdlOiAn5rOo5YaM5pe26Ze05LiN6IO95Li656m6Jyxcblx0XHRcdFx0XHR0eXBlOiAnZGFuZ2VyJyxcblx0XHRcdFx0fV0pO1xuXHRcdFx0fVxuXG5cblx0XHR9XG5cdFx0Ly8g55uR5ZCs5rua5Yqo5LqL5Lu2XG5cdHNjcm9sbExvYWQoKSB7XG5cdFx0dmFyIHRoYXQgPSB0aGlzO1xuXHRcdCQod2luZG93KS5iaW5kKCdzY3JvbGwnLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciB0b3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgfHwgMDsgLy81Mznmu5rlh7rnmoTot53nprtcblx0XHRcdHZhciBoZWlnaHQgPSAkKHdpbmRvdykuaGVpZ2h0KCkgfHwgMDsgLy83MDXmtY/op4jlmajpq5jluqZcblx0XHRcdHZhciBudW0gPSAkKGRvY3VtZW50KS5oZWlnaHQoKSAtICQod2luZG93KS5oZWlnaHQoKTsgLy/pobXpnaLpq5gt5rWP6KeI5Zmo6auY5bqmXG5cdFx0XHQvLyB2YXIgc2Nyb2xsQm90dG9tID0gJCgnI3BsYW5UYWJsZScpLm9mZnNldCgpLnRvcCArMTAwMCAtIHRvcCAtIGhlaWdodDtcblx0XHRcdHZhciBzY3JvbGxCb3R0b20gPSB0b3AgLSBudW07XG5cdFx0XHR2YXIgaXNPdXRCb3VuZGFyeSA9IHNjcm9sbEJvdHRvbSA+PSAwO1xuXHRcdFx0aWYgKGlzT3V0Qm91bmRhcnkpIHtcblx0XHRcdFx0dGhhdC5pZnJhbWVXaW5kb3cucGFnZXF1ZXJ5KCk7XG5cblx0XHRcdH1cblx0XHR9KVxuXG5cblx0fVxuXHRnZXRjb21tdW5pdHkoKSB7XG5cdFx0bGV0IF90aGlzID0gdGhpcztcblx0XHRsZXQge1xuXHRcdFx0Y29tbXVuaXR5SWRMaXN0XG5cdFx0fSA9IHRoaXMuc3RhdGU7XG5cdFx0U3RvcmUuZGlzcGF0Y2goQWN0aW9ucy5jYWxsQVBJKCdnZXRDb21tdW5pdHknKSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuXHRcdFx0Y29tbXVuaXR5SWRMaXN0ID0gcmVzcG9uc2UuY29tbXVuaXR5SW5mb0xpc3QubWFwKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG5cdFx0XHRcdGl0ZW0udmFsdWUgPSBpdGVtLmlkO1xuXHRcdFx0XHRpdGVtLmxhYmVsID0gaXRlbS5uYW1lO1xuXHRcdFx0XHRyZXR1cm4gaXRlbTtcblx0XHRcdH0pO1xuXHRcdFx0Y29tbXVuaXR5SWRMaXN0LnVuc2hpZnQoe1xuXHRcdFx0XHRsYWJlbDogJ+ivt+mAieaLqScsXG5cdFx0XHRcdHZhbHVlOiAnMCcsXG5cdFx0XHRcdGlkOiAnMCcsXG5cdFx0XHR9KTtcblx0XHRcdF90aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0Y29tbXVuaXR5SWRMaXN0LFxuXHRcdFx0fSk7XG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24oZXJyKSB7XG5cdFx0XHROb3RpZnkuc2hvdyhbe1xuXHRcdFx0XHRtZXNzYWdlOiBlcnIubWVzc2FnZSxcblx0XHRcdFx0dHlwZTogJ2RhbmdlcicsXG5cdFx0XHR9XSk7XG5cdFx0fSk7XG5cdH1cblx0c2VsZWN0Q29tbXVuaXR5KHBlcnNvbmVsKSB7XG5cdFx0bGV0IGlkID0gJyc7XG5cdFx0aWYgKHBlcnNvbmVsKSB7XG5cdFx0XHRpZCA9IHBlcnNvbmVsLmlkO1xuXHRcdFx0dGhpcy5nZXRDb21tdW5pdHlGbG9vcnMocGVyc29uZWwuaWQpO1xuXHRcdH1cblxuXHRcdFN0b3JlLmRpc3BhdGNoKGNoYW5nZSgnRmxvb3JQbGFuJywgJ2Zsb29yJywgJycpKTtcblxuXHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0Y29tbXVuaXR5OiBpZCxcblx0XHRcdGZsb29yczogJycsXG5cblx0XHR9KVxuXG5cdH1cblxuXHRnZXRDb21tdW5pdHlGbG9vcnMoaWQpIHtcblx0XHRsZXQgY29tbXVuaXR5SWQgPSB7XG5cdFx0XHRjb21tdW5pdHlJZDogcGFyc2VJbnQoaWQpXG5cdFx0fTtcblx0XHR2YXIgY29tbXVuaXR5SW5mb0Zsb29yTGlzdDtcblx0XHR2YXIgdGhhdCA9IHRoaXM7XG5cdFx0U3RvcmUuZGlzcGF0Y2goQWN0aW9ucy5jYWxsQVBJKCdnZXRDb21tdW5pdHlGbG9vcnMnLCBjb21tdW5pdHlJZCkpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdGNvbW11bml0eUluZm9GbG9vckxpc3QgPSByZXNwb25zZS5mbG9vcnMubWFwKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XG5cdFx0XHRcdHZhciBvYmogPSB7fTtcblx0XHRcdFx0b2JqLnZhbHVlID0gaXRlbTtcblx0XHRcdFx0b2JqLmxhYmVsID0gaXRlbTtcblx0XHRcdFx0cmV0dXJuIG9iajtcblx0XHRcdH0pO1xuXHRcdFx0dGhhdC5zZXRTdGF0ZSh7XG5cdFx0XHRcdGNvbW11bml0eUluZm9GbG9vckxpc3Rcblx0XHRcdH0pO1xuXHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycikge1xuXHRcdFx0Tm90aWZ5LnNob3coW3tcblx0XHRcdFx0bWVzc2FnZTogZXJyLm1lc3NhZ2UsXG5cdFx0XHRcdHR5cGU6ICdkYW5nZXInLFxuXHRcdFx0fV0pO1xuXHRcdH0pO1xuXHR9XG5cdHNlbGVjdEZsb29ycyhwZXJzb25lbCkge1xuXHRcdGxldCB2YWx1ZSA9ICcnO1xuXHRcdGlmIChwZXJzb25lbCkge1xuXHRcdFx0dmFsdWUgPSBwZXJzb25lbC52YWx1ZTtcblx0XHR9XG5cdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRmbG9vcnM6IHZhbHVlXG5cdFx0fSlcblx0fVxuXHRmaXJzdERhdGUgPSAocGVyc29uZWwpID0+IHtcblxuXHRcdC8vIFN0b3JlLmRpc3BhdGNoKGNoYW5nZSgnRmxvb3JQbGFuJywgJ3N0YXJ0JywgZGF0ZUZvcm1hdChuZXcgRGF0ZSgpLCBcInl5eXktbW0tZGRcIikpKTtcblx0XHRsZXQgZmlyc3REYXRlID0gbmV3IERhdGUocGVyc29uZWwpO1xuXHRcdGxldCB7ZGF0ZX0gPSB0aGlzLnN0YXRlO1xuXHRcdGlmICh0aGlzLnN0YXRlLmRhdGVlbmQpIHtcblx0XHRcdGxldCBlbmREYXRlID0gbmV3IERhdGUodGhpcy5zdGF0ZS5kYXRlZW5kKTtcblx0XHRcdGxldCBzdGFydCA9IGZpcnN0RGF0ZS5nZXRUaW1lKCk7XG5cdFx0XHRsZXQgZW5kID0gZW5kRGF0ZS5nZXRUaW1lKCk7XG5cdFx0XHRpZiAoc3RhcnQgPD0gZW5kKSB7XG5cdFx0XHRcdHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0XHRcdGRhdGU6IHBlcnNvbmVsXG5cdFx0XHRcdH0pXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHROb3RpZnkuc2hvdyhbe1xuXHRcdFx0XHRcdG1lc3NhZ2U6ICfnu5PmnZ/ml7bpl7TkuI3og73lsI/kuo7lvIDlp4vml7bpl7QnLFxuXHRcdFx0XHRcdHR5cGU6ICdkYW5nZXInLFxuXHRcdFx0XHR9XSk7XG5cdFx0XHRcdFN0b3JlLmRpc3BhdGNoKGNoYW5nZSgnRmxvb3JQbGFuJywgJ3N0YXJ0JywgZGF0ZUZvcm1hdChkYXRlLCBcInl5eXktbW0tZGRcIikpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGRhdGU6IHBlcnNvbmVsXG5cdFx0XHR9KVxuXHRcdH1cblx0fVxuXHRzZWNvbmREYXRlID0gKHBlcnNvbmVsKSA9PiB7XG5cdFx0bGV0IHtkYXRlZW5kfT0gdGhpcy5zdGF0ZTtcblxuXHRcdGxldCBzZWNvbmREYXRlID0gbmV3IERhdGUocGVyc29uZWwpO1xuXHRcdGxldCBlbmQgPSB0aGlzLnN0YXRlLmRhdGVlbmQ7XG5cdFx0aWYgKHRoaXMuc3RhdGUuZGF0ZSkge1xuXHRcdFx0bGV0IGZpcnN0RGF0ZSA9IG5ldyBEYXRlKHRoaXMuc3RhdGUuZGF0ZSk7XG5cdFx0XHRsZXQgc3RhcnQgPSBmaXJzdERhdGUuZ2V0VGltZSgpO1xuXHRcdFx0bGV0IGVuZCA9IHNlY29uZERhdGUuZ2V0VGltZSgpO1xuXHRcdFx0aWYgKHN0YXJ0IDw9IGVuZCkge1xuXHRcdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0XHRkYXRlZW5kOiBwZXJzb25lbFxuXHRcdFx0XHR9KVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Tm90aWZ5LnNob3coW3tcblx0XHRcdFx0XHRtZXNzYWdlOiAn57uT5p2f5pe26Ze05LiN6IO95bCP5LqO5byA5aeL5pe26Ze0Jyxcblx0XHRcdFx0XHR0eXBlOiAnZGFuZ2VyJyxcblx0XHRcdFx0fV0pO1xuXHRcdFx0XHRTdG9yZS5kaXNwYXRjaChjaGFuZ2UoJ0Zsb29yUGxhbicsICdlbmQnLCBkYXRlRm9ybWF0KGRhdGVlbmQsIFwieXl5eS1tbS1kZFwiKSkpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0ZGF0ZWVuZDogcGVyc29uZWxcblx0XHRcdH0pXG5cdFx0fVxuXG5cblxuXHR9XG5cblx0cmVuZGVyKCkge1xuXG5cdFx0Y29uc3Qge1xuXHRcdFx0aGVpZ2h0LFxuXHRcdFx0Y29tbXVuaXR5TGFiZWwsXG5cdFx0XHRjb21tdW5pdHlJZExpc3QsXG5cdFx0XHRjb21tdW5pdHlJZCxcblx0XHRcdGNvbW11bml0eUluZm9GbG9vckxpc3QsXG5cdFx0XHRkYXRlZW5kLFxuXHRcdFx0ZGF0ZVxuXHRcdH0gPSB0aGlzLnN0YXRlO1xuXHRcdGxldCB1cmwgPSB0aGlzLmdldFN0YXRpb25VcmwoKTtcblxuXHRcdGxldCB7XG5cdFx0XHR0YWIsXG5cdFx0XHRoYW5kbGVTdWJtaXRcblx0XHR9ID0gdGhpcy5wcm9wcztcblxuXHRcdGlmICh0YWIgPT09ICdmbG9vcnBsYW4nKSB7XG5cdFx0XHQkKHdpbmRvdykuYmluZCgnc2Nyb2xsLmZsb29ycGxhbicsIHRoaXMuc2Nyb2xsTG9hZCgpKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHQkKHdpbmRvdykudW5iaW5kKCdzY3JvbGwuZmxvb3JwbGFuJywgdGhpcy5zY3JvbGxMb2FkKCkpO1xuXHRcdH1cblxuXHRcdHJldHVybiAoXG5cblx0XHRcdDxkaXYgaWQ9XCJwbGFuVGFibGVcIiBzdHlsZT17e21hcmdpbjoyMCxwYWRkaW5nQm90dG9tOjMwfX0+XG5cdFx0IFx0PGZvcm0gbmFtZT1cInBsYW5UYWJsZVwiIG9uU3VibWl0PXtoYW5kbGVTdWJtaXQodGhpcy5vblN1Ym1pdCl9IGNsYXNzTmFtZT1cImZvcm0tbGlzdFwiIHN0eWxlPXt7dGV4dEFsaWduOidyaWdodCd9fT5cblx0XHRcdFx0XG5cdFx0XHRcdFx0PExpc3RHcm91cD5cblx0XHRcdFx0XHRcdDxMaXN0R3JvdXBJdGVtPjxzcGFuIHN0eWxlPXt7ZGlzcGxheTonaW5saW5lLWJsb2NrJyxsaW5lSGVpZ2h0Oic0NXB4Jyx0ZXh0QWxpZ246J2xlZnQnfX0+56S+5Yy6PC9zcGFuPjwvTGlzdEdyb3VwSXRlbT5cblx0XHRcdFx0XHRcdDxMaXN0R3JvdXBJdGVtIHN0eWxlPXt7bWF4V2lkdGg6MTcwLG1hcmdpblRvcDonLTZweCcsbWluV2lkdGg6MTEwLHdpZHRoOicxMDAlJyx0ZXh0QWxpZ246J2xlZnQnfX0+PEtyRmllbGQgZ3JpZD17MS8xfSBuYW1lPVwiY29tbXVuaXR5XCIgY29tcG9uZW50PVwic2VsZWN0XCIgICBvcHRpb25zPXtjb21tdW5pdHlJZExpc3R9IG9uQ2hhbmdlPXt0aGlzLnNlbGVjdENvbW11bml0eX0gLz48L0xpc3RHcm91cEl0ZW0+XG5cdFx0XHRcdFx0XHQ8TGlzdEdyb3VwSXRlbT48c3BhbiBzdHlsZT17e2Rpc3BsYXk6J2lubGluZS1ibG9jaycsbGluZUhlaWdodDonNDVweCcsdGV4dEFsaWduOidsZWZ0J319PualvOWxgjwvc3Bhbj48L0xpc3RHcm91cEl0ZW0+XG5cdFx0XHRcdFx0XHQ8TGlzdEdyb3VwSXRlbSAgc3R5bGU9e3ttYXhXaWR0aDoxNzAsbWFyZ2luVG9wOictNnB4JyxtaW5XaWR0aDoxMDAsd2lkdGg6JzEwMCUnLHRleHRBbGlnbjonbGVmdCd9fT48S3JGaWVsZCBuYW1lPVwiZmxvb3JcIiBncmlkPXsxLzF9IGNvbXBvbmVudD1cInNlbGVjdFwiIG9wdGlvbnM9e2NvbW11bml0eUluZm9GbG9vckxpc3R9IG9uQ2hhbmdlPXt0aGlzLnNlbGVjdEZsb29yc30vPjwvTGlzdEdyb3VwSXRlbT5cblx0XHRcdFx0XHRcdDxMaXN0R3JvdXBJdGVtIHN0eWxlPXt7bWluV2lkdGg6MTAwLG1hcmdpblRvcDonLTZweCcsbWFyZ2luTGVmdDonLTNweCcsdGV4dEFsaWduOidsZWZ0J319PiA8S3JGaWVsZCBuYW1lPVwic3RhcnRcIiAgY29tcG9uZW50PVwiZGF0ZVwiICBzaW1wbGU9e3RydWV9IG9uQ2hhbmdlPXt0aGlzLmZpcnN0RGF0ZX0vPjwvTGlzdEdyb3VwSXRlbT5cblx0XHRcdFx0XHRcdDxMaXN0R3JvdXBJdGVtIHN0eWxlPXt7bWFyZ2luTGVmdDonMTBweCcsdGV4dEFsaWduOidsZWZ0J319PjxzcGFuIHN0eWxlPXt7ZGlzcGxheTonaW5saW5lLWJsb2NrJyxsaW5lSGVpZ2h0Oic0NXB4J319PuiHszwvc3Bhbj48L0xpc3RHcm91cEl0ZW0+XG5cdFx0XHRcdFx0XHQ8TGlzdEdyb3VwSXRlbSAgc3R5bGU9e3ttaW5XaWR0aDoxMDAsbWFyZ2luVG9wOictNnB4Jyx0ZXh0QWxpZ246J2xlZnQnfX0+IDxLckZpZWxkIG5hbWU9XCJlbmRcIiBjb21wb25lbnQ9XCJkYXRlXCIgc2ltcGxlPXt0cnVlfSAgb25DaGFuZ2U9e3RoaXMuc2Vjb25kRGF0ZX0vPiA8L0xpc3RHcm91cEl0ZW0+XG5cdFx0XHRcdFx0XHR7Lyo8TGlzdEdyb3VwSXRlbSBzdHlsZT17e21hcmdpbkxlZnQ6NixtYXJnaW5Ub3A6NCx0ZXh0QWxpZ246J2xlZnQnfX0+IDxCdXR0b24gIGxhYmVsPVwi56Gu5a6aXCIgdHlwZT1cInN1Ym1pdFwiIGhlaWdodD17MzR9Lz48L0xpc3RHcm91cEl0ZW0+Ki99XG5cdFx0XHRcdFx0PC9MaXN0R3JvdXA+XG5cdFx0XHQ8L2Zvcm0+XG5cdFx0XHQ8cCBzdHlsZT17e21hcmdpbjoxMH19PjwvcD5cblx0XHRcdDxJZnJhbWVDb250ZW50IHNyYz17dXJsfSBvbkNsb3NlPXt0aGlzLmdldFN0YXRlfSBjbGFzc05hbWU9XCJmbG9vcklmcmFtZVwiIG9uTG9hZD17dGhpcy5vbkxvYWR9IHdpZHRoPXsnMTAwJSd9IGhlaWdodD17ODAwfSBzY3JvbGxpbmc9XCJub1wiLz5cblxuXHRcdDwvZGl2PlxuXHRcdCk7XG5cdH1cbn1cblxuRmxvb3JQbGFuID0gcmVkdXhGb3JtKHtcblx0Zm9ybTogJ0Zsb29yUGxhbidcbn0pKEZsb29yUGxhbik7Il19