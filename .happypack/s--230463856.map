{"version":3,"sources":["src/Containers/Operation/CommunityManage/Detail/Schedule/D3Content.js"],"names":["D3Content","props","context","getLeft","value","currentYear","start","end","startTime","left","Date","getTime","renderRedInfo","itemData","infoList","state","item","id","top","place","length","pointDate","map","i","contractName","width","installmentBegindate","installmentEnddate","marginRight","stationnum","boardroomNum","billStartDate","billEndDate","name","phone","installmentAmount","installmentBackamount","renderBlueInfo","BlueinfoList","items","finaName","leaseBeginDate","leaseEndDate","oldStationNum","oldBoardroomNum","newStationNum","newBoardroomNum","countDays","bind","dealTime","getSpace","appendDiv","timeNode","getSameTime","renderBlueNode","renderRedNode","renderwhiteBar","detail","finaBluePointVo","finaRedPointVo","whiteBar","NodeList","sameNode","nextProps","_","isEqual","setState","date","year","initial","offset","Math","ceil","_this","newArr","j","prop","push","unique","forEach","a","JSON","stringify","Object","keys","u","parse","timeList","begindate","enddate","Begindate","Enddate","toFixed","whiteLength","whiteWidth","whiteNode","list","time","nowNode","index","days","marginLeft","round","that","finaBluePointVoList","concat","finaRedPointVoList","pointDay","obj","node","extend","splice","num","data","remindDate","dispatch","callAPI","billId","then","response","catch","err","console","log","detailId","timestamp","now","unshift","nodeList","redNodeList","blueNodeList","content","getBlueInfo","nodeKind","color","position","getRedInfo","defaultProps","propTypes","params","PropTypes","object"],"mappings":";;;;;;;;;;;;;AAAA;;;;AACA;;AACA;;AAEA;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;IAEqBA,S;;;AAgBpB,oBAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA,qHACrBD,KADqB,EACdC,OADc;;AAAA,SAsQ5BC,OAtQ4B,GAsQpB,UAACC,KAAD,EAAS;AAAA,OAEdC,WAFc,GAGX,OAAKJ,KAHM,CAEdI,WAFc;;AAIhB,OAAIC,QAAWD,WAAX,SAAJ;AACA,OAAIE,MAASF,cAAY,CAArB,oBAAJ;AACA,OAAIG,YAAeH,WAAf,kBAAJ;AACA,OAAII,OAAO,MAAX;AACAH,WAAS,IAAII,IAAJ,CAASJ,KAAT,CAAD,CAAkBK,OAAlB,EAAR;AACAJ,SAAO,IAAIG,IAAJ,CAASH,GAAT,CAAD,CAAgBI,OAAhB,EAAN;AACA,OAAGP,SAASG,GAAT,IAAgBH,SAASE,KAA5B,EAAkC;AACjCG,WAAO,MAAP;AACA;AACD,OAAGL,SAASI,SAAZ,EAAsB;AACrBC,WAAO,MAAP;AACA;AACD,UAAOA,IAAP;AACA,GAvR2B;;AAAA,SA4S5BG,aA5S4B,GA4Sd,UAACC,QAAD,EAAY;AAAA,OACpBC,QADoB,GACR,OAAKC,KADG,CACpBD,QADoB;;AAEzB,OAAIE,OAAOF,YAAY,EAAvB;AACA,OAAIG,KAAK,OAAKhB,KAAL,CAAWgB,EAApB;AACA,OAAIC,MAAM,GAAV;AACA,OAAIC,QAAQ,KAAZ;AACA,OAAGH,KAAKI,MAAL,GAAY,CAAf,EAAiB;AAChBD,YAAQ,QAAR;AACAD,UAAM,MAAIF,KAAKI,MAAf;AACA;AACD,UACC;AAAA;AAAA,MAAW,OAAOD,KAAlB,EAAyB,MAAK,MAA9B,EAAqC,QAAO,OAA5C,EAAoD,QAAQ,KAA5D,EAAmE,SAAOH,KAAKK,SAAZ,GAAwBJ,EAA3F,EAAiG,WAAWC,GAA5G;AACA;AAAA;AAAA,OAAK,WAAU,wBAAf;AACCF,UAAKM,GAAL,CAAS,UAAClB,KAAD,EAAOmB,CAAP,EAAW;AACpB,aACC;AAAA;AAAA,SAAK,KAAKA,CAAV,EAAa,WAAU,uBAAvB;AACC;AAAA;AAAA;AAAOnB,cAAMoB,YAAb;AAAA;AAAA,QADD;AAEC;AAAA;AAAA,UAAG,OAAO,EAACC,OAAM,OAAP,EAAV;AAA4B,kCAAWZ,SAASQ,SAApB,EAA+B,YAA/B,CAA5B;AAAA;AAAoF,kCAAWjB,MAAMsB,oBAAjB,EAAuC,YAAvC,CAApF;AAAA;AAA2I,kCAAWtB,MAAMuB,kBAAjB,EAAqC,YAArC,CAA3I;AAAA;AAAA,QAFD;AAGC;AAAA;AAAA;AAAA;AAAM;AAAA;AAAA,WAAM,WAAU,aAAhB,EAA8B,OAAO,EAACC,aAAY,CAAb,EAArC;AAAuDxB,eAAMyB;AAA7D,SAAN;AAAA;AAA+F;AAAA;AAAA,WAAM,WAAU,aAAhB;AAA+BzB,eAAM0B;AAArC,SAA/F;AAAA;AAAkK,kCAAW1B,MAAM2B,aAAjB,EAAgC,YAAhC,CAAlK;AAAA;AAAkN,kCAAW3B,MAAM4B,WAAjB,EAA8B,YAA9B,CAAlN;AAAA;AAAA,QAHD;AAIC;AAAA;AAAA;AAAA;AAAO;AAAA;AAAA,WAAM,WAAU,aAAhB;AAA+B5B,eAAM6B,IAAN,GAAW7B,MAAM6B,IAAjB,GAAsB;AAArD;AAAP,QAJD;AAKC;AAAA;AAAA;AAAA;AAAM;AAAA;AAAA,WAAM,WAAU,aAAhB;AAA+B7B,eAAM8B,KAAN,GAAY9B,MAAM8B,KAAlB,GAAwB;AAAvD;AAAN,QALD;AAMC;AAAA;AAAA;AAAA;AAAQ;AAAA;AAAA,WAAM,WAAU,aAAhB;AAA+B9B,eAAM+B;AAArC;AAAR,QAND;AAOC,+CAAM,WAAU,eAAhB,GAPD;AAQC;AAAA;AAAA;AAAA;AAAQ;AAAA;AAAA,WAAM,WAAU,aAAhB;AAA+B/B,eAAMgC;AAArC;AAAR;AARD,OADD;AAYA,MAbA;AADD;AADA,IADD;AAoBA,GA1U2B;;AAAA,SA8V5BC,cA9V4B,GA8Vb,YAAI;AAAA,OACbC,YADa,GACG,OAAKvB,KADR,CACbuB,YADa;;AAElB,OAAIC,QAASD,gBAAgB,EAA7B;AACA,OAAIrB,KAAK,OAAKhB,KAAL,CAAWgB,EAApB;AACA,UACC;AAAA;AAAA,MAAW,OAAM,KAAjB,EAAuB,MAAK,MAA5B,EAAmC,QAAO,OAA1C,EAAkD,SAAOsB,MAAMlB,SAAb,GAAyBJ,EAAzB,aAAlD,EAAyF,WAAW,GAApG;AACE;AAAA;AAAA,OAAK,WAAU,uBAAf,EAAuC,OAAO,EAACQ,OAAM,OAAP,EAA9C;AACC;AAAA;AAAA;AAAA;AAAA,MADD;AAEC;AAAA;AAAA;AAAIc,YAAMC,QAAV;AAAA;AAAqB,gCAAWD,MAAME,cAAjB,EAAiC,YAAjC,CAArB;AAAA;AAAsE,gCAAWF,MAAMG,YAAjB,EAA+B,YAA/B,CAAtE;AAAA;AAAA,MAFD;AAGC;AAAA;AAAA;AAAA;AAAS;AAAA;AAAA,SAAM,WAAU,cAAhB;AAAgCH,aAAMI;AAAtC,OAAT;AAAA;AAAgF;AAAA;AAAA,SAAM,WAAU,cAAhB;AAAgCJ,aAAMK;AAAtC;AAAhF,MAHD;AAIC;AAAA;AAAA;AAAA;AAAS;AAAA;AAAA,SAAM,WAAU,cAAhB;AAAgCL,aAAMM;AAAtC,OAAT;AAAA;AAAgF;AAAA;AAAA,SAAM,WAAU,cAAhB;AAAgCN,aAAMO;AAAtC;AAAhF;AAJD;AADF,IADD;AAUA,GA5W2B;;AAG3B,SAAKC,SAAL,GAAiB,OAAKA,SAAL,CAAeC,IAAf,QAAjB;AACA,SAAKC,QAAL,GAAgB,OAAKA,QAAL,CAAcD,IAAd,QAAhB;AACA,SAAKE,QAAL,GAAgB,OAAKA,QAAL,CAAcF,IAAd,QAAhB;AACA,SAAKG,SAAL,GAAiB,OAAKA,SAAL,CAAeH,IAAf,QAAjB;AACA,SAAKI,QAAL,GAAgB,OAAKA,QAAL,CAAcJ,IAAd,QAAhB;AACA,SAAKK,WAAL,GAAmB,OAAKA,WAAL,CAAiBL,IAAjB,QAAnB;AACA,SAAKM,cAAL,GAAsB,OAAKA,cAAL,CAAoBN,IAApB,QAAtB;AACA,SAAKO,aAAL,GAAqB,OAAKA,aAAL,CAAmBP,IAAnB,QAArB;AACA,SAAKQ,cAAL,GAAsB,OAAKA,cAAL,CAAoBR,IAApB,QAAtB;AACA,SAAKjC,KAAL,GAAa;AACZ0C,WAAO,OAAKxD,KAAL,CAAWwD,MADN;AAEZC,oBAAgB,OAAKzD,KAAL,CAAWyD,eAFf;AAGZC,mBAAe,OAAK1D,KAAL,CAAW0D,cAHd;AAIZC,aAAS,OAAK3D,KAAL,CAAW2D;AAJR,GAAb;AAMA,SAAKC,QAAL,GAAgB,OAAKR,WAAL,EAAhB;AACA,SAAKS,QAAL,GAAgB,OAAKD,QAAL,CAAc,CAAd,CAAhB;;AAnB2B;AAqB3B;;;;sCAEmB,CAEnB;;;4CACyBE,S,EAAW;;AAGlC,OAAI,CAACC,EAAEC,OAAF,CAAU,KAAKhE,KAAL,CAAWwD,MAArB,EAA6BM,UAAUN,MAAvC,CAAL,EAAqD;AACnD,SAAKS,QAAL,CAAc;AACZT,aAAQM,UAAUN;AADN,KAAd;AAGD;AACD,OAAI,CAACO,EAAEC,OAAF,CAAU,KAAKhE,KAAL,CAAWyD,eAArB,EAAsCK,UAAUL,eAAhD,CAAL,EAAuE;AACrE,SAAKQ,QAAL,CAAc;AACZT,aAAQM,UAAUL;AADN,KAAd;AAGD;AACD,OAAI,CAACM,EAAEC,OAAF,CAAU,KAAKhE,KAAL,CAAW0D,cAArB,EAAqCI,UAAUJ,cAA/C,CAAL,EAAqE;AACnE,SAAKO,QAAL,CAAc;AACZT,aAAQM,UAAUJ;AADN,KAAd;AAGD;AACD,OAAI,CAACK,EAAEC,OAAF,CAAU,KAAKhE,KAAL,CAAW2D,QAArB,EAA+BG,UAAUH,QAAzC,CAAL,EAAyD;AACvD,SAAKM,QAAL,CAAc;AACZT,aAAQM,UAAUH;AADN,KAAd;AAGD;AACD,QAAKC,QAAL,GAAgB,KAAKR,WAAL,EAAhB;AACH,QAAKS,QAAL,GAAgB,KAAKD,QAAL,CAAc,CAAd,CAAhB;AAGE;;AAEF;;;;4BACUM,I,EAAM;AAAA,OAEb9D,WAFa,GAGV,KAAKJ,KAHK,CAEbI,WAFa;;AAId,OAAI+D,OAAU/D,WAAV,SAAJ;AACA,OAAIgE,UAAW,IAAI3D,IAAJ,CAAS0D,IAAT,CAAD,CAAiBzD,OAAjB,EAAd;AACA,OAAI2D,SAASH,OAAOE,OAApB;AACA,UAAOE,KAAKC,IAAL,CAAUF,SAAS,EAAT,GAAc,IAAd,GAAoB,GAA9B,IAAqC,CAA5C;AACA;AACD;;;;6BACU;AAAA,OAERb,MAFQ,GAGL,KAAKxD,KAHA,CAERwD,MAFQ;;;AAKTA,YAAS,4BAAc,EAAd,EAAkBA,MAAlB,CAAT;;AAEA,OAAIhC,cAAJ;AACA,OAAIgD,QAAQ,IAAZ;AACA,OAAIC,SAAS,EAAb;;AAEA,QAAK,IAAIC,CAAT,IAAclB,MAAd,EAAsB;AACrB,SAAK,IAAImB,IAAT,IAAiBnB,OAAOkB,CAAP,CAAjB,EAA4B;AAC3B,SAAIC,QAAQ,EAAR,IAAcnB,OAAOkB,CAAP,EAAUC,IAAV,KAAmB,EAArC,EAAyC;AACxCF,aAAOG,IAAP,CAAYpB,OAAOkB,CAAP,CAAZ;AACA;AACD;AACD;AACD,OAAIG,SAAS,EAAb;AACAJ,UAAOK,OAAP,CAAe,UAASC,CAAT,EAAY;AAC1BF,WAAOG,KAAKC,SAAL,CAAeF,CAAf,CAAP,IAA4B,CAA5B;AACA,IAFD;AAGAN,YAASS,OAAOC,IAAP,CAAYN,MAAZ,EAAoBxD,GAApB,CAAwB,UAAS+D,CAAT,EAAY;AAC5C,WAAOJ,KAAKK,KAAL,CAAWD,CAAX,CAAP;AACA,IAFQ,CAAT;;AAIA,OAAIE,WAAWb,OAAOpD,GAAP,CAAW,UAASN,IAAT,EAAe;AACxCA,SAAKV,KAAL,GAAamE,MAAM1B,SAAN,CAAgB/B,KAAKwE,SAArB,CAAb;AACAxE,SAAKT,GAAL,GAAWkE,MAAM1B,SAAN,CAAgB/B,KAAKyE,OAArB,CAAX;AACAzE,SAAK0E,SAAL,GAAiB,0BAAW1E,KAAKwE,SAAhB,EAA2B,YAA3B,CAAjB;AACAxE,SAAK2E,OAAL,GAAe,0BAAW3E,KAAKyE,OAAhB,EAAyB,YAAzB,CAAf;AACAhE,YAAQ,CAACT,KAAKT,GAAL,GAAWS,KAAKV,KAAjB,IAA0B,GAAlC,CALwC,CAKD;AACvCU,SAAKS,KAAL,GAAcA,QAAQ,GAAT,GAAgB,GAA7B;AACAT,SAAKP,IAAL,GAAcO,KAAKV,KAAL,GAAa,KAAb,GAAqB,GAAtB,GAA6B,GAA9B,GAAqC,KAAjD;AACAU,SAAKP,IAAL,GAAaO,KAAKP,IAAN,CAAYmF,OAAZ,CAAoB,CAApB,CAAZ;AACA5E,SAAKS,KAAL,GAAcT,KAAKS,KAAN,CAAamE,OAAb,CAAqB,CAArB,CAAb;AACA,WAAO5E,IAAP;AACA,IAXc,CAAf;AAYA,UAAOuE,QAAP;AACA;AACD;;;;2BACQA,Q,EAAU;AAClB,OAAIM,oBAAJ;AACA,OAAIC,aAAcP,SAAS,CAAT,EAAYjF,KAAb,GAAsB,GAAvC;AACA,OAAIyF,YAAY;AACfzF,WAAO,CADQ;AAEfC,SAAKgF,SAAS,CAAT,EAAYjF,KAFF;AAGfmB,WAAQqE,aAAa,GAAd,GAAqB;AAHb,IAAhB;AAKA,UAAOC,SAAP;AACA;;;4BACSC,I,EAAMC,I,EAAM;AACpB,OAAIC,OAAJ;AACAF,WAAQA,KAAK1E,GAAL,CAAS,UAACN,IAAD,EAAOmF,KAAP,EAAiB;AACjC,QAAIA,UAAU,CAAV,IAAenF,KAAKwE,SAAL,GAAiBS,IAApC,EAA0C;AACzCC,eAAU,CAAV;AACA;AACD,QAAIC,UAAUH,KAAK5E,MAAL,GAAc,CAAxB,IAA6BJ,KAAKT,GAAL,GAAW0F,IAA5C,EAAkD;AACjDC,eAAUC,QAAQ,CAAlB;AACA;AACD,QAAInF,KAAKV,KAAL,IAAc2F,IAAd,IAAsBjF,KAAKT,GAAL,IAAY0F,IAAtC,EAA4C;AAC3CC,eAAUC,KAAV;AACA;AACD,IAVO,CAAR;AAWA,UAAOD,OAAP;AACA;AACD;;;;2BACQ/B,I,EAAM;AACb,OAAIiC,OAAO,KAAKrD,SAAL,CAAeoB,IAAf,CAAX;AACA,OAAIkC,aAAaD,OAAO,GAAxB;AACAC,gBAAa9B,KAAK+B,KAAL,CAAWD,aAAa,GAAxB,IAA+B,GAA5C;AACA,UAAOA,UAAP;AACA;AACD;;;;gCACa;AACb,OAAIE,OAAO,IAAX;AACA,OAAI7C,kBAAkB,KAAKJ,cAAL,EAAtB;AACA,OAAIK,iBAAiB,KAAKJ,aAAL,EAArB;AACA,OAAIiD,sBAAsB,GAAGC,MAAH,CAAU/C,eAAV,CAA1B;AACA,OAAIgD,qBAAqB,GAAGD,MAAH,CAAU9C,cAAV,CAAzB;AACA,OAAIG,WAAW,EAAf;;AAEAJ,mBAAgBpC,GAAhB,CAAoB,UAACN,IAAD,EAAU;AAC7B2C,mBAAerC,GAAf,CAAmB,UAAClB,KAAD,EAAW;AAC7B,SAAIY,KAAK2F,QAAL,KAAkBvG,MAAMuG,QAA5B,EAAsC;AACrC,UAAIC,MAAMxG,KAAV;AACA;AACA;AACA,UAAIyG,OAAO,iBAAEC,MAAF,CAAS9F,IAAT,EAAe4F,GAAf,CAAX;AACA9C,eAASe,IAAT,CAAcgC,IAAd;AACA;AACD,KARD;AAUA,IAXD;AAYA,OAAI/C,SAAS1C,MAAb,EAAqB;AACpB0C,aAASxC,GAAT,CAAa,UAACN,IAAD,EAAU;AACtBA,UAAK2F,QAAL,GAAgBJ,KAAKxD,SAAL,CAAe/B,KAAKK,SAApB,CAAhB;AACAqF,wBAAmBpF,GAAnB,CAAuB,UAAClB,KAAD,EAAQ+F,KAAR,EAAkB;AACxC,UAAInF,KAAK2F,QAAL,KAAkBvG,MAAMuG,QAA5B,EAAsC;AACrCD,0BAAmBK,MAAnB,CAA0BZ,KAA1B,EAAiC,CAAjC;AACA;;AAIA;AACD,MARD;AASA,KAXD;AAaA;AACD,OAAIrC,SAAS1C,MAAb,EAAqB;AACpB0C,aAASxC,GAAT,CAAa,UAACN,IAAD,EAAU;AACtBA,UAAK2F,QAAL,GAAgBJ,KAAKxD,SAAL,CAAe/B,KAAKK,SAApB,CAAhB;AACAmF,yBAAoBlF,GAApB,CAAwB,UAAClB,KAAD,EAAQ+F,KAAR,EAAkB;AACzC,UAAInF,KAAK2F,QAAL,KAAkBvG,MAAMuG,QAA5B,EAAsC;AACrCH,2BAAoBO,MAApB,CAA2BZ,KAA3B,EAAkC,CAAlC;AACA;AACD,MAJD;AAKA,KAPD;AASA;AA7CY,OA+CX9F,WA/CW,GAgDR,KAAKJ,KAhDG,CA+CXI,WA/CW;;AAiDb,OAAI+D,OAAU/D,WAAV,SAAJ;AACA,OAAIgE,UAAW,IAAI3D,IAAJ,CAAS0D,IAAT,CAAD,CAAiBzD,OAAjB,EAAd;AACA+F,sBAAmBpF,GAAnB,CAAuB,UAACN,IAAD,EAAMmF,KAAN,EAAc;AACpC,QAAGnF,KAAKK,SAAL,GAAegD,OAAlB,EAA0B;AACzBqC,wBAAmBK,MAAnB,CAA0BZ,KAA1B,EAAgC,CAAhC;AACA;AACD,IAJD;AAKA,OAAIrB,SAAS,EAAb;AACAhB,YAASiB,OAAT,CAAiB,UAASC,CAAT,EAAY;AAC5BF,WAAOG,KAAKC,SAAL,CAAeF,CAAf,CAAP,IAA4B,CAA5B;AACA,IAFD;AAGAlB,cAAWqB,OAAOC,IAAP,CAAYN,MAAZ,EAAoBxD,GAApB,CAAwB,UAAS+D,CAAT,EAAY;AAC9C,WAAOJ,KAAKK,KAAL,CAAWD,CAAX,CAAP;AACA,IAFU,CAAX;AAGA,OAAIxB,WAAW,CAACC,QAAD,EAAW0C,mBAAX,EAAgCE,kBAAhC,CAAf;AACA,UAAO7C,QAAP;AACA;;;mCAEgB;AAAA,OAGfH,eAHe,GAIZ,KAAKzD,KAJO,CAGfyD,eAHe;;;AAMhB,OAAM6C,OAAO,IAAb;AACA,OAAIC,sBAAsB9C,gBAAgBpC,GAAhB,CAAoB,UAACN,IAAD,EAAMmF,KAAN,EAAgB;AAC7DnF,SAAK2F,QAAL,GAAgBJ,KAAKxD,SAAL,CAAe/B,KAAKK,SAApB,CAAhB;AACAL,SAAKP,IAAL,GAAa8D,KAAK+B,KAAL,CAAYC,KAAKxD,SAAL,CAAe/B,KAAKK,SAApB,IAA+B,GAAhC,GAAqC,GAAhD,IAAqD,GAAtD,GAA2D,GAAvE;AACA,WAAOL,IAAP;AACA,IAJyB,CAA1B;AAKA,UAAOwF,mBAAP;AAEA;;;kCAEe;AAAA,OAGd7C,cAHc,GAIX,KAAK1D,KAJM,CAGd0D,cAHc;;AAKf,OAAI+C,qBAAqB/C,cAAzB;AALe,OAObtD,WAPa,GAQV,KAAKJ,KARK,CAObI,WAPa;;AASf,OAAI+D,OAAU/D,WAAV,SAAJ;AACA,OAAIgE,UAAW,IAAI3D,IAAJ,CAAS0D,IAAT,CAAD,CAAiBzD,OAAjB,EAAd;;AAEA,OAAM4F,OAAO,IAAb;AACA,OAAI7B,SAAS,EAAb;;AAEA,QAAK,IAAIC,CAAT,IAAc+B,kBAAd,EAAkC;AACjCA,uBAAmB/B,CAAnB,EAAsBgC,QAAtB,GAAiCJ,KAAKxD,SAAL,CAAe2D,mBAAmB/B,CAAnB,EAAsBtD,SAArC,CAAjC;AACA;;AAED,QAAK,IAAIsD,EAAT,IAAc+B,kBAAd,EAAkC;AACjC,QAAIA,mBAAmB/B,EAAnB,EAAsBtD,SAAtB,GAAkCgD,OAAtC,EAA+C;AAC9CqC,wBAAmBK,MAAnB,CAA0BpC,EAA1B,EAA6B,CAA7B;AACA;AACD;AACD,UAAO+B,kBAAP;AAEA;;;mCACgB;AAAA,OAEf9C,QAFe,GAGZ,KAAK3D,KAHO,CAEf2D,QAFe;;AAIhB,OAAI2C,OAAO,IAAX;AACA3C,cAAWA,SAAStC,GAAT,CAAa,UAACN,IAAD,EAAU;AAChC,QAAIoF,OAAOG,KAAKxD,SAAL,CAAe/B,IAAf,CAAX;AACA,QAAIgG,MAAOZ,OAAO,KAAP,GAAe,GAAhB,GAAuB,KAAvB,GAA+B,GAAzC;AACA,WAAOY,GAAP;AACA,IAJS,CAAX;AAKA,UAAOpD,QAAP;AACA;;;6BAmBUqD,I,EAAK;AACf,OAAIxC,QAAO,IAAX;AACA,OAAIxD,KAAK,KAAKhB,KAAL,CAAWgB,EAApB;AACA,OAAIiG,aAAa,0BAAWD,KAAK5F,SAAhB,EAA0B,qBAA1B,CAAjB;AACG,gBAAM8F,QAAN,CAAe,eAAQC,OAAR,CAAgB,aAAhB,EAA8B,EAACC,QAAOpG,EAAR,EAAWiG,YAAWA,UAAtB,EAA9B,CAAf,EAAiFI,IAAjF,CAAsF,UAASC,QAAT,EAAmB;;AAIvG9C,UAAMP,QAAN,CAAe;AACbpD,eAASyG;AADI,KAAf,EAEE,YAAU;AACV,UAAK3G,aAAL,CAAmBqG,IAAnB;AACD,KAJD;AAQD,IAZD,EAYGO,KAZH,CAYS,UAASC,GAAT,EAAc;AACtBC,YAAQC,GAAR,CAAYF,GAAZ,EAAgBA,GAAhB;AACA,IAdD;AAeH;;;8BAgCWR,I,EAAK;AAChB,OAAIxC,QAAO,IAAX;AACA,OAAIxD,KAAK,KAAKhB,KAAL,CAAWgB,EAApB;AACG,gBAAMkG,QAAN,CAAe,eAAQC,OAAR,CAAgB,cAAhB,EAA+B,EAACC,QAAOpG,EAAR,EAAW2G,UAASX,KAAKW,QAAzB,EAA/B,CAAf,EAAmFN,IAAnF,CAAwF,UAASC,QAAT,EAAmB;;AAIzG9C,UAAMP,QAAN,CAAe;AACb5B,mBAAaiF;AADA,KAAf,EAEE,YAAU;AACV,UAAKlF,cAAL;AACD,KAJD;AAQD,IAZD,EAYGmF,KAZH,CAYS,UAASC,GAAT,EAAc;AACtBC,YAAQC,GAAR,CAAYF,GAAZ,EAAgBA,GAAhB;AACA,IAdD;AAeH;;;2BAiBQ;AAAA;;AAAA,gBAOJ,KAAKxH,KAPD;AAAA,OAEPyD,eAFO,UAEPA,eAFO;AAAA,OAGPC,cAHO,UAGPA,cAHO;AAAA,OAIP1C,EAJO,UAIPA,EAJO;AAAA,OAKPwC,MALO,UAKPA,MALO;AAAA,OAMPpD,WANO,UAMPA,WANO;;AAQR,OAAIkG,OAAO,IAAX;AACA,OAAI9C,OAAOrC,MAAX,EAAmB;AAClB;AACA,QAAIyG,YAAY,IAAInH,IAAJ,GAAWC,OAAX,EAAhB;AACA,QAAImH,MAAM,KAAK/E,SAAL,CAAe8E,SAAf,CAAV;AACA;AACA,QAAI7B,OAAO,KAAK/C,QAAL,EAAX;AACA,QAAI8C,YAAY,KAAK7C,QAAL,CAAc8C,IAAd,CAAhB;AACAA,SAAK+B,OAAL,CAAahC,SAAb;AACA,QAAIiC,WAAW,KAAK7E,SAAL,CAAe6C,IAAf,EAAqB8B,GAArB,CAAf;AACA,QAAIG,cAAc,KAAKpE,QAAL,CAAc,CAAd,CAAlB;AACA,QAAIqE,eAAe,KAAKrE,QAAL,CAAc,CAAd,CAAnB;AACA,QAAIC,WAAW,KAAKD,QAAL,CAAc,CAAd,CAAf;AAEA,IAbD,MAaO;AACN,QAAImC,OAAO,CAAC;AACXvE,YAAO;AADI,KAAD,CAAX;AAGA;AACD,OAAImC,WAAW,KAAKJ,cAAL,EAAf;;AAKA,UAEC;AAAA;AAAA,MAAK,WAAU,cAAf;AACA;AAAA;AAAA,OAAK,WAAU,MAAf;AACEwC,UAAK5E,MAAL,IAAe,CAAf,IAAoB4E,KAAK1E,GAAL,CAAS,UAACN,IAAD,EAAMmF,KAAN,EAAc;AAC3C,UAAGA,SAAS,CAAZ,EAAe;AACd,cACC;AAAA;AAAA,UAAK,WAAU,OAAf,EAAuB,OAAO,EAAC,SAAWnF,KAAKS,KAAL,GAAW,GAAtB,MAAD,EAA9B,EAA8D,KAAK0E,KAAnE;AACEnF,aAAKmH,OAAL,GAAa,2CAAb,GAA2B;AAD7B,QADD;AAKA,OAND,MAMM,IAAGhC,QAAM6B,QAAN,IAAkB7B,UAAU,CAA/B,EAAiC;AACtC,cACC;AAAA;AAAA,UAAK,WAAU,MAAf,EAAsB,OAAO,EAAC,SAAWnF,KAAKS,KAAL,GAAW,GAAtB,MAAD,EAA8B4E,YAAcrF,KAAKP,IAAnB,MAA9B,EAA7B,EAAwF,KAAK0F,KAA7F;AACA;AAAA;AAAA,WAAU,OAAM,KAAhB,EAAsB,WAAW,EAAjC;AAAqC;AAAA;AAAA,YAAK,WAAU,UAAf;AAAA;AAAA;AAArC;AADA,QADD;AAKA,OANK,MAMD;AACJ,cACC;AAAA;AAAA,UAAK,WAAU,MAAf,EAAsB,OAAO,EAAC,SAAWnF,KAAKS,KAAL,GAAW,GAAtB,MAAD,EAA8B4E,YAAcrF,KAAKP,IAAnB,MAA9B,EAA7B,EAAwF,KAAK0F,KAA7F;AACA;AAAA;AAAA,WAAU,OAAM,KAAhB,EAAsB,WAAW,EAAjC;AAAqC;AAAA;AAAA,YAAK,WAAU,UAAf;AAAA;AAAA;AAArC;AADA,QADD;AAIA;AACD,MAnBoB,CADtB;AAsBEH,UAAK5E,MAAL,GAAY,CAAZ,IAAiB4E,KAAK1E,GAAL,CAAS,UAACN,IAAD,EAAMmF,KAAN,EAAc;AACvC,UAAGA,SAAS,CAAZ,EAAe;AACd,cACC;AAAA;AAAA,UAAK,WAAU,OAAf,EAAuB,OAAO,EAAC,SAAWnF,KAAKS,KAAL,GAAW,GAAtB,MAAD,EAA9B,EAA8D,KAAK0E,KAAnE;AACEnF,aAAKmH,OAAL,GAAa,2CAAb,GAA2B;AAD7B,QADD;AAOA,OARD,MAQM,IAAGhC,QAAM6B,QAAN,IAAkB7B,UAAU,CAA/B,EAAiC;AACtC,cACC,uCAAK,WAAU,MAAf,EAAsB,OAAO,EAAC,SAAWnF,KAAKS,KAAL,GAAW,GAAtB,MAAD,EAA8B4E,YAAcrF,KAAKP,IAAnB,MAA9B,EAA7B,EAAwF,KAAK0F,KAA7F,GADD;AAIA,OALK,MAKD;AACJ,cACC,uCAAK,WAAU,MAAf,EAAsB,OAAO,EAAC,SAAWnF,KAAKS,KAAL,GAAW,GAAtB,MAAD,EAA8B4E,YAAcrF,KAAKP,IAAnB,MAA9B,EAA7B,EAAwF,KAAK0F,KAA7F,GADD;AAIA;AACD,MApBgB,CAtBnB;AA6CEvC,iBAAYA,SAAStC,GAAT,CAAa,UAACN,IAAD,EAAMmF,KAAN,EAAc;AACtC,UAAGnF,OAAK,GAAR,EAAY;AACQ,cACG,wCAAM,WAAU,WAAhB,EAA4B,OAAO,EAACqF,YAAcrF,IAAd,MAAD,EAAnC,EAA4D,KAAKmF,KAAjE,GADH;AAGD;AACnB,MANW,CA7Cd;AAsDE+B,qBAAgBA,aAAa5G,GAAb,CAAiB,UAACN,IAAD,EAAMmF,KAAN,EAAc;AAC9C,aACC;AAAA;AAAA,SAAM,WAAU,WAAhB,EAA4B,KAAKA,KAAjC,EAAwC,OAAO,EAACE,YAAcrF,KAAKP,IAAnB,MAAD,EAA/C,EAA6E,gBAA7E,EAAsF,iBAAaO,KAAKK,SAAlB,GAA8BJ,EAA9B,aAAtF,EAAkI,aAAa,OAAKmH,WAAL,CAAiBpF,IAAjB,SAA2BhC,IAA3B,CAA/I;AACC,cAAKqB,cAAL;AADD,OADD;AAOA,MARe,CAtDlB;AAiEE4F,oBAAeA,YAAY3G,GAAZ,CAAgB,UAACN,IAAD,EAAMmF,KAAN,EAAc;;AAE5C,UAAIkC,WAAWrH,KAAKsH,KAAL,KAAa,CAAb,GAAe,aAAf,GAA6B,UAA5C;AACA,UAAI7H,OAAO,OAAKN,OAAL,CAAaa,KAAKK,SAAlB,CAAX;AACA,UAAIgF,aAAc9B,KAAK+B,KAAL,CAAYtF,KAAK2F,QAAL,GAAc,GAAf,GAAoB,GAA/B,IAAoC,GAArC,GAA0C,GAA3D;AACA,UAAGN,aAAW,CAAd,EAAgB;AACf;AACA;AACD,aACC;AAAA;AAAA,SAAM,gBAAcgC,QAApB,EAAgC,KAAKlC,KAArC,EAA4C,OAAO,EAACE,YAAcA,UAAd,MAAD,EAA6B5F,MAAKA,IAAlC,EAAuC8H,UAAS,UAAhD,EAAnD,EAAgH,gBAAhH,EAAyH,iBAAavH,KAAKK,SAAlB,GAA8BJ,EAAvJ,EAA6J,aAAa,OAAKuH,UAAL,CAAgBxF,IAAhB,SAA0BhC,IAA1B,CAA1K;AACE,cAAKJ,aAAL,CAAmBI,IAAnB;AADF,OADD;AAKA,MAbc,CAjEjB;AAiFE8C,iBAAYA,SAASxC,GAAT,CAAa,UAACN,IAAD,EAAMmF,KAAN,EAAc;;AAEtC,UAAIkC,WAAWrH,KAAKsH,KAAL,KAAa,CAAb,GAAe,aAAf,GAA6B,UAA5C;AACA,aACC;AAAA;AAAA,SAAK,WAAU,UAAf,EAA2B,KAAKnC,KAAhC,EAAuC,OAAO,EAACE,YAAe9B,KAAK+B,KAAL,CAAYtF,KAAK2F,QAAL,GAAc,GAAf,GAAoB,GAA/B,IAAoC,GAArC,GAA0C,GAAxD,MAAD,EAA9C;AACC;AAAA;AAAA,UAAM,WAAU,WAAhB,EAA4B,gBAA5B,EAAqC,iBAAa3F,KAAKK,SAAlB,GAA8BL,KAAK6B,aAAnC,GAAmDsD,KAAnD,aAArC,EAAyG,aAAa,OAAKiC,WAAL,CAAiBpF,IAAjB,SAA2BhC,IAA3B,CAAtH;AACE,eAAKqB,cAAL;AADF,QADD;AAIC;AAAA;AAAA,UAAM,gBAAcgG,QAApB,EAAgC,gBAAhC,EAAyC,iBAAarH,KAAKK,SAAlB,GAA8BL,KAAK6B,aAAnC,GAAmDsD,KAAnD,YAAzC,EAA4G,aAAa,OAAKqC,UAAL,CAAgBxF,IAAhB,SAA0BhC,IAA1B,CAAzH;AACE,eAAKJ,aAAL,CAAmBI,IAAnB;AADF;AAJD,OADD;AAUA,MAbW;AAjFd;AADA,IAFD;AA0GA;;;;;;AAxgBmBhB,S,CAGbyI,Y,GAAe;AACrBhF,SAAQ,EADa;AAErBC,kBAAiB,EAFI;AAGrBC,iBAAgB,EAHK;AAIrBC,WAAU,EAJW;AAKrBtB,eAAa,EALQ;AAMrBxB,WAAS;AANY,C;AAHFd,S,CAYb0I,S,GAAY;AAClBC,SAAQ,gBAAMC,SAAN,CAAgBC;AADN,C;kBAZC7I,S;;;;;;;;+BAAAA,S","file":"D3Content.js","sourceRoot":"/Users/liuyihao/Code/kr-admin","sourcesContent":["import React, { Component, PropTypes } from 'react';\nimport { connect } from 'kr/Redux';\nimport { reduxForm, submitForm, change, reset } from 'redux-form';\nimport { Actions, Store } from 'kr/Redux';\nimport { Table, TableBody, TableHeader, TableHeaderColumn, TableRow, TableRowColumn, TableFooter, Button, Section, Grid, Row, Col, Dialog, Tooltips, Tooltip, BreadCrumbs } from 'kr-ui';\nimport { findDOMNode } from 'react-dom'\nimport ReactTooltip from 'react-tooltip'\nimport dateFormat from 'dateformat';\nimport $ from 'jquery';\n\nexport default class D3Content extends Component {\n\n\n\tstatic defaultProps = {\n\t\tdetail: [],\n\t\tfinaBluePointVo: [],\n\t\tfinaRedPointVo: [],\n\t\twhiteBar: [],\n\t\tBlueinfoList:[],\n\t\tinfoList:[]\n\t}\n\n\tstatic propTypes = {\n\t\tparams: React.PropTypes.object\n\t}\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.countDays = this.countDays.bind(this);\n\t\tthis.dealTime = this.dealTime.bind(this);\n\t\tthis.getSpace = this.getSpace.bind(this);\n\t\tthis.appendDiv = this.appendDiv.bind(this);\n\t\tthis.timeNode = this.timeNode.bind(this);\n\t\tthis.getSameTime = this.getSameTime.bind(this);\n\t\tthis.renderBlueNode = this.renderBlueNode.bind(this);\n\t\tthis.renderRedNode = this.renderRedNode.bind(this);\n\t\tthis.renderwhiteBar = this.renderwhiteBar.bind(this);\n\t\tthis.state = {\n\t\t\tdetail:this.props.detail,\n\t\t\tfinaBluePointVo:this.props.finaBluePointVo,\n\t\t\tfinaRedPointVo:this.props.finaRedPointVo,\n\t\t\twhiteBar:this.props.whiteBar,\n\t\t}\n\t\tthis.NodeList = this.getSameTime();\n\t\tthis.sameNode = this.NodeList[0];\n\n\t}\n\n\tcomponentDidMount() {\n\n\t}\n\tcomponentWillReceiveProps(nextProps) {\n\n\n    if (!_.isEqual(this.props.detail, nextProps.detail)) {\n      this.setState({\n        detail: nextProps.detail\n      });\n    }\n    if (!_.isEqual(this.props.finaBluePointVo, nextProps.finaBluePointVo)) {\n      this.setState({\n        detail: nextProps.finaBluePointVo\n      });\n    }\n    if (!_.isEqual(this.props.finaRedPointVo, nextProps.finaRedPointVo)) {\n      this.setState({\n        detail: nextProps.finaRedPointVo\n      });\n    }\n    if (!_.isEqual(this.props.whiteBar, nextProps.whiteBar)) {\n      this.setState({\n        detail: nextProps.whiteBar\n      });\n    }\n    this.NodeList = this.getSameTime();\n\tthis.sameNode = this.NodeList[0];\n\n\n  }\n\n\t// 计算第几天\n\tcountDays(date) {\n\t\t\tvar {\n\t\t\t\tcurrentYear\n\t\t\t} = this.props;\n\t\t\tlet year = `${currentYear}/1/1`;\n\t\t\tvar initial = (new Date(year)).getTime();\n\t\t\tvar offset = date - initial;\n\t\t\treturn Math.ceil(offset / 24 / 3600/ 1e3) + 1;\n\t\t}\n\t\t// 处理时间段\n\tdealTime() {\n\t\t\tvar {\n\t\t\t\tdetail\n\t\t\t} = this.props;\n\n\t\t\tdetail = Object.assign({}, detail);\n\n\t\t\tlet width;\n\t\t\tvar _this = this;\n\t\t\tlet newArr = [];\n\n\t\t\tfor (let j in detail) {\n\t\t\t\tfor (let prop in detail[j]) {\n\t\t\t\t\tif (prop != '' || detail[j][prop] != '') {\n\t\t\t\t\t\tnewArr.push(detail[j]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar unique = {};\n\t\t\tnewArr.forEach(function(a) {\n\t\t\t\tunique[JSON.stringify(a)] = 1\n\t\t\t});\n\t\t\tnewArr = Object.keys(unique).map(function(u) {\n\t\t\t\treturn JSON.parse(u)\n\t\t\t});\n\n\t\t\tvar timeList = newArr.map(function(item) {\n\t\t\t\titem.start = _this.countDays(item.begindate);\n\t\t\t\titem.end = _this.countDays(item.enddate);\n\t\t\t\titem.Begindate = dateFormat(item.begindate, \"yyyy.mm.dd\");\n\t\t\t\titem.Enddate = dateFormat(item.enddate, \"yyyy.mm.dd\");\n\t\t\t\twidth = (item.end - item.start) / 365; //时间段的长度\n\t\t\t\titem.width = (width * 100) / 100;\n\t\t\t\titem.left = ((item.start * 10000 / 365) * 100) / 10000;\n\t\t\t\titem.left = (item.left).toFixed(2);\n\t\t\t\titem.width = (item.width).toFixed(2);\n\t\t\t\treturn item;\n\t\t\t});\n\t\t\treturn timeList;\n\t\t}\n\t\t// 获取分期前的空白时间段\n\tgetSpace(timeList) {\n\t\tlet whiteLength;\n\t\tvar whiteWidth = (timeList[0].start) / 365;\n\t\tvar whiteNode = {\n\t\t\tstart: 0,\n\t\t\tend: timeList[0].start,\n\t\t\twidth: (whiteWidth * 100) / 100\n\t\t}\n\t\treturn whiteNode;\n\t}\n\tappendDiv(list, time) {\n\t\t\tvar nowNode;\n\t\t\tlist && list.map((item, index) => {\n\t\t\t\tif (index === 0 && item.begindate > time) {\n\t\t\t\t\tnowNode = 0;\n\t\t\t\t}\n\t\t\t\tif (index === list.length - 1 && item.end < time) {\n\t\t\t\t\tnowNode = index + 1;\n\t\t\t\t}\n\t\t\t\tif (item.start <= time && item.end >= time) {\n\t\t\t\t\tnowNode = index;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn nowNode;\n\t\t}\n\t\t// 催款时间和工位变更时间节点位置（px）\n\ttimeNode(date) {\n\t\t\tvar days = this.countDays(date);\n\t\t\tvar marginLeft = days / 365;\n\t\t\tmarginLeft = Math.round(marginLeft * 100) / 100;\n\t\t\treturn marginLeft;\n\t\t}\n\t\t// 获取相同时间节点天数(天)\n\tgetSameTime() {\n\t\tvar that = this;\n\t\tlet finaBluePointVo = this.renderBlueNode();\n\t\tlet finaRedPointVo = this.renderRedNode();\n\t\tlet finaBluePointVoList = [].concat(finaBluePointVo);\n\t\tlet finaRedPointVoList = [].concat(finaRedPointVo);\n\t\tlet sameNode = [];\n\n\t\tfinaBluePointVo.map((item) => {\n\t\t\tfinaRedPointVo.map((value) => {\n\t\t\t\tif (item.pointDay === value.pointDay) {\n\t\t\t\t\tvar obj = value;\n\t\t\t\t\t// obj.arr = [];\n\t\t\t\t\t// obj.arr.concat(value.plan);\n\t\t\t\t\tlet node = $.extend(item, obj);\n\t\t\t\t\tsameNode.push(node);\n\t\t\t\t}\n\t\t\t});\n\n\t\t})\n\t\tif (sameNode.length) {\n\t\t\tsameNode.map((item) => {\n\t\t\t\titem.pointDay = that.countDays(item.pointDate);\n\t\t\t\tfinaRedPointVoList.map((value, index) => {\n\t\t\t\t\tif (item.pointDay === value.pointDay) {\n\t\t\t\t\t\tfinaRedPointVoList.splice(index, 1);\n\t\t\t\t\t\t//console.log('finaRedPointVoList-----', finaRedPointVoList)\n\n\n\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t}\n\t\tif (sameNode.length) {\n\t\t\tsameNode.map((item) => {\n\t\t\t\titem.pointDay = that.countDays(item.pointDate);\n\t\t\t\tfinaBluePointVoList.map((value, index) => {\n\t\t\t\t\tif (item.pointDay === value.pointDay) {\n\t\t\t\t\t\tfinaBluePointVoList.splice(index, 1);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\n\t\t}\n\t\tvar {\n\t\t\t\tcurrentYear\n\t\t\t} = this.props;\n\t\tlet year = `${currentYear}/1/1`;\n\t\tvar initial = (new Date(year)).getTime();\n\t\tfinaRedPointVoList.map((item,index)=>{\n\t\t\tif(item.pointDate<initial){\n\t\t\t\tfinaRedPointVoList.splice(index,1);\n\t\t\t}\n\t\t})\n\t\tvar unique = {};\n\t\tsameNode.forEach(function(a) {\n\t\t\tunique[JSON.stringify(a)] = 1\n\t\t});\n\t\tsameNode = Object.keys(unique).map(function(u) {\n\t\t\treturn JSON.parse(u)\n\t\t});\n\t\tlet NodeList = [sameNode, finaBluePointVoList, finaRedPointVoList];\n\t\treturn NodeList;\n\t}\n\n\trenderBlueNode() {\n\n\t\tlet {\n\t\t\tfinaBluePointVo\n\t\t} = this.props;\n\n\t\tconst that = this;\n\t\tlet finaBluePointVoList = finaBluePointVo.map((item,index) => {\n\t\t\titem.pointDay = that.countDays(item.pointDate);\n\t\t\titem.left = (Math.round((that.countDays(item.pointDate)/365)*100)/100)*100;\n\t\t\treturn item\n\t\t});\n\t\treturn finaBluePointVoList;\n\n\t}\n\n\trenderRedNode() {\n\n\t\tlet {\n\t\t\tfinaRedPointVo\n\t\t} = this.props;\n\t\tlet finaRedPointVoList = finaRedPointVo;\n\t\tvar {\n\t\t\t\tcurrentYear\n\t\t\t} = this.props;\n\t\tlet year = `${currentYear}-1-1`;\n\t\tvar initial = (new Date(year)).getTime();\n\n\t\tconst that = this;\n\t\tlet newArr = [];\n\n\t\tfor (let j in finaRedPointVoList) {\n\t\t\tfinaRedPointVoList[j].pointDay = that.countDays(finaRedPointVoList[j].pointDate);\n\t\t};\n\n\t\tfor (let j in finaRedPointVoList) {\n\t\t\tif (finaRedPointVoList[j].pointDate < initial) {\n\t\t\t\tfinaRedPointVoList.splice(j, 1);\n\t\t\t}\n\t\t};\n\t\treturn finaRedPointVoList;\n\n\t}\n\trenderwhiteBar() {\n\t\tlet {\n\t\t\twhiteBar\n\t\t} = this.props;\n\t\tlet that = this;\n\t\twhiteBar = whiteBar.map((item) => {\n\t\t\t\tlet days = that.countDays(item);\n\t\t\t\tlet num = (days * 10000 / 365) / 10000 * 100;\n\t\t\t\treturn num;\n\t\t\t})\n\t\treturn whiteBar;\n\t}\n\tgetLeft=(value)=>{\n\t\tvar {\n\t\t\t\tcurrentYear\n\t\t\t} = this.props;\n\t\tlet start = `${currentYear}-1-1`;\n\t\tlet end = `${currentYear-1}-12-31 12:00:00`;\n\t\tlet startTime = `${currentYear}-1-1 12:00:00`;\n\t\tlet left = '-5px';\n\t\tstart = (new Date(start)).getTime();\n\t\tend = (new Date(end)).getTime();\n\t\tif(value == end || value >= start){\n\t\t\tleft = '-5px';\n\t\t}\n\t\tif(value == startTime){\n\t\t\tleft = \"10px\";\n\t\t}\n\t\treturn left;\n\t}\n\tgetRedInfo(data){\n\t\tlet _this =this;\n\t\tlet id = this.props.id;\n\t\tlet remindDate = dateFormat(data.pointDate,'yyyy-mm-dd HH:MM:ss');\n\t    Store.dispatch(Actions.callAPI('getRedPoint',{billId:id,remindDate:remindDate})).then(function(response) {\n\n\t      \n\n\t      _this.setState({\n\t        infoList:response,\n\t      },function(){\n\t        this.renderRedInfo(data)\n\t      });\n\t      \n\n\n\t    }).catch(function(err) {\n\t    \tconsole.log(err,err);\n\t    });\n\t}\n\trenderRedInfo=(itemData)=>{\n\t\tlet {infoList} = this.state;\n\t\tlet item = infoList || [];\n\t\tlet id = this.props.id;\n\t\tlet top = 225;\n\t\tlet place = 'top';\n\t\tif(item.length>1){\n\t\t\tplace = 'bottom';\n\t\t\ttop = 220*item.length;\n\t\t}\n\t\treturn (\n\t\t\t<Tooltips  place={place} type=\"dark\" effect=\"solid\" scroll={false} id={`${item.pointDate}${id}`} offsetTop={top}>\n\t\t\t<div className=\"react-tooltips-content\">\n\t\t\t{item.map((value,i)=>{\n\t\t\t\treturn(\n\t\t\t\t\t<div key={i} className=\"react-tooltip-content\">\n\t\t\t\t\t\t<span>{value.contractName}分期催款</span>\n\t\t\t\t\t\t<p style={{width:'310px'}}>{dateFormat(itemData.pointDate, \"yyyy.mm.dd\")}日催款&nbsp;({dateFormat(value.installmentBegindate, \"yyyy.mm.dd\")}-{dateFormat(value.installmentEnddate, \"yyyy.mm.dd\")})</p>\n\t\t\t\t\t\t<p>工位:<span className='red-content' style={{marginRight:5}}>{value.stationnum}</span>&nbsp;会议室:<span className='red-content'>{value.boardroomNum}</span> &nbsp; ({dateFormat(value.billStartDate, \"yyyy.mm.dd\")}-{dateFormat(value.billEndDate, \"yyyy.mm.dd\")})</p>\n\t\t\t\t\t\t<p>负责人：<span className='red-content'>{value.name?value.name:'—'}</span></p>\n\t\t\t\t\t\t<p>电话：<span className='red-content'>{value.phone?value.phone:'—'}</span></p>\n\t\t\t\t\t\t<p>催款金额：<span className='red-content'>{value.installmentAmount}</span></p>\n\t\t\t\t\t\t<span className=\"content-lines\"></span>\n\t\t\t\t\t\t<p>回款金额：<span className='red-content'>{value.installmentBackamount}</span></p>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t})}\n\t\t\t\t</div>\t\t\t\t\t\t\t\n\t\t\t</Tooltips>\n\t\t)\n\t}\n\tgetBlueInfo(data){\n\t\tlet _this =this;\n\t\tlet id = this.props.id;\n\t    Store.dispatch(Actions.callAPI('getBluePoint',{billId:id,detailId:data.detailId})).then(function(response) {\n\n\t      \n\n\t      _this.setState({\n\t        BlueinfoList:response,\n\t      },function(){\n\t        this.renderBlueInfo()\n\t      });\n\t      \n\n\n\t    }).catch(function(err) {\n\t    \tconsole.log(err,err);\n\t    });\n\t}\n\trenderBlueInfo=()=>{\n\t\tlet {BlueinfoList} = this.state;\n\t\tlet items =  BlueinfoList || [];\n\t\tlet id = this.props.id;\n\t\treturn (\n\t\t\t<Tooltips  place=\"top\" type=\"dark\" effect=\"solid\" id={`${items.pointDate}${id}sameblue`} offsetTop={130}>\n\t\t\t\t\t<div className=\"react-tooltip-content\" style={{width:'250px'}}>\n\t\t\t\t\t\t<span>工位变更</span>\n\t\t\t\t\t\t<p>{items.finaName}({dateFormat(items.leaseBeginDate, \"yyyy.mm.dd\")}-{dateFormat(items.leaseEndDate, \"yyyy.mm.dd\")})</p>\n\t\t\t\t\t\t<p>变更前工位：<span className='blue-content'>{items.oldStationNum}</span> &nbsp; 会议室：<span className='blue-content'>{items.oldBoardroomNum}</span></p>\n\t\t\t\t\t\t<p>变更后工位：<span className='blue-content'>{items.newStationNum}</span> &nbsp; 会议室：<span className='blue-content'>{items.newBoardroomNum}</span></p>\n\t\t\t\t\t</div>\t\t\t\t\t\t\n\t\t\t</Tooltips>\n\t\t)\n\t}\n\n\trender() {\n\t\tvar {\n\t\t\tfinaBluePointVo,\n\t\t\tfinaRedPointVo,\n\t\t\tid,\n\t\t\tdetail,\n\t\t\tcurrentYear\n\t\t} = this.props;\n\t\tlet that = this;\n\t\tif (detail.length) {\n\t\t\t// 获取当前时间\n\t\t\tvar timestamp = new Date().getTime();\n\t\t\tvar now = this.countDays(timestamp);\n\t\t\t// 处理时间段\n\t\t\tvar list = this.dealTime();\n\t\t\tvar whiteNode = this.getSpace(list);\n\t\t\tlist.unshift(whiteNode);\n\t\t\tvar nodeList = this.appendDiv(list, now);\n\t\t\tvar redNodeList = this.NodeList[2];\n\t\t\tvar blueNodeList = this.NodeList[1];\n\t\t\tvar sameNode = this.NodeList[0];\n\n\t\t} else {\n\t\t\tvar list = [{\n\t\t\t\twidth: \"100%\",\n\t\t\t}];\n\t\t}\n\t\tlet whiteBar = this.renderwhiteBar();\n\n\n\n\n\t\treturn (\n\n\t\t\t<div className=\"d3-container\">\n\t\t\t<div className=\"year\">\n\t\t\t\t{list.length == 2 && list.map((item,index)=>{\n\t\t\t\t\tif(index == 0 ){\n\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t<div className='white' style={{'width':`${item.width*100}%`}} key={index}>\n\t\t\t\t\t\t\t\t{item.content?<span></span>:''}\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t}else if(index<nodeList && index !== 0){\n\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t<div className='grey' style={{'width':`${item.width*100}%`,marginLeft:`${item.left}%`}} key={index} >\n\t\t\t\t\t\t\t<Tooltips place='top' offsetTop={40}><div className='only-one'>一次性付款</div></Tooltips>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div className='blue' style={{'width':`${item.width*100}%`,marginLeft:`${item.left}%`}} key={index}>\n\t\t\t\t\t\t\t<Tooltips place='top' offsetTop={40}><div className='only-one'>一次性付款</div></Tooltips></div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t})}\n\n\t\t\t\t{list.length>2 && list.map((item,index)=>{\n\t\t\t\t\t\tif(index == 0 ){\n\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t<div className='white' style={{'width':`${item.width*100}%`}} key={index}>\n\t\t\t\t\t\t\t\t\t{item.content?<span></span>:''}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}else if(index<nodeList && index !== 0){\n\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t<div className='grey' style={{'width':`${item.width*100}%`,marginLeft:`${item.left}%`}} key={index} >\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div className='blue' style={{'width':`${item.width*100}%`,marginLeft:`${item.left}%`}} key={index}>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t})}\n\n\t\t\t\t{\n\t\t\t\t\twhiteBar && whiteBar.map((item,index)=>{\n\t\t\t\t\t\tif(item<100){\n                         \treturn(\n                            \t<span className=\"wihiteBar\" style={{marginLeft:`${item}%`}} key={index}></span>\n                            )\n                        }\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tblueNodeList && blueNodeList.map((item,index)=>{\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<span className='blue-node' key={index} style={{marginLeft:`${item.left}%`}} data-tip data-for={`${item.pointDate}${id}sameblue`} onMouseOver={this.getBlueInfo.bind(this,item)}>\n\t\t\t\t\t\t\t{this.renderBlueInfo()}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tredNodeList && redNodeList.map((item,index)=>{\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet nodeKind = item.color===1?'grey-circle':'red-node';\n\t\t\t\t\t\tlet left = this.getLeft(item.pointDate);\n\t\t\t\t\t\tlet marginLeft = (Math.round((item.pointDay/365)*100)/100)*100;\n\t\t\t\t\t\tif(marginLeft<0){\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<span className={`${nodeKind}`} key={index} style={{marginLeft:`${marginLeft}%`,left:left,position:'absolute'}} data-tip data-for={`${item.pointDate}${id}`} onMouseOver={this.getRedInfo.bind(this,item)}>\n\t\t\t\t\t\t\t\t{this.renderRedInfo(item)}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tsameNode && sameNode.map((item,index)=>{\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet nodeKind = item.color===1?'grey-circle':'red-node';\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div className='same-div'  key={index} style={{marginLeft:`${(Math.round((item.pointDay/365)*100)/100)*100}%`}} >\n\t\t\t\t\t\t\t\t<span className='blue-node' data-tip data-for={`${item.pointDate}${item.newStationNum}${index}sameblue`} onMouseOver={this.getBlueInfo.bind(this,item)}>\n\t\t\t\t\t\t\t\t\t{this.renderBlueInfo()}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span className={`${nodeKind}`} data-tip data-for={`${item.pointDate}${item.newStationNum}${index}samered`} onMouseOver={this.getRedInfo.bind(this,item)}>\n\t\t\t\t\t\t\t\t\t{this.renderRedInfo(item)}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t\n\n\t\t\t</div>\n\n\t\t\t\n\t\t</div>\n\t\t);\n\t}\n}"]}