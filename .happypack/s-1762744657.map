{"version":3,"sources":["src/Containers/Member/MemberManage/Detail/index.js"],"names":["memberListDetail","props","context","getBasicData","_this","params","router","dispatch","callAPI","id","memberId","then","response","setState","workInfo","companyInfo","baseInfo","isLeader","catch","err","show","message","type","state","background","height","width","margin","marginBottom","marginTop","orderId","page","pageSize","index","window","setTimeout","navActive","isInitLoading","contextTypes","PropTypes","object","isRequired"],"mappings":"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","file":"index.js","sourceRoot":"/Users/tmac_zc/Code/kr-admin","sourcesContent":["import React,{Component} from 'react';\nimport{\n  Tabs,\n  Tab,\n  Section,\n  DotTitle,\n  Paper,\n  Notify\n}from 'kr-ui';\nimport {\n\tActions,\n\tStore\n} from 'kr/Redux';\nimport dateFormat from 'dateformat';\nimport PersonalData from './PersonalData';\nimport PersonalJob from './PersonalJob';\nimport PersonalCompanyInfo from './PersonalCompanyInfo';\nimport PersonalBehavior from './PersonalBehavior';\nimport OrganizationChart from './OrganizationChart';\nimport UpdateLog from './UpdateLog';\nexport default class memberListDetail extends Component{\n\n  static contextTypes = {\n    router: React.PropTypes.object.isRequired\n  }\n  constructor(props, context) {\n\t\tsuper(props, context);\n    this.state = {\n      isLeader:true,\n\t\t\tparams: {\n\t\t\t\torderId: this.props.params.orderId,\n\t\t\t\tpage: 1,\n\t\t\t\tpageSize: 15,\n\t\t\t\tindex:''\n\t\t\t},\n      baseInfo:{},\n      companyInfo:{},\n      workInfo:{}\n\t\t}\n    this.getBasicData();\n\n\n  }\n  componentDidMount() {\n\n\n    window.setTimeout(function(){\n        Store.dispatch(Actions.navActive('memberList'));\n    },300)\n\t}\n  getBasicData=()=>{\n    var _this = this;\n    let params = this.context.router.params;\n    // 获取会员详细信息\n\t\tStore.dispatch(Actions.callAPI('getMemberDetailData', {\n\t\t\tid: params.memberId,\n\t\t})).then(function(response) {\n      // console.log(\"response\",response);\n      _this.setState({\n        workInfo:response.workInfo,\n        companyInfo:response.companyInfo,\n        baseInfo:response.baseInfo,\n        isLeader:response.isLeader\n      })\n\t\t}).catch(function(err) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: err.message,\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t});\n  }\n  isLeader=()=>{\n    let show = true;\n    let {isLeader} = this.state;\n    if(isLeader){\n      return (\n        <Tabs  >\n        <Tab label=\"个人资料\">\n            <div style={{background:\"fff\",height:'860',width:1020,margin:'auto'}}>\n              <DotTitle title='基本信息' style={{marginBottom:'40'}}/>\n                <PersonalData  detail={this.state.baseInfo}/>\n              <DotTitle title='工作信息' style={{marginTop:'40',marginBottom:'40'}}/>\n                <PersonalCompanyInfo  detail={this.state.workInfo}/>\n              <DotTitle title='公司信息' style={{marginTop:'40',marginBottom:'40'}}/>\n                  <PersonalCompanyInfo  detail={this.state.companyInfo}/>\n            </div>\n\n        </Tab>\n        <Tab label=\"个人行为记录\">\n          <div>\n            <PersonalBehavior/>\n          </div>\n        </Tab>\n        <Tab label=\"组织架构\">\n          <div style={{marginTop:76}}>\n            <OrganizationChart/>\n          </div>\n        </Tab>\n        <Tab label=\"更新日志\">\n          <div>\n            <UpdateLog/>\n          </div>\n        </Tab>\n        </Tabs>\n      )\n    }else{\n      return(\n        <Tabs >\n        <Tab label=\"个人资料\">\n\n            <div style={{background:\"fff\",height:'860',width:1020,margin:'auto'}}>\n              <DotTitle title='基本信息' style={{marginBottom:'40'}}/>\n                <PersonalData  detail={this.state.baseInfo}/>\n              <DotTitle title='工作信息' style={{marginTop:'40',marginBottom:'40'}}/>\n                <PersonalJob  detail={this.state.workInfo}/>\n              <DotTitle title='公司信息' style={{marginTop:'40',marginBottom:'40'}}/>\n                  <PersonalCompanyInfo  detail={this.state.companyInfo}/>\n            </div>\n\n        </Tab>\n        <Tab label=\"个人行为记录\">\n          <div >\n            <PersonalBehavior/>\n          </div>\n        </Tab>\n        <Tab label=\"更新日志\">\n          <div>\n            <UpdateLog/>\n          </div>\n        </Tab>\n        </Tabs>\n      )\n    }\n  }\n  render(){\n    let {\n\t\t\tparams,\n\t\t\tisInitLoading,\n\t\t} = this.state;\n\t\tif (isInitLoading) {\n\t\t\treturn <Loading/>\n\t\t}\n    return(\n      <div name=\"memberListDetail\">\n          {\n            this.isLeader()\n          }\n      </div>\n\n    );\n\n  }\n}\n"]}