{"version":3,"sources":["src/Components/Select/Select.js"],"names":["stringifyValue","value","valueType","JSON","stringify","String","stringOrNode","PropTypes","oneOfType","string","node","instanceId","Select","createClass","displayName","propTypes","addLabelText","arrowRenderer","func","autoBlur","bool","autofocus","autosize","backspaceRemoves","backspaceToRemoveMessage","className","clearAllText","clearValueText","clearable","deleteRemoves","delimiter","disabled","escapeClearsValue","filterOption","filterOptions","any","ignoreAccents","ignoreCase","inputProps","object","inputRenderer","isLoading","joinValues","labelKey","matchPos","matchProp","menuBuffer","number","menuContainerStyle","menuRenderer","menuStyle","multi","name","noResultsText","onBlur","onBlurResetsInput","onChange","onClose","onCloseResetsInput","onFocus","onInputChange","onInputKeyDown","onMenuScrollToBottom","onOpen","onValueClick","openAfterFocus","openOnFocus","optionClassName","optionComponent","optionRenderer","pageSize","placeholder","required","resetValue","scrollMenuIntoView","searchable","simpleValue","style","tabIndex","tabSelectsValue","valueComponent","valueKey","valueRenderer","wrapperStyle","statics","Async","AsyncCreatable","Creatable","getDefaultProps","getInitialState","inputValue","isFocused","isOpen","isPseudoFocused","componentWillMount","_instancePrefix","props","valueArray","getValueArray","setState","handleRequired","componentDidMount","focus","componentWillReceiveProps","nextProps","componentWillUpdate","nextState","state","toggleTouchOutsideEvent","handler","componentDidUpdate","prevProps","prevState","menu","focused","hasScrolledToOption","focusedOptionNode","findDOMNode","menuNode","scrollTop","offsetTop","_scrollToFocusedOptionOnUpdate","focusedDOM","menuDOM","focusedRect","getBoundingClientRect","menuRect","bottom","top","clientHeight","offsetHeight","menuContainer","menuContainerRect","window","innerHeight","scrollBy","closeMenu","componentWillUnmount","document","removeEventListener","detachEvent","handleTouchOutside","enabled","addEventListener","attachEvent","event","wrapper","contains","target","input","blurInput","blur","handleTouchMove","dragging","handleTouchStart","handleTouchEnd","handleMouseDown","handleTouchEndClearValue","clearValue","type","button","tagName","stopPropagation","preventDefault","getInput","_openAfterFocus","handleMouseDownOnArrow","handleMouseDownOnMenu","handleInputFocus","handleInputBlur","activeElement","onBlurredState","handleInputChange","newInputValue","handleKeyDown","defaultPrevented","keyCode","popValue","shiftKey","selectFocusedOption","focusPreviousOption","focusNextOption","focusPageUpOption","focusPageDownOption","focusEndOption","focusStartOption","handleValueClick","option","handleMenuScroll","scrollHeight","length","Object","keys","getOptionLabel","op","split","Array","isArray","undefined","map","expandValue","filter","i","expandedValue","options","setValue","join","selectValue","focusedIndex","addValue","_this","setTimeout","concat","clearableValue","slice","removeValue","getResetValue","focusOption","focusedOption","focusAdjacentOption","dir","_visibleOptions","index","_focusedOption","potentialIndex","getFocusedOption","getInputValue","renderLoading","renderValue","renderLabel","ValueComponent","onClick","renderInput","focusedOptionIndex","ariaOwns","role","ref","inputClassName","divProps","border","width","display","renderClear","__html","renderArrow","onMouseDown","arrow","excludeOptions","filterValue","onOptionRef","renderMenu","instancePrefix","onSelect","renderHiddenField","item","getFocusableOptionIndex","selectedOption","indexOf","renderOuter","maxHeight","borderBottomLeftRadius","borderBottomRightRadius","render","removeMessage","replace","control"],"mappings":"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","file":"Select.js","sourceRoot":"/Users/liuyihao/Code/kr-admin","sourcesContent":["/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/react-select\n*/\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport AutosizeInput from 'react-input-autosize';\nimport classNames from 'classnames';\n\nimport './index.less';\n\nimport defaultArrowRenderer from './utils/defaultArrowRenderer';\nimport defaultFilterOptions from './utils/defaultFilterOptions';\nimport defaultMenuRenderer from './utils/defaultMenuRenderer';\n\nimport Async from './Async';\nimport AsyncCreatable from './AsyncCreatable';\nimport Creatable from './Creatable';\nimport Option from './Option';\nimport Value from './Value';\n\nfunction stringifyValue (value) {\n\tconst valueType = typeof value;\n\tif (valueType === 'string') {\n\t\treturn value;\n\t} else if (valueType === 'object') {\n\t\treturn JSON.stringify(value);\n\t} else if (valueType === 'number' || valueType === 'boolean') {\n\t\treturn String(value);\n\t} else {\n\t\treturn '';\n\t}\n}\n\nconst stringOrNode = React.PropTypes.oneOfType([\n\tReact.PropTypes.string,\n\tReact.PropTypes.node\n]);\n\nlet instanceId = 1;\n\nconst Select = React.createClass({\n\n\tdisplayName: 'Select',\n\n\tpropTypes: {\n\t\taddLabelText: React.PropTypes.string,       // placeholder displayed when you want to add a label on a multi-value input\n\t\t'aria-label': React.PropTypes.string,       // Aria label (for assistive tech)\n\t\t'aria-labelledby': React.PropTypes.string,\t// HTML ID of an element that should be used as the label (for assistive tech)\n\t\tarrowRenderer: React.PropTypes.func,\t\t\t\t// Create drop-down caret element\n\t\tautoBlur: React.PropTypes.bool,             // automatically blur the component when an option is selected\n\t\tautofocus: React.PropTypes.bool,            // autofocus the component on mount\n\t\tautosize: React.PropTypes.bool,             // whether to enable autosizing or not\n\t\tbackspaceRemoves: React.PropTypes.bool,     // whether backspace removes an item if there is no text input\n\t\tbackspaceToRemoveMessage: React.PropTypes.string,  // Message to use for screenreaders to press backspace to remove the current item - {label} is replaced with the item label\n\t\tclassName: React.PropTypes.string,          // className for the outer element\n\t\tclearAllText: stringOrNode,                 // title for the \"clear\" control when multi: true\n\t\tclearValueText: stringOrNode,               // title for the \"clear\" control\n\t\tclearable: React.PropTypes.bool,            // should it be possible to reset value\n\t\tdeleteRemoves: React.PropTypes.bool,        // whether backspace removes an item if there is no text input\n\t\tdelimiter: React.PropTypes.string,          // delimiter to use to join multiple values for the hidden field value\n\t\tdisabled: React.PropTypes.bool,             // whether the Select is disabled or not\n\t\tescapeClearsValue: React.PropTypes.bool,    // whether escape clears the value when the menu is closed\n\t\tfilterOption: React.PropTypes.func,         // method to filter a single option (option, filterString)\n\t\tfilterOptions: React.PropTypes.any,         // boolean to enable default filtering or function to filter the options array ([options], filterString, [values])\n\t\tignoreAccents: React.PropTypes.bool,        // whether to strip diacritics when filtering\n\t\tignoreCase: React.PropTypes.bool,           // whether to perform case-insensitive filtering\n\t\tinputProps: React.PropTypes.object,         // custom attributes for the Input\n\t\tinputRenderer: React.PropTypes.func,        // returns a custom input component\n\t\tinstanceId: React.PropTypes.string,         // set the components instanceId\n\t\tisLoading: React.PropTypes.bool,            // whether the Select is loading externally or not (such as options being loaded)\n\t\tjoinValues: React.PropTypes.bool,           // joins multiple values into a single form field with the delimiter (legacy mode)\n\t\tlabelKey: React.PropTypes.string,           // path of the label value in option objects\n\t\tmatchPos: React.PropTypes.string,           // (any|start) match the start or entire string when filtering\n\t\tmatchProp: React.PropTypes.string,          // (any|label|value) which option property to filter on\n\t\tmenuBuffer: React.PropTypes.number,         // optional buffer (in px) between the bottom of the viewport and the bottom of the menu\n\t\tmenuContainerStyle: React.PropTypes.object, // optional style to apply to the menu container\n\t\tmenuRenderer: React.PropTypes.func,         // renders a custom menu with options\n\t\tmenuStyle: React.PropTypes.object,          // optional style to apply to the menu\n\t\tmulti: React.PropTypes.bool,                // multi-value input\n\t\tname: React.PropTypes.string,               // generates a hidden <input /> tag with this field name for html forms\n\t\tnoResultsText: stringOrNode,                // placeholder displayed when there are no matching search results\n\t\tonBlur: React.PropTypes.func,               // onBlur handler: function (event) {}\n\t\tonBlurResetsInput: React.PropTypes.bool,    // whether input is cleared on blur\n\t\tonChange: React.PropTypes.func,             // onChange handler: function (newValue) {}\n\t\tonClose: React.PropTypes.func,              // fires when the menu is closed\n\t\tonCloseResetsInput: React.PropTypes.bool,\t\t// whether input is cleared when menu is closed through the arrow\n\t\tonFocus: React.PropTypes.func,              // onFocus handler: function (event) {}\n\t\tonInputChange: React.PropTypes.func,        // onInputChange handler: function (inputValue) {}\n\t\tonInputKeyDown: React.PropTypes.func,       // input keyDown handler: function (event) {}\n\t\tonMenuScrollToBottom: React.PropTypes.func, // fires when the menu is scrolled to the bottom; can be used to paginate options\n\t\tonOpen: React.PropTypes.func,               // fires when the menu is opened\n\t\tonValueClick: React.PropTypes.func,         // onClick handler for value labels: function (value, event) {}\n\t\topenAfterFocus: React.PropTypes.bool,       // boolean to enable opening dropdown when focused\n\t\topenOnFocus: React.PropTypes.bool,          // always open options menu on focus\n\t\toptionClassName: React.PropTypes.string,    // additional class(es) to apply to the <Option /> elements\n\t\toptionComponent: React.PropTypes.func,      // option component to render in dropdown\n\t\toptionRenderer: React.PropTypes.func,       // optionRenderer: function (option) {}\n\t\t// options: React.PropTypes.array,             // array of options\n\t\tpageSize: React.PropTypes.number,           // number of entries to page when using page up/down keys\n\t\tplaceholder: stringOrNode,                  // field placeholder, displayed when there's no value\n\t\trequired: React.PropTypes.bool,             // applies HTML5 required attribute when needed\n\t\tresetValue: React.PropTypes.any,            // value to use when you clear the control\n\t\tscrollMenuIntoView: React.PropTypes.bool,   // boolean to enable the viewport to shift so that the full menu fully visible when engaged\n\t\tsearchable: React.PropTypes.bool,           // whether to enable searching feature or not\n\t\tsimpleValue: React.PropTypes.bool,          // pass the value to onChange as a simple value (legacy pre 1.0 mode), defaults to false\n\t\tstyle: React.PropTypes.object,              // optional style to apply to the control\n\t\ttabIndex: React.PropTypes.string,           // optional tab index of the control\n\t\ttabSelectsValue: React.PropTypes.bool,      // whether to treat tabbing out while focused to be value selection\n\t\tvalue: React.PropTypes.any,                 // initial field value\n\t\tvalueComponent: React.PropTypes.func,       // value component to render\n\t\tvalueKey: React.PropTypes.string,           // path of the label value in option objects\n\t\tvalueRenderer: React.PropTypes.func,        // valueRenderer: function (option) {}\n\t\twrapperStyle: React.PropTypes.object,       // optional style to apply to the component wrapper\n\t},\n\n\tstatics: { Async, AsyncCreatable, Creatable },\n\n\tgetDefaultProps () {\n\t\treturn {\n\t\t\taddLabelText: 'Add \"{label}\"?',\n\t\t\tarrowRenderer: defaultArrowRenderer,\n\t\t\tautosize: true,\n\t\t\tbackspaceRemoves: true,\n\t\t\tbackspaceToRemoveMessage: 'Press backspace to remove {label}',\n\t\t\tclearable: true,\n\t\t\tclearAllText: 'Clear all',\n\t\t\tclearValueText: 'Clear value',\n\t\t\tdeleteRemoves: true,\n\t\t\tdelimiter: ',',\n\t\t\tdisabled: false,\n\t\t\tescapeClearsValue: true,\n\t\t\tfilterOptions: defaultFilterOptions,\n\t\t\tignoreAccents: true,\n\t\t\tignoreCase: true,\n\t\t\tinputProps: {},\n\t\t\tisLoading: false,\n\t\t\tjoinValues: false,\n\t\t\tlabelKey: 'label',\n\t\t\tmatchPos: 'any',\n\t\t\tmatchProp: 'any',\n\t\t\tmenuBuffer: 0,\n\t\t\tmenuRenderer: defaultMenuRenderer,\n\t\t\tmulti: false,\n\t\t\tnoResultsText: 'No results found',\n\t\t\tonBlurResetsInput: true,\n\t\t\tonCloseResetsInput: true,\n\t\t\topenAfterFocus: false,\n\t\t\toptionComponent: Option,\n\t\t\tpageSize: 5,\n\t\t\tplaceholder: 'Select...',\n\t\t\trequired: false,\n\t\t\tscrollMenuIntoView: true,\n\t\t\tsearchable: true,\n\t\t\tsimpleValue: false,\n\t\t\ttabSelectsValue: true,\n\t\t\tvalueComponent: Value,\n\t\t\tvalueKey: 'value',\n\t\t};\n\t},\n\n\tgetInitialState () {\n\t\treturn {\n\t\t\tinputValue: '',\n\t\t\tisFocused: false,\n\t\t\tisOpen: false,\n\t\t\tisPseudoFocused: false,\n\t\t\trequired: false,\n\t\t};\n\t},\n\n\tcomponentWillMount() {\n\t\tthis._instancePrefix = 'react-select-' + (this.props.instanceId || ++instanceId) + '-';\n\t\tconst valueArray = this.getValueArray(this.props.value);\n\n\t\tif (this.props.required) {\n\t\t\tthis.setState({\n\t\t\t\trequired: this.handleRequired(valueArray[0], this.props.multi),\n\t\t\t});\n\t\t}\n\t},\n\n\tcomponentDidMount () {\n\t\tif (this.props.autofocus) {\n\t\t\tthis.focus();\n\t\t}\n\t},\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tconst valueArray = this.getValueArray(nextProps.value, nextProps);\n\n\t\tif (nextProps.required) {\n\t\t\tthis.setState({\n\t\t\t\trequired: this.handleRequired(valueArray[0], nextProps.multi),\n\t\t\t});\n\t\t}\n\t},\n\n\tcomponentWillUpdate (nextProps, nextState) {\n\t\tif (nextState.isOpen !== this.state.isOpen) {\n\t\t\tthis.toggleTouchOutsideEvent(nextState.isOpen);\n\t\t\tconst handler = nextState.isOpen ? nextProps.onOpen : nextProps.onClose;\n\t\t\thandler && handler();\n\t\t}\n\t},\n\n\tcomponentDidUpdate (prevProps, prevState) {\n\t\t// focus to the selected option\n\t\tif (this.menu && this.focused && this.state.isOpen && !this.hasScrolledToOption) {\n\t\t\tlet focusedOptionNode = ReactDOM.findDOMNode(this.focused);\n\t\t\tlet menuNode = ReactDOM.findDOMNode(this.menu);\n\t\t\tmenuNode.scrollTop = focusedOptionNode.offsetTop;\n\t\t\tthis.hasScrolledToOption = true;\n\t\t} else if (!this.state.isOpen) {\n\t\t\tthis.hasScrolledToOption = false;\n\t\t}\n\n\t\tif (this._scrollToFocusedOptionOnUpdate && this.focused && this.menu) {\n\t\t\tthis._scrollToFocusedOptionOnUpdate = false;\n\t\t\tvar focusedDOM = ReactDOM.findDOMNode(this.focused);\n\t\t\tvar menuDOM = ReactDOM.findDOMNode(this.menu);\n\t\t\tvar focusedRect = focusedDOM.getBoundingClientRect();\n\t\t\tvar menuRect = menuDOM.getBoundingClientRect();\n\t\t\tif (focusedRect.bottom > menuRect.bottom || focusedRect.top < menuRect.top) {\n\t\t\t\tmenuDOM.scrollTop = (focusedDOM.offsetTop + focusedDOM.clientHeight - menuDOM.offsetHeight);\n\t\t\t}\n\t\t}\n\t\tif (this.props.scrollMenuIntoView && this.menuContainer) {\n\t\t\tvar menuContainerRect = this.menuContainer.getBoundingClientRect();\n\t\t\tif (window.innerHeight < menuContainerRect.bottom + this.props.menuBuffer) {\n\t\t\t\twindow.scrollBy(0, menuContainerRect.bottom + this.props.menuBuffer - window.innerHeight);\n\t\t\t}\n\t\t}\n\t\tif (prevProps.disabled !== this.props.disabled) {\n\t\t\tthis.setState({ isFocused: false }); // eslint-disable-line react/no-did-update-set-state\n\t\t\tthis.closeMenu();\n\t\t}\n\t},\n\n\tcomponentWillUnmount() {\n\t\tif (!document.removeEventListener && document.detachEvent) {\n\t\t\tdocument.detachEvent('ontouchstart', this.handleTouchOutside);\n\t\t} else {\n\t\t\tdocument.removeEventListener('touchstart', this.handleTouchOutside);\n\t\t}\n\t},\n\n\ttoggleTouchOutsideEvent(enabled) {\n\t\tif (enabled) {\n\t\t\tif (!document.addEventListener && document.attachEvent) {\n\t\t\t\tdocument.attachEvent('ontouchstart', this.handleTouchOutside);\n\t\t\t} else {\n\t\t\t\tdocument.addEventListener('touchstart', this.handleTouchOutside);\n\t\t\t}\n\t\t} else {\n\t\t\tif (!document.removeEventListener && document.detachEvent) {\n\t\t\t\tdocument.detachEvent('ontouchstart', this.handleTouchOutside);\n\t\t\t} else {\n\t\t\t\tdocument.removeEventListener('touchstart', this.handleTouchOutside);\n\t\t\t}\n\t\t}\n\t},\n\n\thandleTouchOutside(event) {\n\t\t// handle touch outside on ios to dismiss menu\n\t\tif (this.wrapper && !this.wrapper.contains(event.target)) {\n\t\t\tthis.closeMenu();\n\t\t}\n\t},\n\n\tfocus () {\n\t\tif (!this.input) return;\n\t\tthis.input.focus();\n\n\t\tif (this.props.openAfterFocus) {\n\t\t\tthis.setState({\n\t\t\t\tisOpen: true,\n\t\t\t});\n\t\t}\n\t},\n\n\tblurInput() {\n\t\tif (!this.input) return;\n\t\tthis.input.blur();\n\t},\n\n\thandleTouchMove (event) {\n\t\t// Set a flag that the view is being dragged\n\t\tthis.dragging = true;\n\t},\n\n\thandleTouchStart (event) {\n\t\t// Set a flag that the view is not being dragged\n\t\tthis.dragging = false;\n\t},\n\n\thandleTouchEnd (event) {\n\t\t// Check if the view is being dragged, In this case\n\t\t// we don't want to fire the click event (because the user only wants to scroll)\n\t\tif(this.dragging) return;\n\n\t\t// Fire the mouse events\n\t\tthis.handleMouseDown(event);\n\t},\n\n\thandleTouchEndClearValue (event) {\n\t\t// Check if the view is being dragged, In this case\n\t\t// we don't want to fire the click event (because the user only wants to scroll)\n\t\tif(this.dragging) return;\n\n\t\t// Clear the value\n\t\tthis.clearValue(event);\n\t},\n\n\thandleMouseDown (event) {\n\t\t// if the event was triggered by a mousedown and not the primary\n\t\t// button, or if the component is disabled, ignore it.\n\t\tif (this.props.disabled || (event.type === 'mousedown' && event.button !== 0)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (event.target.tagName === 'INPUT') {\n\t\t\treturn;\n\t\t}\n\n\t\t// prevent default event handlers\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\n\t\t// for the non-searchable select, toggle the menu\n\t\tif (!this.props.searchable) {\n\t\t\tthis.focus();\n\t\t\treturn this.setState({\n\t\t\t\tisOpen: !this.state.isOpen,\n\t\t\t});\n\t\t}\n\n\t\tif (this.state.isFocused) {\n\t\t\t// On iOS, we can get into a state where we think the input is focused but it isn't really,\n\t\t\t// since iOS ignores programmatic calls to input.focus() that weren't triggered by a click event.\n\t\t\t// Call focus() again here to be safe.\n\t\t\tthis.focus();\n\n\t\t\tlet input = this.input;\n\t\t\tif (typeof input.getInput === 'function') {\n\t\t\t\t// Get the actual DOM input if the ref is an <AutosizeInput /> component\n\t\t\t\tinput = input.getInput();\n\t\t\t}\n\n\t\t\t// clears the value so that the cursor will be at the end of input when the component re-renders\n\t\t\tinput.value = '';\n\n\t\t\t// if the input is focused, ensure the menu is open\n\t\t\tthis.setState({\n\t\t\t\tisOpen: true,\n\t\t\t\tisPseudoFocused: false,\n\t\t\t});\n\t\t} else {\n\t\t\t// otherwise, focus the input and open the menu\n\t\t\tthis._openAfterFocus = true;\n\t\t\tthis.focus();\n\t\t}\n\t},\n\n\thandleMouseDownOnArrow (event) {\n\t\t// if the event was triggered by a mousedown and not the primary\n\t\t// button, or if the component is disabled, ignore it.\n\t\tif (this.props.disabled || (event.type === 'mousedown' && event.button !== 0)) {\n\t\t\treturn;\n\t\t}\n\t\t// If the menu isn't open, let the event bubble to the main handleMouseDown\n\t\tif (!this.state.isOpen) {\n\t\t\treturn;\n\t\t}\n\t\t// prevent default event handlers\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\t\t// close the menu\n\t\tthis.closeMenu();\n\n\t},\n\n\thandleMouseDownOnMenu (event) {\n\n\t\t// if the event was triggered by a mousedown and not the primary\n\t\t// button, or if the component is disabled, ignore it.\n\t\tif (this.props.disabled || (event.type === 'mousedown' && event.button !== 0)) {\n\t\t\treturn;\n\t\t}\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\n\t\tthis._openAfterFocus = true;\n\t\tthis.focus();\n\t},\n\n\tcloseMenu () {\n\t\tif(this.props.onCloseResetsInput) {\n\t\t\tthis.setState({\n\t\t\t\tisOpen: false,\n\t\t\t\tisPseudoFocused: this.state.isFocused && !this.props.multi,\n\t\t\t\tinputValue: ''\n\t\t\t});\n\t\t}\telse {\n\t\t\tthis.setState({\n\t\t\t\tisOpen: false,\n\t\t\t\tisPseudoFocused: this.state.isFocused && !this.props.multi,\n\t\t\t\tinputValue: this.state.inputValue\n\t\t\t});\n\t\t}\n\t\tthis.hasScrolledToOption = false;\n\t},\n\n\thandleInputFocus (event) {\n\t\tif (this.props.disabled) return;\n\t\tvar isOpen = this.state.isOpen || this._openAfterFocus || this.props.openOnFocus;\n\t\tif (this.props.onFocus) {\n\t\t\tthis.props.onFocus(event);\n\t\t}\n\t\tthis.setState({\n\t\t\tisFocused: true,\n\t\t\tisOpen: isOpen\n\t\t});\n\t\tthis._openAfterFocus = false;\n\t},\n\n\thandleInputBlur (event) {\n\t\t// The check for menu.contains(activeElement) is necessary to prevent IE11's scrollbar from closing the menu in certain contexts.\n\t\tif (this.menu && (this.menu === document.activeElement || this.menu.contains(document.activeElement))) {\n\t\t\tthis.focus();\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.props.onBlur) {\n\t\t\tthis.props.onBlur(event);\n\t\t}\n\t\tvar onBlurredState = {\n\t\t\tisFocused: false,\n\t\t\tisOpen: false,\n\t\t\tisPseudoFocused: false,\n\t\t};\n\t\tif (this.props.onBlurResetsInput) {\n\t\t\tonBlurredState.inputValue = '';\n\t\t}\n\t\tthis.setState(onBlurredState);\n\t},\n\n\thandleInputChange (event) {\n\t\tlet newInputValue = event.target.value;\n\n\t\tif (this.state.inputValue !== event.target.value && this.props.onInputChange) {\n\t\t\tlet nextState = this.props.onInputChange(newInputValue);\n\t\t\t// Note: != used deliberately here to catch undefined and null\n\t\t\tif (nextState != null && typeof nextState !== 'object') {\n\t\t\t\tnewInputValue = '' + nextState;\n\t\t\t}\n\t\t}\n\n\t\tthis.setState({\n\t\t\tisOpen: true,\n\t\t\tisPseudoFocused: false,\n\t\t\tinputValue: newInputValue\n\t\t});\n\t},\n\n\thandleKeyDown (event) {\n\t\tif (this.props.disabled) return;\n\n\t\tif (typeof this.props.onInputKeyDown === 'function') {\n\t\t\tthis.props.onInputKeyDown(event);\n\t\t\tif (event.defaultPrevented) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tswitch (event.keyCode) {\n\t\t\tcase 8: // backspace\n\t\t\t\tif (!this.state.inputValue && this.props.backspaceRemoves) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tthis.popValue();\n\t\t\t\t}\n\t\t\treturn;\n\t\t\tcase 9: // tab\n\t\t\t\tif (event.shiftKey || !this.state.isOpen || !this.props.tabSelectsValue) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.selectFocusedOption();\n\t\t\treturn;\n\t\t\tcase 13: // enter\n\t\t\t\tif (!this.state.isOpen) return;\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tthis.selectFocusedOption();\n\t\t\tbreak;\n\t\t\tcase 27: // escape\n\t\t\t\tif (this.state.isOpen) {\n\t\t\t\t\tthis.closeMenu();\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t} else if (this.props.clearable && this.props.escapeClearsValue) {\n\t\t\t\t\tthis.clearValue(event);\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\t\t\tbreak;\n\t\t\tcase 38: // up\n\t\t\t\tthis.focusPreviousOption();\n\t\t\tbreak;\n\t\t\tcase 40: // down\n\t\t\t\tthis.focusNextOption();\n\t\t\tbreak;\n\t\t\tcase 33: // page up\n\t\t\t\tthis.focusPageUpOption();\n\t\t\tbreak;\n\t\t\tcase 34: // page down\n\t\t\t\tthis.focusPageDownOption();\n\t\t\tbreak;\n\t\t\tcase 35: // end key\n\t\t\t\tif (event.shiftKey) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.focusEndOption();\n\t\t\tbreak;\n\t\t\tcase 36: // home key\n\t\t\t\tif (event.shiftKey) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.focusStartOption();\n\t\t\tbreak;\n\t\t\tcase 46: // backspace\n\t\t\t\tif (!this.state.inputValue && this.props.deleteRemoves) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tthis.popValue();\n\t\t\t\t}\n\t\t\treturn;\n\t\t\tdefault: return;\n\t\t}\n\t\tevent.preventDefault();\n\t},\n\n\thandleValueClick (option, event) {\n\t\tif (!this.props.onValueClick) return;\n\t\tthis.props.onValueClick(option, event);\n\t},\n\n\thandleMenuScroll (event) {\n\t\tif (!this.props.onMenuScrollToBottom) return;\n\t\tlet { target } = event;\n\t\tif (target.scrollHeight > target.offsetHeight && !(target.scrollHeight - target.offsetHeight - target.scrollTop)) {\n\t\t\tthis.props.onMenuScrollToBottom();\n\t\t}\n\t},\n\n\thandleRequired (value, multi) {\n\t\tif (!value) return true;\n\t\treturn (multi ? value.length === 0 : Object.keys(value).length === 0);\n\t},\n\n\tgetOptionLabel (op) {\n\t\treturn op[this.props.labelKey];\n\t},\n\n\t/**\n\t * Turns a value into an array from the given options\n\t * @param\t{String|Number|Array}\tvalue\t\t- the value of the select input\n\t * @param\t{Object}\t\tnextProps\t- optionally specify the nextProps so the returned array uses the latest configuration\n\t * @returns\t{Array}\tthe value of the select represented in an array\n\t */\n\tgetValueArray (value, nextProps) {\n\t\t/** support optionally passing in the `nextProps` so `componentWillReceiveProps` updates will function as expected */\n\t\tconst props = typeof nextProps === 'object' ? nextProps : this.props;\n\t\tif (props.multi) {\n\t\t\tif (typeof value === 'string') value = value.split(props.delimiter);\n\t\t\tif (!Array.isArray(value)) {\n\t\t\t\tif (value === null || value === undefined) return [];\n\t\t\t\tvalue = [value];\n\t\t\t}\n\t\t\treturn value.map(value => this.expandValue(value, props)).filter(i => i);\n\t\t}\n\t\tvar expandedValue = this.expandValue(value, props);\n\t\treturn expandedValue ? [expandedValue] : [];\n\t},\n\n\t/**\n\t * Retrieve a value from the given options and valueKey\n\t * @param\t{String|Number|Array}\tvalue\t- the selected value(s)\n\t * @param\t{Object}\t\tprops\t- the Select component's props (or nextProps)\n\t */\n\texpandValue (value, props) {\n\t\tconst valueType = typeof value;\n\t\tif (valueType !== 'string' && valueType !== 'number' && valueType !== 'boolean') return value;\n\t\tlet { options, valueKey } = props;\n\t\tif (!options) return;\n\t\tfor (var i = 0; i < options.length; i++) {\n\t\t\tif (options[i][valueKey] === value) return options[i];\n\t\t}\n\t},\n\n\tsetValue (value) {\n\t\tif (this.props.autoBlur){\n\t\t\tthis.blurInput();\n\t\t}\n\t\tif (!this.props.onChange) return;\n\t\tif (this.props.required) {\n\t\t\tconst required = this.handleRequired(value, this.props.multi);\n\t\t\tthis.setState({ required });\n\t\t}\n\t\tif (this.props.simpleValue && value) {\n\t\t\tvalue = this.props.multi ? value.map(i => i[this.props.valueKey]).join(this.props.delimiter) : value[this.props.valueKey];\n\t\t}\n\t\tthis.props.onChange(value);\n\t},\n\n\tselectValue (value) {\n\t\t//NOTE: update value in the callback to make sure the input value is empty so that there are no styling issues (Chrome had issue otherwise)\n\t\tthis.hasScrolledToOption = false;\n\t\tif (this.props.multi) {\n\t\t\tthis.setState({\n\t\t\t\tinputValue: '',\n\t\t\t\tfocusedIndex: null\n\t\t\t}, () => {\n\t\t\t\tthis.addValue(value);\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\tinputValue: '',\n\t\t\t\tisPseudoFocused: this.state.isFocused,\n\t\t\t}, () => {\n\t\t\t\tthis.setValue(value);\n\n\t\t\t\tvar _this = this;\n\t\t\t\twindow.setTimeout(function(){\n\t\t\t\t_this.setState({\n\t\t\t\t\tisOpen: false,\n\t\t\t\t});\n\t\t\t},150);\n\t\t\t});\n\t\t}\n\t},\n\n\taddValue (value) {\n\t\tvar valueArray = this.getValueArray(this.props.value);\n\t\tthis.setValue(valueArray.concat(value));\n\t},\n\n\tpopValue () {\n\t\tvar valueArray = this.getValueArray(this.props.value);\n\t\tif (!valueArray.length) return;\n\t\tif (valueArray[valueArray.length-1].clearableValue === false) return;\n\t\tthis.setValue(valueArray.slice(0, valueArray.length - 1));\n\t},\n\n\tremoveValue (value) {\n\t\tvar valueArray = this.getValueArray(this.props.value);\n\t\tthis.setValue(valueArray.filter(i => i !== value));\n\t\tthis.focus();\n\t},\n\n\tclearValue (event) {\n\t\t// if the event was triggered by a mousedown and not the primary\n\t\t// button, ignore it.\n\t\tif (event && event.type === 'mousedown' && event.button !== 0) {\n\t\t\treturn;\n\t\t}\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\t\tthis.setValue(this.getResetValue());\n\t\tthis.setState({\n\t\t\tisOpen: false,\n\t\t\tinputValue: '',\n\t\t}, this.focus);\n\t},\n\n\tgetResetValue() {\n\t\tif (this.props.resetValue !== undefined) {\n\t\t\treturn this.props.resetValue;\n\t\t} else if (this.props.multi) {\n\t\t\treturn [];\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t},\n\n\tfocusOption (option) {\n\t\tthis.setState({\n\t\t\tfocusedOption: option\n\t\t});\n\t},\n\n\tfocusNextOption () {\n\t\tthis.focusAdjacentOption('next');\n\t},\n\n\tfocusPreviousOption () {\n\t\tthis.focusAdjacentOption('previous');\n\t},\n\n\tfocusPageUpOption () {\n\t\tthis.focusAdjacentOption('page_up');\n\t},\n\n\tfocusPageDownOption () {\n\t\tthis.focusAdjacentOption('page_down');\n\t},\n\n\tfocusStartOption () {\n\t\tthis.focusAdjacentOption('start');\n\t},\n\n\tfocusEndOption () {\n\t\tthis.focusAdjacentOption('end');\n\t},\n\n\tfocusAdjacentOption (dir) {\n\t\tvar options = this._visibleOptions\n\t\t\t.map((option, index) => ({ option, index }))\n\t\t\t.filter(option => !option.option.disabled);\n\t\tthis._scrollToFocusedOptionOnUpdate = true;\n\t\tif (!this.state.isOpen) {\n\t\t\tthis.setState({\n\t\t\t\tisOpen: true,\n\t\t\t\tinputValue: '',\n\t\t\t\tfocusedOption: this._focusedOption || options[dir === 'next' ? 0 : options.length - 1].option\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tif (!options.length) return;\n\t\tvar focusedIndex = -1;\n\t\tfor (var i = 0; i < options.length; i++) {\n\t\t\tif (this._focusedOption === options[i].option) {\n\t\t\t\tfocusedIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (dir === 'next' && focusedIndex !== -1 ) {\n\t\t\tfocusedIndex = (focusedIndex + 1) % options.length;\n\t\t} else if (dir === 'previous') {\n\t\t\tif (focusedIndex > 0) {\n\t\t\t\tfocusedIndex = focusedIndex - 1;\n\t\t\t} else {\n\t\t\t\tfocusedIndex = options.length - 1;\n\t\t\t}\n\t\t} else if (dir === 'start') {\n\t\t\tfocusedIndex = 0;\n\t\t} else if (dir === 'end') {\n\t\t\tfocusedIndex = options.length - 1;\n\t\t} else if (dir === 'page_up') {\n\t\t\tvar potentialIndex = focusedIndex - this.props.pageSize;\n\t\t\tif ( potentialIndex < 0 ) {\n\t\t\t\tfocusedIndex = 0;\n\t\t\t} else {\n\t\t\t\tfocusedIndex = potentialIndex;\n\t\t\t}\n\t\t} else if (dir === 'page_down') {\n\t\t\tvar potentialIndex = focusedIndex + this.props.pageSize;\n\t\t\tif ( potentialIndex > options.length - 1 ) {\n\t\t\t\tfocusedIndex = options.length - 1;\n\t\t\t} else {\n\t\t\t\tfocusedIndex = potentialIndex;\n\t\t\t}\n\t\t}\n\n\t\tif (focusedIndex === -1) {\n\t\t\tfocusedIndex = 0;\n\t\t}\n\n\t\tthis.setState({\n\t\t\tfocusedIndex: options[focusedIndex].index,\n\t\t\tfocusedOption: options[focusedIndex].option\n\t\t});\n\t},\n\n\tgetFocusedOption () {\n\t\treturn this._focusedOption;\n\t},\n\n\tgetInputValue () {\n\t\treturn this.state.inputValue;\n\t},\n\n\tselectFocusedOption () {\n\t\tif (this._focusedOption) {\n\t\t\treturn this.selectValue(this._focusedOption);\n\t\t}\n\t},\n\n\trenderLoading () {\n\t\tif (!this.props.isLoading) return;\n\t\treturn (\n\t\t\t<span className=\"Select-loading-zone\" aria-hidden=\"true\">\n\t\t\t\t<span className=\"Select-loading\" />\n\t\t\t</span>\n\t\t);\n\t},\n\n\trenderValue (valueArray, isOpen) {\n\t\tlet renderLabel = this.props.valueRenderer || this.getOptionLabel;\n\t\tlet ValueComponent = this.props.valueComponent;\n\t\tif (!valueArray.length) {\n\t\t\treturn !this.state.inputValue ? <div className=\"Select-placeholder\">{this.props.placeholder}</div> : null;\n\t\t}\n\t\tlet onClick = this.props.onValueClick ? this.handleValueClick : null;\n\t\tif (this.props.multi) {\n\t\t\treturn valueArray.map((value, i) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ValueComponent\n\t\t\t\t\t\tid={this._instancePrefix + '-value-' + i}\n\t\t\t\t\t\tinstancePrefix={this._instancePrefix}\n\t\t\t\t\t\tdisabled={this.props.disabled || value.clearableValue === false}\n\t\t\t\t\t\tkey={`value-${i}-${value[this.props.valueKey]}`}\n\t\t\t\t\t\tonClick={onClick}\n\t\t\t\t\t\tonRemove={this.removeValue}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t>\n\t\t\t\t\t\t{renderLabel(value, i)}\n\t\t\t\t\t\t<span className=\"Select-aria-only\">&nbsp;</span>\n\t\t\t\t\t</ValueComponent>\n\t\t\t\t);\n\t\t\t});\n\t\t} else if (!this.state.inputValue) {\n\t\t\tif (isOpen) onClick = null;\n\t\t\treturn (\n\t\t\t\t<ValueComponent\n\t\t\t\t\tid={this._instancePrefix + '-value-item'}\n\t\t\t\t\tdisabled={this.props.disabled}\n\t\t\t\t\tinstancePrefix={this._instancePrefix}\n\t\t\t\t\tonClick={onClick}\n\t\t\t\t\tvalue={valueArray[0]}\n\t\t\t\t>\n\t\t\t\t\t{renderLabel(valueArray[0])}\n\t\t\t\t</ValueComponent>\n\t\t\t);\n\t\t}\n\t},\n\n\trenderInput (valueArray, focusedOptionIndex) {\n\t\tvar className = classNames('Select-input', this.props.inputProps.className);\n\t\tconst isOpen = !!this.state.isOpen;\n\n\t\tconst ariaOwns = classNames({\n\t\t\t[this._instancePrefix + '-list']: isOpen,\n\t\t\t[this._instancePrefix + '-backspace-remove-message']: this.props.multi\n\t\t\t\t&& !this.props.disabled\n\t\t\t\t&& this.state.isFocused\n\t\t\t\t&& !this.state.inputValue\n\t\t});\n\n\t\t// TODO: Check how this project includes Object.assign()\n\t\tconst inputProps = Object.assign({}, this.props.inputProps, {\n\t\t\trole: 'combobox',\n\t\t\t'aria-expanded': '' + isOpen,\n\t\t\t'aria-owns': ariaOwns,\n\t\t\t'aria-haspopup': '' + isOpen,\n\t\t\t'aria-activedescendant': isOpen ? this._instancePrefix + '-option-' + focusedOptionIndex : this._instancePrefix + '-value',\n\t\t\t'aria-labelledby': this.props['aria-labelledby'],\n\t\t\t'aria-label': this.props['aria-label'],\n\t\t\tclassName: className,\n\t\t\ttabIndex: this.props.tabIndex,\n\t\t\tonBlur: this.handleInputBlur,\n\t\t\tonChange: this.handleInputChange,\n\t\t\tonFocus: this.handleInputFocus,\n\t\t\tref: ref => this.input = ref,\n\t\t\trequired: this.state.required,\n\t\t\tvalue: this.state.inputValue\n\t\t});\n\n\t\tif (this.props.inputRenderer) {\n\t\t\treturn this.props.inputRenderer(inputProps);\n\t\t}\n\n\t\tif (this.props.disabled || !this.props.searchable) {\n\t\t\tconst { inputClassName, ...divProps } = this.props.inputProps;\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\t{...divProps}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\taria-expanded={isOpen}\n\t\t\t\t\taria-owns={isOpen ? this._instancePrefix + '-list' : this._instancePrefix + '-value'}\n\t\t\t\t\taria-activedescendant={isOpen ? this._instancePrefix + '-option-' + focusedOptionIndex : this._instancePrefix + '-value'}\n\t\t\t\t\tclassName={className}\n\t\t\t\t\ttabIndex={this.props.tabIndex || 0}\n\t\t\t\t\tonBlur={this.handleInputBlur}\n\t\t\t\t\tonFocus={this.handleInputFocus}\n\t\t\t\t\tref={ref => this.input = ref}\n\t\t\t\t\taria-readonly={'' + !!this.props.disabled}\n\t\t\t\t\tstyle={{ border: 0, width: 1, display:'inline-block' }}/>\n\t\t\t);\n\t\t}\n\n\t\tif (this.props.autosize) {\n\t\t\treturn (\n\t\t\t\t<AutosizeInput {...inputProps} minWidth=\"5\" />\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<div className={ className }>\n\t\t\t\t<input {...inputProps} />\n\t\t\t</div>\n\t\t);\n\t},\n\n\trenderClear () {\n\t\tif (!this.props.clearable || (!this.props.value || this.props.value === 0) || (this.props.multi && !this.props.value.length) || this.props.disabled || this.props.isLoading) return;\n\t\treturn (\n\t\t\t<span className=\"Select-clear-zone\" title={this.props.multi ? this.props.clearAllText : this.props.clearValueText}\n\t\t\t\taria-label={this.props.multi ? this.props.clearAllText : this.props.clearValueText}\n\t\t\t\tonMouseDown={this.clearValue}\n\t\t\t\tonTouchStart={this.handleTouchStart}\n\t\t\t\tonTouchMove={this.handleTouchMove}\n\t\t\t\tonTouchEnd={this.handleTouchEndClearValue}\n\t\t\t>\n\t\t\t\t<span className=\"Select-clear\" dangerouslySetInnerHTML={{ __html: '&times;' }} />\n\t\t\t</span>\n\t\t);\n\t},\n\n\trenderArrow () {\n\t\tconst onMouseDown = this.handleMouseDownOnArrow;\n\t\tconst arrow = this.props.arrowRenderer({ onMouseDown });\n\n\t\treturn (\n\t\t\t<span\n\t\t\t\tclassName=\"Select-arrow-zone\"\n\t\t\t\tonMouseDown={onMouseDown}\n\t\t\t>\n\t\t\t\t{arrow}\n\t\t\t</span>\n\t\t);\n\t},\n\n\tfilterOptions (excludeOptions) {\n\t\tvar filterValue = this.state.inputValue;\n\t\tvar options = this.props.options || [];\n\t\tif (this.props.filterOptions) {\n\t\t\t// Maintain backwards compatibility with boolean attribute\n\t\t\tconst filterOptions = typeof this.props.filterOptions === 'function'\n\t\t\t\t? this.props.filterOptions\n\t\t\t\t: defaultFilterOptions;\n\n\t\t\treturn filterOptions(\n\t\t\t\toptions,\n\t\t\t\tfilterValue,\n\t\t\t\texcludeOptions,\n\t\t\t\t{\n\t\t\t\t\tfilterOption: this.props.filterOption,\n\t\t\t\t\tignoreAccents: this.props.ignoreAccents,\n\t\t\t\t\tignoreCase: this.props.ignoreCase,\n\t\t\t\t\tlabelKey: this.props.labelKey,\n\t\t\t\t\tmatchPos: this.props.matchPos,\n\t\t\t\t\tmatchProp: this.props.matchProp,\n\t\t\t\t\tvalueKey: this.props.valueKey,\n\t\t\t\t}\n\t\t\t);\n\t\t} else {\n\t\t\treturn options;\n\t\t}\n\t},\n\n\tonOptionRef(ref, isFocused) {\n\t\tif (isFocused) {\n\t\t\tthis.focused = ref;\n\t\t}\n\t},\n\n\trenderMenu (options, valueArray, focusedOption) {\n\t\tif (options && options.length) {\n\t\t\treturn this.props.menuRenderer({\n\t\t\t\tfocusedOption,\n\t\t\t\tfocusOption: this.focusOption,\n\t\t\t\tinstancePrefix: this._instancePrefix,\n\t\t\t\tlabelKey: this.props.labelKey,\n\t\t\t\tonFocus: this.focusOption,\n\t\t\t\tonSelect: this.selectValue,\n\t\t\t\toptionClassName: this.props.optionClassName,\n\t\t\t\toptionComponent: this.props.optionComponent,\n\t\t\t\toptionRenderer: this.props.optionRenderer || this.getOptionLabel,\n\t\t\t\toptions,\n\t\t\t\tselectValue: this.selectValue,\n\t\t\t\tvalueArray,\n\t\t\t\tvalueKey: this.props.valueKey,\n\t\t\t\tonOptionRef: this.onOptionRef,\n\t\t\t});\n\t\t} else if (this.props.noResultsText) {\n\t\t\treturn (\n\t\t\t\t<div className=\"Select-noresults\">\n\t\t\t\t\t{this.props.noResultsText}\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t},\n\n\trenderHiddenField (valueArray) {\n\t\tif (!this.props.name) return;\n\t\tif (this.props.joinValues) {\n\t\t\tlet value = valueArray.map(i => stringifyValue(i[this.props.valueKey])).join(this.props.delimiter);\n\t\t\treturn (\n\t\t\t\t<input\n\t\t\t\t\ttype=\"hidden\"\n\t\t\t\t\tref={ref => this.value = ref}\n\t\t\t\t\tname={this.props.name}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tdisabled={this.props.disabled} />\n\t\t\t);\n\t\t}\n\t\treturn valueArray.map((item, index) => (\n\t\t\t<input key={'hidden.' + index}\n\t\t\t\ttype=\"hidden\"\n\t\t\t\tref={'value' + index}\n\t\t\t\tname={this.props.name}\n\t\t\t\tvalue={stringifyValue(item[this.props.valueKey])}\n\t\t\t\tdisabled={this.props.disabled} />\n\t\t));\n\t},\n\n\tgetFocusableOptionIndex (selectedOption) {\n\t\tvar options = this._visibleOptions;\n\t\tif (!options.length) return null;\n\n\t\tlet focusedOption = this.state.focusedOption || selectedOption;\n\t\tif (focusedOption && !focusedOption.disabled) {\n\t\t\tconst focusedOptionIndex = options.indexOf(focusedOption);\n\t\t\tif (focusedOptionIndex !== -1) {\n\t\t\t\treturn focusedOptionIndex;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < options.length; i++) {\n\t\t\tif (!options[i].disabled) return i;\n\t\t}\n\t\treturn null;\n\t},\n\n\trenderOuter (options, valueArray, focusedOption) {\n\t\tlet menu = this.renderMenu(options, valueArray, focusedOption);\n\t\tif (!menu) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<div ref={ref => this.menuContainer = ref} className=\"Select-menu-outer\" style={{maxHeight:'134px'}}>\n\t\t\t\t<div ref={ref => this.menu = ref} role=\"listbox\" className=\"Select-menu\" id={this._instancePrefix + '-list'}\n\t\t\t\t\t\t style={{maxHeight:'132px',borderBottomLeftRadius:'4px',borderBottomRightRadius:'4px'}}\n\t\t\t\t\t\t onScroll={this.handleMenuScroll}\n\t\t\t\t\t\t onMouseDown={this.handleMouseDownOnMenu}>\n\t\t\t\t\t{menu}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t},\n\n\trender () {\n\t\tlet valueArray = this.getValueArray(this.props.value);\n\t\tlet options =\tthis._visibleOptions = this.filterOptions(this.props.multi ? this.getValueArray(this.props.value) : null);\n\t\tlet isOpen = this.state.isOpen;\n\t\tif (this.props.multi && !options.length && valueArray.length && !this.state.inputValue) isOpen = false;\n\t\tconst focusedOptionIndex = this.getFocusableOptionIndex(valueArray[0]);\n\n\t\tlet focusedOption = null;\n\t\tif (focusedOptionIndex !== null) {\n\t\t\tfocusedOption = this._focusedOption = options[focusedOptionIndex];\n\t\t} else {\n\t\t\tfocusedOption = this._focusedOption = null;\n\t\t}\n\t\tlet className = classNames('Select', this.props.className, {\n\t\t\t'Select--multi': this.props.multi,\n\t\t\t'Select--single': !this.props.multi,\n\t\t\t'is-disabled': this.props.disabled,\n\t\t\t'is-focused': this.state.isFocused,\n\t\t\t'is-loading': this.props.isLoading,\n\t\t\t'is-open': isOpen,\n\t\t\t'is-pseudo-focused': this.state.isPseudoFocused,\n\t\t\t'is-searchable': this.props.searchable,\n\t\t\t'has-value': valueArray.length,\n\t\t});\n\n\t\tlet removeMessage = null;\n\t\tif (this.props.multi &&\n\t\t\t!this.props.disabled &&\n\t\t\tvalueArray.length &&\n\t\t\t!this.state.inputValue &&\n\t\t\tthis.state.isFocused &&\n\t\t\tthis.props.backspaceRemoves) {\n\t\t\tremoveMessage = (\n\t\t\t\t<span id={this._instancePrefix + '-backspace-remove-message'} className=\"Select-aria-only\" aria-live=\"assertive\">\n\t\t\t\t\t{this.props.backspaceToRemoveMessage.replace('{label}', valueArray[valueArray.length - 1][this.props.labelKey])}\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div ref={ref => this.wrapper = ref}\n\t\t\t\t className={className}\n\t\t\t\t style={this.props.wrapperStyle}>\n\t\t\t\t{this.renderHiddenField(valueArray)}\n\t\t\t\t<div ref={ref => this.control = ref}\n\t\t\t\t\tclassName=\"Select-control\"\n\t\t\t\t\tstyle={this.props.style}\n\t\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\t\t\tonTouchEnd={this.handleTouchEnd}\n\t\t\t\t\tonTouchStart={this.handleTouchStart}\n\t\t\t\t\tonTouchMove={this.handleTouchMove}\n\t\t\t\t>\n\t\t\t\t\t<span className=\"Select-multi-value-wrapper\" id={this._instancePrefix + '-value'}>\n\t\t\t\t\t\t{this.renderValue(valueArray, isOpen)}\n\t\t\t\t\t\t{this.renderInput(valueArray, focusedOptionIndex)}\n\t\t\t\t\t</span>\n\t\t\t\t\t{removeMessage}\n\t\t\t\t\t{this.renderLoading()}\n\t\t\t\t\t{this.renderClear()}\n\t\t\t\t\t{this.renderArrow()}\n\t\t\t\t</div>\n\t\t\t\t{isOpen ? this.renderOuter(options, !this.props.multi ? valueArray : null, focusedOption) : null}\n\t\t\t</div>\n\t\t);\n\t}\n\n});\n\nexport default Select;\n"]}