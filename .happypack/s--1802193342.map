{"version":3,"sources":["src/Containers/Operation/BasicConfig/EquipmentDefinition/NewCreateDefinitionForm.js"],"names":["NewCreateDefinitionForm","props","context","onCancel","onChangeSearchCommunity","community","_this","setState","locationOpen","floorsOptions","dispatch","CommunityId","communityId","id","callAPI","then","response","arrNew","i","whereFloors","length","label","value","catch","err","onchooseType","typeId","onchooseProperty","propertyId","SearchLocationParams","state","whereFloor","floorNum","locationArr","boardroomname","locationOptions","onchooseCorrespondingFunction","functionId","onchooseCorrespondingLocation","locationId","getFloor","floor","propertyOption","onChangeTitle","showTitle","doorNumHasFun","deviceCode","doorNumHas","test","params","code","type","doorNumHasStatus","isDoorNumHas","hardwareIdHasFun","hardwareId","hardwareidHasStatus","hardwareIdparams","defaultChecked","hardwareIdHas","chooseONLINE","e","isOnlines","onSubmit","values","console","log","enable","deviceCodeParams","hardwareIdParams","confirmSubmit","typeOptions","correspondingFunction","error","handleSubmit","pristine","reset","padding","requiredValue","width","margin","display","fontSize","color","marginTop","marginBottom","textAlign","marginRight","validate","errors","form"],"mappings":"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","file":"NewCreateDefinitionForm.js","sourceRoot":"/Users/liuyihao/Code/kr-admin","sourcesContent":["\nimport React, {Component, PropTypes} from 'react';\nimport {connect} from 'kr/Redux';\nimport {reduxForm,formValueSelector,change,initialize,arrayPush,arrayInsert,FieldArray,reset} from 'redux-form';\nimport {Actions,Store} from 'kr/Redux';\nimport {\n\tKrField,\n\tGrid,\n\tRow,\n\tListGroup,\n\tListGroupItem,\n\tButton,\n\tNotify,\n\terr\n} from 'kr-ui';\nclass NewCreateDefinitionForm extends Component{\n\tconstructor(props,context){\n\t\tsuper(props,context);\n\t\tthis.state={\n\t\t\tlocationOpen:false,\n\t\t\tfloorsOptions:[],\n\t\t\tlocationOptions:[],\n\t\t\tconfirmSubmit : false,\n\t\t\tdoorNumHas:false,\n\t\t\tdoorNumHasStatus :false,\n\t\t\tcommunityId :'',\n\t\t\tpropertyOption :[{label:\"\",value:\"\"}],\n\t\t\tpropertyId :\"\",\n\t\t\thardwareidHasStatus : false,\n\t\t\tisOnlines:true,\n\t\t\tshowTitle :'',\n\t\t\tdeviceCode:'',\n\t\t\thardwareId:'',\n\t\t\ttypeId : '',\n\t\t\tpropertyId :  '',\n\t\t\tfunctionId :  '',\n\t\t\tlocationId : ''\n\t\t}\n\t}\n\tonCancel=()=>{\n\t\tconst {onCancel}=this.props;\n\t\tonCancel && onCancel();\n\t}\n\t// 社区模糊查询\n  \tonChangeSearchCommunity=(community)=>{\n  \t\tlet _this = this;\n  \t\tif(community == null){\n  \t\t\t_this.setState({\n  \t\t\t\tlocationOpen : false,\n  \t\t\t\tfloorsOptions : []\n  \t\t\t})\n  \t\t\tStore.dispatch(change('NewCreateDefinitionForm', 'propertyId', \"\"))\n\t\t\treturn;\n\t\t}\n\t\tlet CommunityId = {\n\t\t\tcommunityId : community.id\n\t\t}\n\t\tthis.setState({\n\t\t\tcommunityId :community.id\n\t\t})\n    \tStore.dispatch(change('NewCreateDefinitionForm', 'communityId', community.communityId));\n    \tStore.dispatch(Actions.callAPI('getFloorByComunity',CommunityId))\n    \t.then(function(response){\n    \t\tvar arrNew = []\n    \t\tfor (var i=0;i<response.whereFloors.length;i++){\n    \t\t\tarrNew[i] = {label:response.whereFloors[i],value:response.whereFloors[i]}\n    \t\t}\n    \t\t_this.setState({\n    \t\t\tfloorsOptions : arrNew\n    \t\t})\n    \t}).catch(function(err){\n    \t})\n  \t}\n  \t//选择类型\n  \tonchooseType=(typeId)=>{\n  \t\tthis.setState({\n  \t\t\ttypeId :typeId.value\n  \t\t})\n  \t\tif(typeId == null){\n\t\t\treturn;\n\t\t}\n    \tStore.dispatch(change('NewCreateDefinitionForm','typeId',typeId.value));\n  \t}\n  \t//选择属性(会议室／大门)\n\tonchooseProperty=(propertyId)=>{\n\t\tlet _this = this;\n\t\tif(propertyId == null){\n\t\t\t_this.setState({\n  \t\t\t\tlocationOpen : false\n  \t\t\t})\n\t\t\treturn;\n\t\t}\n  \t\tif(propertyId.value == 2 || propertyId.value == 3 ){\n  \t\t\t_this.setState({\n  \t\t\t\tlocationOpen : true\n  \t\t\t})\n  \t\t\tlet SearchLocationParams = {communityId:_this.state.communityId,whereFloor:_this.state.floorNum}\n  \t\t\t\n  \t\t\tStore.dispatch(Actions.callAPI('getLocationByProperty',SearchLocationParams)).\n\t\t\tthen(function(response){\n\t\t\t\tvar locationArr = []\n\t    \t\tfor (var i=0;i<response.length;i++){\n\t    \t\t\tlocationArr[i] = {label:response[i].boardroomname,value:response[i].id}\n\t    \t\t}\n\t    \t\t_this.setState({\n\t    \t\t\tlocationOptions : locationArr\n\t    \t\t})\n\t\t\t});\t\n  \t\t}else{\n  \t\t\t_this.setState({\n  \t\t\t\tlocationOpen : false\n  \t\t\t})\n  \t\t}\n  \t\tthis.setState({\n  \t\t\tpropertyId : propertyId.value\n  \t\t})\n  \t\tStore.dispatch(change('NewCreateDefinitionForm','propertyId',propertyId.value));\n  \t}\n\t//选择对应功能\n\tonchooseCorrespondingFunction=(functionId)=>{\n\t\tthis.setState({\n\t\t\tfunctionId : functionId.value\n\t\t})\n\t\tif(functionId == null){\n\t\t\treturn;\n\t\t}\n    \tStore.dispatch(change('NewCreateDefinitionForm','functionId',functionId.value));\n\t}\n\t// 选择对应位置\n\tonchooseCorrespondingLocation=(locationId)=>{\n\t\tthis.setState({\n\t\t\tlocationId : locationId.value\n\t\t})\n\t\tif(locationId == null){\n\t\t\treturn;\n\t\t}\n\t\tStore.dispatch(change('NewCreateDefinitionForm','locationId',locationId.value));\n\t}\n\t// 选择楼层\n\tgetFloor=(floor)=>{\n\t\tlet _this = this;\n\t\tif(!floor){\n\t\t\t_this.setState({\n\t\t\t\tpropertyOption :[{label: '',value: ''}],\n\t\t\t\tlocationOpen :false,\n\t\t\t})\n\t\t\tStore.dispatch(change('NewCreateDefinitionForm', 'propertyId', \"\"));\n\t\t}else{\n\t\t\t_this.setState({\n\t\t\t\tfloorNum : floor.value\n\t\t\t},function(){\n\t\t\t\t_this.setState({\n\t\t\t\t\tpropertyOption :[{label: '大门',value: 1},{label: '会议室',value: 2},{label: '独立办公室',value: 3}]\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t\t\n\t}\n\tonChangeTitle=(showTitle)=>{\n\t\tthis.setState({\n\t\t\tshowTitle : showTitle \n\t\t})\n\t}\n\t// 判断门编号是否存在\n\tdoorNumHasFun=(deviceCode)=>{\n\t\tthis.setState({\n\t\t\tdoorNumHas:false,\n\t\t\tdeviceCode : deviceCode\n\t\t})\n\t\tif(!deviceCode || /^\\s+$/.test(deviceCode)){\n\t\t\treturn;\n\t\t}\n\t\tlet _this = this;\n\t\tlet params = {\n\t\t\tcode :deviceCode,\n\t\t\ttype :\"deviceCode\",\n\t\t\tid : ''\n\t\t}\n\t\tStore.dispatch(Actions.callAPI('doorNumberAndHardwareId',params)).\n\t\tthen(function(response){\n\t\t\t_this.setState({\n\t \t\t\tdoorNumHasStatus : false\n\t \t\t})\n\t\t}).catch(function(err){\n\t \t\tlet {isDoorNumHas} = _this.props;\n\t \t\tisDoorNumHas && isDoorNumHas();\n\t \t\t_this.setState({\n\t \t\t\tdoorNumHas:true,\n\t \t\t\tdoorNumHasStatus : true\n\t \t\t})\n\t\t});\n\t}\n\t// 判断智能硬件ID是否存在\n\thardwareIdHasFun=(hardwareId)=>{\n\t\tthis.setState({\n\t\t\thardwareidHasStatus:false,\n\t\t\thardwareId :hardwareId\n\t\t})\n\t\tif(!hardwareId || /^\\s+$/.test(hardwareId)){\n\t\t\treturn;\n\t\t}\n\t\tlet _this = this;\n\t\tlet hardwareIdparams = {\n\t\t\tcode :hardwareId,\n\t\t\ttype :\"hardwareid\",\n\t\t\tid : ''\n\t\t}\n\t\tStore.dispatch(Actions.callAPI('doorNumberAndHardwareId',hardwareIdparams))\n\t\t.then(function(response){\n\t \t\t_this.setState({\n\t \t\t\thardwareidHasStatus : false,\n\t \t\t\tdefaultChecked : true\n\t \t\t})\t\n\t\t}).catch(function(err){\n\t\t \t\tlet {hardwareIdHas} = _this.props;\n\t\t \t\thardwareIdHas && hardwareIdHas();\n\t\t \t\t_this.setState({\n\t\t \t\t\thardwareidHasStatus: true,\n\t\t \t\t\tdefaultChecked : true\n\t\t \t\t})\t\n\t\t});\n\t}\n\tchooseONLINE=(e)=>{\n\t\tthis.setState({\n\t\t\tisOnlines : !this.state.isOnlines\n\t\t},function(){\n\t\t\tStore.dispatch(change('NewCreateDefinitionForm','enable',this.state.isOnlines));\n\t\t})\n\t\t\n\t}\n\t// 新增设备定义\n\tonSubmit=(values)=>{\n\t\tconsole.log(\"values\",values);\n\t\tlet _this = this;\n\t\tvalues.enable = _this.state.isOnlines?\"ONLINE\":\"OFFLINE\";\n\t\tlet deviceCodeParams = {\n\t\t\tcode :values.deviceCode,\n\t\t\ttype :\"deviceCode\",\n\t\t\tid : ''\n\t\t}\n\t\tlet hardwareIdParams  = {\n\t\t\tcode :values.hardwareId,\n\t\t\ttype :\"hardwareid\",\n\t\t\tid :''\n\t\t}\n// 此处判断门编号是否存在\n\t\tStore.dispatch(Actions.callAPI('doorNumberAndHardwareId',deviceCodeParams)).\n\t\tthen(function(response){\n\t\t\tStore.dispatch(Actions.callAPI('doorNumberAndHardwareId',hardwareIdParams)).\n\t\t\tthen(function(response){\n\t\t\t\tconst  {onSubmit} = _this.props;\n\t\t\t\tonSubmit && onSubmit(values);\n \n\t\t\t}).catch(function(err){\n\t\t \t\tlet {hardwareIdHas} = _this.props;\n\t\t \t\t hardwareIdHas &&  hardwareIdHas();\n\t\t\t});\n\t\t}).catch(function(err){\n\t \t\tlet {isDoorNumHas} = _this.props;\n\t \t\tisDoorNumHas && isDoorNumHas();\n\t\t});\t\t\n\t}\n\trender(){\n\t\tlet {floorsOptions,propertyOption,propertyId,locationOptions,defaultChecked} =this.state;\n\t\t// 类型待选项\n\t\tlet typeOptions = [{\n\t\t\tlabel: '门禁',\n\t\t\tvalue: 1\n\t\t}];\n\n\t\t// 对应功能选项\n\t\tlet correspondingFunction =[{\n\t\t\tlabel: '开门',\n\t\t\tvalue: 1\n\t\t},{\n\t\t\tlabel: '开门／预定',\n\t\t\tvalue: 2\n\t\t},{\n\t\t\tlabel: '预定',\n\t\t\tvalue: 3\n\t\t}]\n\t\tconst { error, handleSubmit, pristine, reset} = this.props;\n\t\treturn(\n\t\t\t<div style={{padding:'35px 0 0 35px'}}>\n\t\t\t\t<form onSubmit={handleSubmit(this.onSubmit)}>\n\t\t\t\t\t<KrField name=\"communityId\" \n\t\t\t\t\t\tcomponent=\"searchCommunity\" \n\t\t\t\t\t\tonChange = {this.onChangeSearchCommunity}\n\t\t\t\t\t\tlabel=\"社区名称\"  \n\t\t\t\t\t\trequireLabel={true} \n\t\t\t\t\t\trequiredValue={true} \n\t\t\t\t\t\terrors={{requiredValue:'社区为必填项'}} \n\t\t\t\t\t\tstyle={{width:'252px',margin:'0 35px 5px 0'}}\n\t\t\t\t\t/>\n\t\t\t\t\t<KrField name=\"floor\" \n\t\t\t\t\t\tcomponent=\"select\" \n\t\t\t\t\t\tlabel=\"楼层\" \n\t\t\t\t\t\toptions = {floorsOptions}\n\t\t\t\t\t\trequireLabel={true} \n\t\t\t\t\t\trequiredValue={true} \n\t\t\t\t\t\terrors={{requiredValue:'社区为必填项'}} \n\t\t\t\t\t\tstyle={{width:'252px'}}\n\t\t\t\t\t\tonChange = {this.getFloor}\n\t\t\t\t\t/>\n\t\t\t\t\t<KrField grid={1/2} name=\"showTitle\" \n\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\tlabel=\"展示标题\" \n\t\t\t\t\t\trequireLabel={true} \n\t\t\t\t\t\trequiredValue={true} \n\t\t\t\t\t\terrors={{requiredValue:'展示标题为必填项'}} \n\t\t\t\t\t\tstyle={{width:'252px',margin:'0 35px 5px 0'}}\n\t\t\t\t\t\tonBlur = {this.onChangeTitle}\n\t\t\t\t\t/>\n\t\t\t\t\t<KrField grid={1/2} name=\"deviceCode\" \n\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\tlabel=\"门编号\" \n\t\t\t\t\t\trequireLabel={true} \n\t\t\t\t\t\trequiredValue={true} \n\t\t\t\t\t\terrors={{requiredValue:'门编号为必填项'}} \n\t\t\t\t\t\tstyle={{width:'252px'}}\n\t\t\t\t\t\tonBlur = {this.doorNumHasFun}\n\t\t\t\t\t/>\n\t\t\t\t\t<KrField grid={1/2} name=\"hardwareId\" \n\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\tlabel=\"智能硬件ID\" \n\t\t\t\t\t\trequireLabel={true} \n\t\t\t\t\t\trequiredValue={true} \n\t\t\t\t\t\terrors={{requiredValue:'智能硬件ID为必填项'}} \n\t\t\t\t\t\tstyle={{width:'252px',margin:'0 35px 5px 0'}}\n\t\t\t\t\t\tonBlur = {this.hardwareIdHasFun}\n\t\t\t\t\t/>\n\t\t\t\t\t<KrField name=\"typeId\" \n\t\t\t\t\t\tcomponent=\"select\" \n\t\t\t\t\t\tlabel=\"类型\" \n\t\t\t\t\t\tonChange = {this.onchooseType}\n\t\t\t\t\t\toptions={typeOptions} \n\t\t\t\t\t\trequireLabel={true} \n\t\t\t\t\t\trequiredValue={true} \n\t\t\t\t\t\terrors={{requiredValue:'类型为必填项'}} \n\t\t\t\t\t\tstyle={{width:'252px'}}\n\t\t\t\t\t/>\n\t\t\t\t\t<KrField name=\"propertyId\" \n\t\t\t\t\t\tcomponent=\"select\" \n\t\t\t\t\t\tlabel=\"属性\"\n\t\t\t\t\t\tonChange = {this.onchooseProperty}\n\t\t\t\t\t\toptions={propertyOption}  \n\t\t\t\t\t\trequireLabel={true} \n\t\t\t\t\t\trequiredValue={true} \n\t\t\t\t\t\terrors={{requiredValue:'属性为必填项'}} \n\t\t\t\t\t\tstyle={{width:'252px',margin:'0 35px 5px 0'}}\n\t\t\t\t\t/>\n\t\t\t\t\t<KrField name=\"functionId\" \n\t\t\t\t\t\tcomponent=\"select\" \n\t\t\t\t\t\toptions={correspondingFunction}\n\t\t\t\t\t\tlabel=\"对应功能\"\n\t\t\t\t\t\tonChange = {this.onchooseCorrespondingFunction}  \n\t\t\t\t\t\trequireLabel={true} \n\t\t\t\t\t\trequiredValue={true} \n\t\t\t\t\t\terrors={{requiredValue:'对应功能为必填项'}} \n\t\t\t\t\t\tstyle={{width:'252px'}}\n\t\t\t\t\t/>\n\t\t\t\t\t<KrField name=\"locationId\" \n\t\t\t\t\t\tcomponent=\"select\" \n\t\t\t\t\t\toptions={locationOptions}\n\t\t\t\t\t\tlabel=\"对应位置\"\n\t\t\t\t\t\tonChange = {this.onchooseCorrespondingLocation}  \n\t\t\t\t\t\tstyle={{width:'252px',display:this.state.locationOpen?'block':'none'}}\n\t\t\t\t\t/>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input type=\"checkbox\"  defaultChecked={this.state.isOnlines} onChange={this.chooseONLINE}/> \n\t\t\t\t\t\t<span style={{fontSize:14,color:\"#333333\"}} >保存后自动上线</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<Grid style={{marginTop:19,marginBottom:'4px'}}>\n\t\t\t\t\t\t<Row style={{textAlign:'center'}}>\n\t\t\t\t\t\t\t<ListGroup >\n\t\t\t\t\t\t\t\t<ListGroupItem style={{padding:0,display:'inline-block',marginRight:30}}>\n\t\t\t\t\t\t\t\t\t<Button  label=\"提交\" type=\"submit\"/>\n\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t{/*<ListGroupItem style={{padding:0,display:'inline-block',marginRight:30}}>\n\t\t\t\t\t\t\t\t\t<Button  label=\"保存并添加\" type=\"button\"  cancle={true} onTouchTap={this.onSubmitOpenNew} />\n\t\t\t\t\t\t\t\t</ListGroupItem>*/}\n\t\t\t\t\t\t\t\t<ListGroupItem style={{padding:0,display:'inline-block',marginRight:3}}>\n\t\t\t\t\t\t\t\t\t<Button  label=\"取消\" type=\"button\"  cancle={true} onTouchTap={this.onCancel} />\n\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t</ListGroup>\t\t\t\t\t\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Grid>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\nconst validate = values=>{\n\tconst errors={};\n\tif(!values.communityId){\n\t\terrors.communityId = '社区名称为必填项';\n\t}\n\tif(!values.floor){\n\t\terrors.floor = '楼层为必填项';\n\t}\n\tif(!values.showTitle || /^\\s+$/.test(values.showTitle)){\n\t\terrors.showTitle = '展示标题为必填项';\n\t}\n\tif(values.showTitle && values.showTitle.length>13){\n\t\terrors.showTitle = '展示标题最多13个字符';\n\t}\n\tif(!values.deviceCode || /^\\s+$/.test(values.deviceCode)){\n\t\terrors.deviceCode = '门编号为必填项';\n\t}\n\tif(values.deviceCode  && values.deviceCode.length>50){\n\t\terrors.deviceCode = '门编号最多50个字符';\n\t}\n\tif(!values.hardwareId || /^\\s+$/.test(values.hardwareId)){\n\t\terrors.hardwareId = '智能硬件ID为必填项';\n\t}\n\tif(values.hardwareId && values.hardwareId.length>50){\n\t\terrors.hardwareId = '智能硬件ID最多50个字符';\n\t}\n\tif(!values.typeId){\n\t\terrors.typeId = '类型为必填项';\n\t}\n\tif(!values.propertyId){\n\t\terrors.propertyId = '属性为必填项';\n\t}\n\t// if(values.property == \"meetingRoom\" || values.property == \"functionRoom\" ){\n\t// \tif(!values.locationId){\n\t// \t\terrors.locationId = '对应位置为必填项';\n\t// \t}\n\t// }\n\tif(!values.functionId){\n\t\terrors.functionId = '对应功能为必填项';\n\t}\n\treturn errors;\n}\nexport default NewCreateDefinitionForm = reduxForm({\n\tform: 'NewCreateDefinitionForm',\n\tvalidate,\n})(NewCreateDefinitionForm);"]}