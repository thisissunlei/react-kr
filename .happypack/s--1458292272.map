{"version":3,"sources":["src/Containers/Operation/CommunityAllocation/CommunityList/index.js"],"names":["CommunityList","props","context","openAddCommunity","switchNewCommunityList","onNewCommunitySubmit","onCommunitySubmit","onSearchSubmit","params","obj","searchKey","content","searchType","filter","searchParams","openSearchUpperDialog","searchDataHere","opened","openDateEnd","openDateBegin","businessAreaId","portalShow","cityId","countyId","searchUpperCustomer","onSearchUpperSubmit","time","Date","error","state","searchFilter","label","value","cityNull","marginBottom","minHeight","position","zIndex","float","marginTop","marginRight","marginLeft","onOperation","onSelect","onLoaded","openNewCommunity","top","paddingBottom","openSearchUpper","width","height","overflow"],"mappings":"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","file":"index.js","sourceRoot":"/Users/liuyihao/Code/kr-admin","sourcesContent":["import React, {\n\tComponent,\n\tPropTypes\n} from 'react';\nimport {\n\tconnect\n} from 'kr/Redux';\nimport {\n\treduxForm,\n\tsubmitForm,\n\tchange,\n\tinitialize,\n\treset\n} from 'redux-form';\nimport {\n\tobserver\n} from 'mobx-react';\nimport {\n\tActions,\n\tStore\n} from 'kr/Redux';\nimport http from 'kr/Redux/Utils/fetch';\n\nimport {\n\tTabs,\n\tTab,\n\tTable,\n\tTableBody,\n\tTableHeader,\n\tTableHeaderColumn,\n\tTableRow,\n\tTableRowColumn,\n\tTableFooter,\n\tDialog,\n\tSection,\n\tGrid,\n\tRow,\n\tCol,\n\tDrawer,\n\tNotify,\n\tSearchForms,\n\tButton,\n\tKrField,\n\tForm,\n\tLoading,\n\tBreadCrumbs,\n\tTitle,\n\tListGroup,\n\tListGroupItem,\n\tMessage\n} from 'kr-ui';\n\nimport './index.less'\nimport State from './State';\nimport NewCommunityList from './NewCommunityList'; \nimport SearchUpperForm from './SearchUpperForm'; \n@observer\nclass CommunityList  extends Component{\n\n\tconstructor(props,context){\n\t\tsuper(props, context);\n\t\tthis.state={\n\t\t\t\n\t\t}\n\t}\n\n   //新建社区开关\n   openAddCommunity=()=>{\n      State.switchNewCommunityList();\n   }\n   //新建社区提交\n   onNewCommunitySubmit=()=>{\n      State.onCommunitySubmit();\n   }\n   //查询\n   onSearchSubmit=(params)=>{\n   \t  let obj = {\n\t\t\tsearchKey: params.content,\n\t\t\tsearchType:params.filter\n\t\t}\t\n\t\tState.searchParams=obj\t\n   }\n   \n   //高级查询\n\topenSearchUpperDialog=()=>{\n\t  State.searchDataHere();\n      State.searchParams.opened='';\n      State.searchParams.openDateEnd='';\n      State.searchParams.openDateBegin='';\n      State.searchParams.businessAreaId='';\n      State.searchParams.portalShow='';\n      State.searchParams.cityId='';\n      State.searchParams.countyId='';\n      State.searchParams.searchKey='';\n      State.searchParams.searchType='';\n      State.searchUpperCustomer();\n      \n\t}\n\n\n\tcomponentDidMount(){\n\t\t\n\t}\n\n   //高级查询提交\n     onSearchUpperSubmit=(searchParams)=>{\n     \tsearchParams = Object.assign({},State.searchParams, searchParams);\n     \tsearchParams.time=+new Date();\n\t\tif(searchParams.openDateBegin!=''&&searchParams.openDateEnd!=''&&searchParams.openDateEnd<searchParams.openDateBegin){\n\t\t\t Message.error('开始时间不能大于结束时间');\n\t         return ;\n\t\t}\n\t\tif(searchParams.openDateBegin==''&&searchParams.openDateEnd!=''){\n\t\t\tsearchParams.openDateBegin=searchParams.openDateEnd\n\t\t}\n\t\tif(searchParams.openDateBegin!=''&&searchParams.openDateEnd==''){\n\t\t\tsearchParams.openDateEnd=searchParams.openDateBegin\n\t\t}\n      \t\n      \tState.searchParams=searchParams;\n      \tState.searchUpperCustomer();\n     }\n\n\n\n\trender(){\n\n\t\tlet searchFilter=[\n            {\n            \tlabel:'社区名称',\n            \tvalue:'NAME'\n            },\n            {\n            \tlabel:'社区编码',\n            \tvalue:'CODE'\n            },\n\n\t\t]\n\n        let {cityNull}=this.state;\n\n\t\treturn(\n\n\t\t\t<div className='community-list'>\n\t\t\t\t<Title value=\"社区列表\"/>\n\t\t\t\t<Section title=\"社区排序\" description=\"\" style={{marginBottom:-5,minHeight:910}}>\n\t\t\t\t<Row style={{marginBottom:21,position:'relative',zIndex:5}}>\n\n\t\t\t          <Col\n\t\t\t\t\t     style={{float:'left'}}\n\t\t\t\t\t   >\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"新建社区\"\n\t\t\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\t\t\tonTouchTap={this.openAddCommunity}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t  </Col>\n           \n                      <Col  style={{marginTop:0,float:\"right\",marginRight:-10}}>\n\t\t\t\t          <ListGroup>\n\t\t\t\t            <ListGroupItem><SearchForms placeholder='请输入关键字' searchFilter={searchFilter} onSubmit={this.onSearchSubmit}/></ListGroupItem>\n\t\t\t\t            <ListGroupItem><Button searchClick={this.openSearchUpperDialog}  type='search' searchStyle={{marginLeft:'20',marginTop:'3'}}/></ListGroupItem>\n\t\t\t\t          </ListGroup>\n\t\t\t          </Col>\n\n\t          </Row>\n\n\t         <Table\n\t\t\t    style={{marginTop:8}}\n                ajax={true}\n                onOperation={this.onOperation}\n\t            displayCheckbox={true}\n\t            onSelect={this.onSelect}\n\t            onLoaded={this.onLoaded}\n\t            ajaxParams={State.searchParams}\n\t            ajaxUrlName='communitySearch'\n\t            ajaxFieldListName=\"items\"\n\t\t\t\t\t  >\n\t\t            <TableHeader>\n\t\t              <TableHeaderColumn>社区名编码</TableHeaderColumn>\n\t\t              <TableHeaderColumn>所属城市</TableHeaderColumn>\n\t\t              <TableHeaderColumn>社区名称</TableHeaderColumn>\n\t\t              <TableHeaderColumn>社区排序</TableHeaderColumn>\n\t\t              <TableHeaderColumn>官网显示状态</TableHeaderColumn>\n\t\t              <TableHeaderColumn>开业时间</TableHeaderColumn>\n\t\t              <TableHeaderColumn>社区面积m</TableHeaderColumn>\n\t\t              <TableHeaderColumn>开业状态</TableHeaderColumn>\n\t\t              <TableHeaderColumn>操作</TableHeaderColumn>\n\t\t          \t</TableHeader>\n\n\t\t\t        <TableBody >\n\t\t\t              <TableRow>\n\t\t\t                <TableRowColumn name=\"code\"></TableRowColumn>\n\t\t\t                <TableRowColumn name=\"cityName\"></TableRowColumn>\n\t\t\t                <TableRowColumn name=\"name\"></TableRowColumn>\n\t\t\t                <TableRowColumn name=\"orderNum\"></TableRowColumn>\n\t\t\t                <TableRowColumn name=\"portalShow\" options={[{label:'显示',value:'true'},{label:'不显示',value:'false'}]}></TableRowColumn>\n\t\t\t                <TableRowColumn name=\"openDate\"></TableRowColumn>\n\t\t\t                <TableRowColumn name=\"area\"></TableRowColumn>\n\t\t\t                <TableRowColumn name=\"opened\" options={[{label:'已开业',value:'true'},{label:'未开业',value:'false'}]}></TableRowColumn>\n\t\t\t                <TableRowColumn type=\"operation\">\n\t\t\t                    <Button label=\"编辑\"  type=\"operation\"  operation=\"watch\" />\n\t\t\t                </TableRowColumn>\n\t\t\t               </TableRow>\n\t\t\t        </TableBody>\n\t\t\t        <TableFooter></TableFooter>\n            </Table>\n\n                   {/*新建*/}\n\t\t\t\t\t<Drawer\n\t\t\t\t        open={State.openNewCommunity}\n\t\t\t\t        width={750}\n\t\t\t\t        openSecondary={true}\n\t\t\t\t        containerStyle={{top:60,paddingBottom:48,zIndex:20}}\n\t\t\t        >\n\t\t\t\t\t\t<NewCommunityList\n\t\t\t\t\t\t\t\tonSubmit={this.onNewCommunitySubmit}\n\t\t\t\t\t\t\t\tonCancel={this.openAddCommunity}\n\t\t\t\t\t\t\t\topen={State.openNewCommunity}\n\t\t\t\t\t\t/>\n\n\t\t            </Drawer>\n\n                    {/*高级查询*/}\n                    <Dialog\n\t\t\t\t\t\ttitle=\"高级查询\"\n\t\t\t\t\t\toperType=\"SHARE\"\n\t\t\t\t\t\tmodal={true}\n\t\t\t\t\t\tonClose={this.openSearchUpperDialog}\n\t\t\t\t\t\topen={State.openSearchUpper}\n\t\t\t\t\t\tcontentStyle ={{ width: '666',height:'458px',overflow:'visible'}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SearchUpperForm  \n\t\t\t\t\t\t    onCancel={this.openSearchUpperDialog}\n\t\t\t\t\t\t    onSubmit={this.onSearchUpperSubmit}\n\t\t\t\t\t\t/>\n\t\t\t\t    </Dialog>\n\n\n       \n       </Section>\n\n\t </div>\n\t );\n\t}\n\n}\n\nexport default CommunityList\n"]}