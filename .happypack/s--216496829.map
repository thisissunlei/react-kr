{"version":3,"sources":["src/Containers/Operation/BasicConfig/EquipmentDefinition/EditEquipmentForm.js"],"names":["EditEquipmentForm","props","context","getBasicData","detail","_this","SearchLocationParams","communityId","whereFloor","floor","dispatch","callAPI","then","response","locationArr","i","length","label","boardroomname","value","id","setState","locationOptions","arrNew","whereFloors","floorsOptions","propertyOption","catch","err","propertyId","locationOpen","state","onCancel","onChangeSearchCommunity","community","CommunityId","getFloorByComunityFun","onchooseType","typeId","onchooseProperty","onchooseCorrespondingFunction","functionId","onchooseCorrespondingLocation","locationId","getFloor","onChangeTitle","showTitle","doorNumHasFun","deviceCode","test","params","code","type","doorNumHasStatus","isDoorNumHas","doorNumHas","hardwareIdHasFun","hardwareId","hardwareidHasStatus","hardwareIdparams","defaultChecked","hardwareIdHas","chooseONLINE","e","isOnlines","onSubmit","values","enable","EditParams","deviceCodeParams","hardwareIdParams","console","log","closeEditEquipment","confirmSubmit","hardwareidHas","startDeviceCode","startHardwareId","nextProps","initializeValues","error","handleSubmit","pristine","reset","typeOptions","correspondingFunction","padding","width","margin","display","fontSize","color","marginTop","marginBottom","textAlign","marginRight","validate","errors","form","enableReinitialize","keepDirtyOnReinitialize"],"mappings":"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","file":"EditEquipmentForm.js","sourceRoot":"/Users/liuyihao/Code/kr-admin","sourcesContent":["\nimport React, {Component, PropTypes} from 'react';\nimport {connect} from 'kr/Redux';\nimport {reduxForm,formValueSelector,change,initialize,arrayPush,arrayInsert,FieldArray,reset} from 'redux-form';\nimport {Actions,Store} from 'kr/Redux';\nimport {ShallowEqual} from 'kr/Utils';\nimport {\n\tKrField,\n\tGrid,\n\tRow,\n\tListGroup,\n\tListGroupItem,\n\tButton,\n\tNotify,\n\terr\n} from 'kr-ui';\nclass EditEquipmentForm extends Component{\n\tconstructor(props,context){\n\t\tsuper(props,context);\n\t\tthis.detail = this.props.detail;\n\t\tthis.state={\n\t\t\tlocationOpen:false,\n\t\t\tfloorsOptions:[],\n\t\t\tlocationOptions:[],\n\t\t\tconfirmSubmit : false,\n\t\t\tdoorNumHas:false,\n\t\t\tcommunityId :'',\n\t\t\tpropertyOption :[{label:\"\",value:\"\"}],\n\t\t\tpropertyId :\"\",\n\t\t\thardwareidHas : false,\n\t\t\tisOnlines:true,\n\t\t\tshowTitle :'',\n\t\t\thardwareId:'',\n\t\t\ttypeId : '',\n\t\t\tstartDeviceCode : '',\n\t\t\tstartHardwareId : '',\n\t\t\tpropertyId :  '',\n\t\t\tfunctionId :  '',\n\t\t\tlocationId : '',\n\t\t\tid: '',\n\t\t\tinitializeValues:{},\n\t\t\t// 初始值设置为没有点击新增并添加\n\t\t\tisNewAndAdd : false\n\t\t}\n\t}\n\t//首次加载，只执行一次\n\tcomponentWillMount() {\n\t\tthis.getBasicData(this.detail);\n\t}\n\tcomponentWillReceiveProps(nextProps){\n\t\tif(!ShallowEqual(this.state.initializeValues,nextProps.detail)){\n\t\t\tthis.setState({\n\t\t\t\tinitializeValues:nextProps.detail\n\t\t\t})\n\t\t}\n\t}\n\tgetBasicData=(detail)=>{\n\t\tlet _this = this;\n\t\tlet SearchLocationParams = {communityId:detail.communityId,whereFloor:detail.floor}\n\t\tStore.dispatch(Actions.callAPI('getLocationByProperty',SearchLocationParams))\n\t\t.then(function(response){\n\t\t\tvar locationArr = []\n    \t\tfor (var i=0;i<response.length;i++){\n    \t\t\tlocationArr[i] = {label:response[i].boardroomname,value:response[i].id}\n    \t\t}\n    \t\t_this.setState({\n    \t\t\tlocationOptions : locationArr\n    \t\t})\n\t\t});\n\t\tStore.dispatch(Actions.callAPI('getFloorByComunity',{communityId:detail.communityId}))\n\t    \t.then(function(response){\n\t    \t\t// console.log(\"getFloorByComunity response\",response);\n\t    \t\tvar arrNew = []\n\t    \t\tfor (var i=0;i<response.whereFloors.length;i++){\n\t    \t\t\tarrNew[i] = {label:response.whereFloors[i],value:response.whereFloors[i]}\n\t    \t\t}\n\t    \t\t_this.setState({\n\t    \t\t\tfloorsOptions : arrNew,\n\t    \t\t\tfloor : detail.floor,\n\t    \t\t\tcommunityId : detail.communityId,\n\t    \t\t\tpropertyOption :[{label: '大门',value: 1},{label: '会议室',value: 2},{label: '独立办公室',value: 3}],\n\t    \t\t})\n\t    \t}).catch(function(err){\n    \t})\n\n\t\t_this.setState({\n\t\t\tid : detail.id,\n\t\t})\n\t\t\n\t\tif(detail.propertyId && detail.propertyId!==1){\n\t\t\t_this.setState({\n\t\t\t\tlocationOpen : !_this.state.locationOpen\n\t\t\t})\n\t\t}\n\t\tStore.dispatch(initialize('EditEquipmentForm', detail));\n\t}\n\tonCancel=()=>{\n\t\tconst {onCancel}=this.props;\n\t\tonCancel && onCancel();\n\t}\n\t// 社区模糊查询\n  \tonChangeSearchCommunity=(community)=>{\n  \t\tStore.dispatch(change('EditEquipmentForm', 'floor', \"\"));\n  \t\tStore.dispatch(change('EditEquipmentForm', 'propertyId', \"\"));\n  \t\tStore.dispatch(change('EditEquipmentForm', 'locationId', \"\"));\n  \t\tthis.setState({\n\t\t\tlocationOpen : false\n\t\t})\n  \t\tlet _this = this;\n  \t\tif(community == null){\n  \t\t\t_this.setState({\n  \t\t\t\tlocationOpen : false,\n  \t\t\t\tfloorsOptions : []\n  \t\t\t})\n  \t\t\tStore.dispatch(change('EditEquipmentForm', 'propertyId', \"\"))\n\t\t\treturn;\n\t\t}\n\t\tlet CommunityId = {\n\t\t\tcommunityId : community.id\n\t\t}\n\t\tthis.setState({\n\t\t\tcommunityId :community.id,\n\t\t\tlocationOpen : false\n\t\t})\n    \tStore.dispatch(change('EditEquipmentForm', 'communityId', community.communityId));\n    \tthis.getFloorByComunityFun(CommunityId);\n  \t}\n  \t// 根据社区Id获取楼层\n  \tgetFloorByComunityFun=(CommunityId)=>{\n  \t\tlet _this = this;\n  \t\tStore.dispatch(Actions.callAPI('getFloorByComunity',CommunityId))\n    \t.then(function(response){\n    \t\tvar arrNew = []\n    \t\tfor (var i=0;i<response.whereFloors.length;i++){\n    \t\t\tarrNew[i] = {label:response.whereFloors[i],value:response.whereFloors[i]}\n    \t\t}\n    \t\t_this.setState({\n    \t\t\tfloorsOptions : arrNew\n    \t\t})\n    \t}).catch(function(err){\n\n    \t})\n  \t}\n  \t//选择类型\n  \tonchooseType=(typeId)=>{\n  \t\tif(typeId == null){\n\t\t\treturn;\n\t\t}else{\n\t\t\tthis.setState({\n\t  \t\t\ttypeId :typeId.value,\n\t  \t\t})\n\t\t}\n    \tStore.dispatch(change('EditEquipmentForm','typeId',typeId.value));\n  \t}\n  \t//选择属性(获取会议室／大门)\n\tonchooseProperty=(propertyId)=>{\n\t\tlet _this = this;\n\t\tif(propertyId == null){\n\t\t\t_this.setState({\n  \t\t\t\tlocationOpen : false,\n  \t\t\t\tpropertyOption :[{label: '大门',value: 1},{label: '会议室',value: 2},{label: '独立办公室',value: 3}],\n\n  \t\t\t})\n  \t\t\treturn;\n\t\t}\n  \t\tif(propertyId.value == \"2\" || propertyId.value == \"3\" ){\n  \t\t\t_this.setState({\n  \t\t\t\tlocationOpen : true,\n  \t\t\t\tpropertyId : propertyId.value,\n  \t\t\t\tpropertyOption :[{label: '大门',value: 1},{label: '会议室',value: 2},{label: '独立办公室',value: 3}],\n\n  \t\t\t})\n  \t\t\tlet SearchLocationParams = {communityId:_this.state.communityId,whereFloor:_this.state.floor}\n  \t\t\tStore.dispatch(Actions.callAPI('getLocationByProperty',SearchLocationParams)).\n\t\t\tthen(function(response){\n\t\t\t\tvar locationArr = []\n\t    \t\tfor (var i=0;i<response.length;i++){\n\t    \t\t\tlocationArr[i] = {label:response[i].boardroomname,value:response[i].id}\n\t    \t\t}\n\t    \t\t_this.setState({\n\t    \t\t\tlocationOptions : locationArr\n\t    \t\t})\n\t\t\t});\t\n  \t\t}else{\n  \t\t\t_this.setState({\n  \t\t\t\tlocationOpen : false,\n  \t\t\t\tpropertyId : propertyId.value,\n  \t\t\t\tpropertyOption :[{label: '大门',value: 1},{label: '会议室',value: 2},{label: '独立办公室',value: 3}],\n\n  \t\t\t})\n  \t\t}\n  \t\tStore.dispatch(change('EditEquipmentForm','propertyId',propertyId.value));\n  \t\tStore.dispatch(change('EditEquipmentForm','locationId',\"\"));\n  // \t\tthis.setState({\n\t\t// \tstatusClick : 1\n\t\t// })\n  \t}\n\t//选择对应功能\n\tonchooseCorrespondingFunction=(functionId)=>{\n\t\tif(functionId == null){\n\t\t\treturn;\n\t\t}\n\t\tthis.setState({\n\t\t\tfunctionId : functionId.value\n\t\t})\n\t\t\n    \tStore.dispatch(change('EditEquipmentForm','functionId',functionId.value));\n\t}\n\t// 选择对应位置\n\tonchooseCorrespondingLocation=(locationId)=>{\n\t\tif(locationId == null){\n\t\t\treturn;\n\t\t}\n\t\tthis.setState({\n\t\t\tlocationId : locationId.value\n\t\t})\n\t\tStore.dispatch(change('EditEquipmentForm','locationId',locationId.value));\n\t}\n\t// 选择楼层\n\tgetFloor=(floor)=>{\n\t\tlet _this = this;\n\t\tif(!floor){\n\t\t\t_this.setState({\n\t\t\t\tpropertyOption :[{label: '',value: ''}],\n\t\t\t\tlocationOpen :false,\n\t\t\t})\n\t\t\tStore.dispatch(change('EditEquipmentForm', 'propertyId', \"\"));\n\t\t}else{\n\t\t\t_this.setState({\n\t\t\t\tfloor : floor.value,\n\t\t\t\tpropertyOption :[{label: '大门',value: 1},{label: '会议室',value: 2},{label: '独立办公室',value: 3}]\n\t\t\t})\n\t\t}\n\t}\n\tonChangeTitle=(showTitle)=>{\n\t\tStore.dispatch(change('EditEquipmentForm','showTitle',showTitle));\n\t\tthis.setState({\n\t\t\tshowTitle : showTitle\n\t\t})\n\t}\n\t// 判断门编号是否存在\n\tdoorNumHasFun=(deviceCode)=>{\n\t\tif(!deviceCode || /^\\s+$/.test(deviceCode)){\n\t\t\treturn;\n\t\t}\n\t\tlet _this = this;\n\t\tlet params = {\n\t\t\tcode :deviceCode,\n\t\t\ttype :\"deviceCode\",\n\t\t\tid : this.detail.id\n\t\t}\n\t\tStore.dispatch(Actions.callAPI('doorNumberAndHardwareId',params)).\n\t\tthen(function(response){\n\t\t\t_this.setState({\n\t \t\t\tdoorNumHasStatus : false\n\t \t\t})\n\t\t}).catch(function(err){\n\t \t\tlet {isDoorNumHas} = _this.props;\n\t \t\tisDoorNumHas && isDoorNumHas();\n\t \t\t_this.setState({\n\t \t\t\tdoorNumHas:true,\n\t \t\t\tdoorNumHasStatus : true,\n\t \t\t})\n\t\t});\t\n\t}\n\t// 判断智能硬件ID是否存在\n\thardwareIdHasFun=(hardwareId)=>{\n\t\tlet _this = this;\n\t\tthis.setState({\n\t\t\thardwareidHasStatus:false,\n\t\t\thardwareId :hardwareId\n\t\t})\n\t\tif(!hardwareId || /^\\s+$/.test(hardwareId)){\n\t\t\treturn;\n\t\t}\n\t\tlet hardwareIdparams = {\n\t\t\tcode :hardwareId,\n\t\t\ttype :\"hardwareid\",\n\t\t\tid : this.detail.id\n\t\t}\n\t\tStore.dispatch(Actions.callAPI('doorNumberAndHardwareId',hardwareIdparams))\n\t\t.then(function(response){\n\t \t\t_this.setState({\n\t \t\t\thardwareidHasStatus : false,\n\t \t\t\tdefaultChecked : true\n\t \t\t})\t\n\t\t}).catch(function(err){\n\t \t\tlet {hardwareIdHas} = _this.props;\n\t \t\thardwareIdHas && hardwareIdHas();\n\t \t\t_this.setState({\n\t \t\t\thardwareidHasStatus: true,\n\t \t\t\tdefaultChecked : true\n\t \t\t})\t\n\t\t});\n\t}\n\t// 是否上线\n\tchooseONLINE=(e)=>{\n\t\tthis.setState({\n\t\t\tisOnlines : !this.state.isOnlines\n\t\t},function(){\n\t\t\tStore.dispatch(change('EditEquipmentForm','enable',this.state.isOnlines));\n\t\t})\n\t}\n\t// 编辑设备定义\n\tonSubmit=(values)=>{\n\t\tvalues.id = this.state.id;\n\t\tlet _this = this;\n\t\tvalues.enable = this.state.isOnlines?\"ONLINE\":\"OFFLINE\";\n\t\t// if(this.state.doorNumHasStatus){\n\t\t// \tlet {isDoorNumHas} =this.props;\n\t\t// \tisDoorNumHas && isDoorNumHas();\n\t\t// \treturn;\n\t\t// }\n\t\t// if(this.state.hardwareidHasStatus){\n\t\t// \tlet {hardwareIdHas} =this.props;\n\t\t// \thardwareIdHas && hardwareIdHas();\n\t\t// \treturn;\n\t\t// }\n\t\tlet EditParams = {\n\t\t\t\tcommunityId : values.communityId,\n\t\t\t\tdeviceCode : values.deviceCode,\n\t\t\t\tenable : values.enable,\n\t\t\t\tfloor : values.floor,\n\t\t\t\tfunctionId : values.functionId,\n\t\t\t\thardwareId : values.hardwareId,\n\t\t\t\tid : values.id,\n\t\t\t\tlocationId : values.locationId,\n\t\t\t\tpropertyId : values.propertyId,\n\t\t\t\tshowTitle : values.showTitle,\n\t\t\t\ttypeId : values.typeId\n\t\t\t}\n\t\t// 此处判断门编号是否存在\n\t\tlet deviceCodeParams = {\n\t\t\tcode :values.deviceCode,\n\t\t\ttype :\"deviceCode\",\n\t\t\tid : values.id\n\t\t}\n\t\tlet hardwareIdParams  = {\n\t\t\tcode :values.hardwareId,\n\t\t\ttype :\"hardwareid\",\n\t\t\tid :values.id\n\t\t}\n\t\tStore.dispatch(Actions.callAPI('doorNumberAndHardwareId',deviceCodeParams)).\n\t\tthen(function(response){\n\t\t\tconsole.log(\"门编号不存在\")\n\t\t\tStore.dispatch(Actions.callAPI('doorNumberAndHardwareId',hardwareIdParams)).\n\t\t\tthen(function(response){\n\n\t\t\t\tconsole.log(\"硬件ID不存在\")\n\t\t\t\tconst  {onSubmit} = _this.props;\n\t\t\t\tonSubmit && onSubmit(EditParams);\n \n\t\t\t}).catch(function(err){\n\t\t\t\tconsole.log(\"硬件ID存在\")\n\t\t \t\tlet {hardwareIdHas} = _this.props;\n\t\t \t\t hardwareIdHas &&  hardwareIdHas();\n\t\t\t});\n\t\t}).catch(function(err){\n\t\t\tconsole.log(\"门编号存在\")\n\t \t\tlet {isDoorNumHas} = _this.props;\n\t \t\tisDoorNumHas && isDoorNumHas();\n\t\t});\t\n\t\t\n\t}\n\t// 关闭编辑窗口\n\tcloseEditEquipment =()=>{\n\t\tconst {closeEditEquipment} = this.props;\n\t\tcloseEditEquipment && closeEditEquipment(); \n\t}\n\trender(){\n\t\tlet {floorsOptions,propertyOption,propertyId,locationOptions,defaultChecked} =this.state;\n\t\tconst { error,handleSubmit,pristine,reset,detail} = this.props;\n\t\t// 类型待选项\n\t\tlet typeOptions = [{\n\t\t\tlabel: '门禁',\n\t\t\tvalue: 1\n\t\t}];\n\t\t// 对应功能选项\n\t\tlet correspondingFunction =[{\n\t\t\tlabel: '开门',\n\t\t\tvalue: 1\n\t\t},{\n\t\t\tlabel: '开门／预定',\n\t\t\tvalue: 2\n\t\t},{\n\t\t\tlabel: '预定',\n\t\t\tvalue: 3\n\t\t}]\n\t\treturn(\n\t\t\t<div style={{padding:'35px 0 0 35px'}}>\n\t\t\t\t<form onSubmit={handleSubmit(this.onSubmit)}>\n\t\t\t\t\t<KrField name=\"communityId\" \n\t\t\t\t\t\tcomponent=\"searchCommunity\" \n\t\t\t\t\t\tonChange = {this.onChangeSearchCommunity}\n\t\t\t\t\t\tlabel=\"社区名称\"  \n\t\t\t\t\t\trequireLabel={true} \n\t\t\t\t\t\tstyle={{width:252,margin:'0 35px 5px 0'}}\n\t\t\t\t\t/>\n\t\t\t\t\t<KrField name=\"floor\" \n\t\t\t\t\t\tcomponent=\"select\" \n\t\t\t\t\t\tlabel=\"楼层\" \n\t\t\t\t\t\toptions = {floorsOptions}\n\t\t\t\t\t\trequireLabel={true}  \n\t\t\t\t\t\tstyle={{width:'252px'}}\n\t\t\t\t\t\tonChange = {this.getFloor}\n\t\t\t\t\t/>\n\t\t\t\t\t<KrField grid={1/2} name=\"showTitle\"\n\t\t\t\t\t\tcomponent = \"input\"\n\t\t\t\t\t\tref = \"showTitleInput\" \n\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\tlabel=\"展示标题\" \n\t\t\t\t\t\trequireLabel={true} \n\t\t\t\t\t\tstyle={{width:'252px',margin:'0 35px 5px 0'}}\n\t\t\t\t\t\tonBlur = {this.onChangeTitle}\n\t\t\t\t\t/>\n\t\t\t\t\t<KrField grid={1/2} name=\"deviceCode\" \n\t\t\t\t\t\tcomponent = \"input\"\n\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\tlabel=\"门编号\" \n\t\t\t\t\t\trequireLabel={true} \n\t\t\t\t\t\tstyle={{width:'252px'}}\n\t\t\t\t\t\tonBlur = {this.doorNumHasFun}\n\t\t\t\t\t/>\n\t\t\t\t\t<KrField grid={1/2} name=\"hardwareId\"\n\t\t\t\t\t\tcomponent = \"input\" \n\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\tlabel=\"智能硬件ID\" \n\t\t\t\t\t\trequireLabel={true}  \n\t\t\t\t\t\tstyle={{width:'252px',margin:'0 35px 5px 0'}}\n\t\t\t\t\t\tonBlur = {this.hardwareIdHasFun}\n\t\t\t\t\t/>\n\t\t\t\t\t<KrField name=\"typeId\" \n\t\t\t\t\t\tcomponent=\"select\" \n\t\t\t\t\t\tlabel=\"类型\" \n\t\t\t\t\t\tonChange = {this.onchooseType}\n\t\t\t\t\t\toptions={typeOptions} \n\t\t\t\t\t\trequireLabel={true}  \n\t\t\t\t\t\tstyle={{width:'252px'}}\n\t\t\t\t\t/>\n\t\t\t\t\t<KrField name=\"propertyId\" \n\t\t\t\t\t\tcomponent=\"select\" \n\t\t\t\t\t\tlabel=\"属性\"\n\t\t\t\t\t\tonChange = {this.onchooseProperty}\n\t\t\t\t\t\toptions={propertyOption}  \n\t\t\t\t\t\trequireLabel={true} \n\t\t\t\t\t\tstyle={{width:'252px',margin:'0 35px 5px 0'}}\n\t\t\t\t\t/>\n\t\t\t\t\t<KrField name=\"functionId\" \n\t\t\t\t\t\tcomponent=\"select\" \n\t\t\t\t\t\toptions={correspondingFunction}\n\t\t\t\t\t\tlabel=\"对应功能\"\n\t\t\t\t\t\tonChange = {this.onchooseCorrespondingFunction}  \n\t\t\t\t\t\trequireLabel={true} \n\t\t\t\t\t\tstyle={{width:'252px'}}\n\t\t\t\t\t\tref= \"loacationKrfield\"\n\t\t\t\t\t/>\n\t\t\t\t\t<KrField name=\"locationId\" \n\t\t\t\t\t\tcomponent=\"select\" \n\t\t\t\t\t\toptions={locationOptions}\n\t\t\t\t\t\tlabel=\"对应位置\"\n\t\t\t\t\t\tonChange = {this.onchooseCorrespondingLocation}  \n\t\t\t\t\t\tstyle={{width:'252px',display:this.state.locationOpen?'block':'none'}}\n\t\t\t\t\t/>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<input type=\"checkbox\"  defaultChecked={this.state.isOnlines} onChange={this.chooseONLINE}/> \n\t\t\t\t\t\t<span style={{fontSize:14,color:\"#333333\"}} >保存后自动上线</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<Grid style={{marginTop:19,marginBottom:'4px'}}>\n\t\t\t\t\t\t<Row style={{textAlign:'center'}}>\n\t\t\t\t\t\t\t<ListGroup >\n\t\t\t\t\t\t\t\t<ListGroupItem style={{padding:0,display:'inline-block',marginRight:30}}>\n\t\t\t\t\t\t\t\t\t<Button  label=\"提交\" type=\"submit\"/>\n\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t\t<ListGroupItem style={{padding:0,display:'inline-block',marginRight:3}}>\n\t\t\t\t\t\t\t\t\t<Button  label=\"取消\" type=\"button\"  cancle={true} onTouchTap={this.closeEditEquipment} />\n\t\t\t\t\t\t\t\t</ListGroupItem>\n\t\t\t\t\t\t\t</ListGroup>\t\t\t\t\t\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Grid>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t);\n\t}\n}\nconst validate = values=>{\n\tconst errors={};\n\tif(!values.communityId){\n\t\terrors.communityId = '社区名称为必填项';\n\t}\n\tif(!values.floor){\n\t\terrors.floor = '楼层为必填项,社区已选才有楼层配置';\n\t}\n\tif(!values.showTitle || /^\\s+$/.test(values.showTitle)){\n\t\terrors.showTitle = '展示标题为必填项';\n\t}\n\tif(values.showTitle && values.showTitle.length>13){\n\t\terrors.showTitle = '展示标题最多13个字符';\n\t}\n\tif(!values.deviceCode || /^\\s+$/.test(values.showTitle)){\n\t\terrors.deviceCode = '门编号为必填项';\n\t}\n\tif(values.deviceCode  && values.deviceCode.length>50){\n\t\terrors.deviceCode = '门编号最多50个字符';\n\t}\n\tif(!values.hardwareId || /^\\s+$/.test(values.hardwareId)){\n\t\terrors.hardwareId = '智能硬件ID为必填项';\n\t}\n\tif(values.hardwareId && values.hardwareId.length>50){\n\t\terrors.hardwareId = '智能硬件ID最多50个字符';\n\t}\n\tif(!values.typeId){\n\t\terrors.typeId = '类型为必填项';\n\t}\n\tif(!values.propertyId){\n\t\terrors.propertyId = '属性为必填项';\n\t}\n\t// if(values.property == \"meetingRoom\" || values.property == \"functionRoom\" ){\n\t// \tif(!values.locationId){\n\t// \t\terrors.locationId = '对应位置为必填项';\n\t// \t}\n\t// }\n\tif(!values.functionId){\n\t\terrors.functionId = '对应功能为必填项';\n\t}\n\treturn errors;\n}\nexport default EditEquipmentForm = reduxForm({\n\tform: 'EditEquipmentForm',\n\tvalidate,\n\tenableReinitialize: true,\n\tkeepDirtyOnReinitialize: true,\n})(EditEquipmentForm);"]}