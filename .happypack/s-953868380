'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.dateTimeFormat = dateTimeFormat;
exports.addDays = addDays;
exports.addMonths = addMonths;
exports.addYears = addYears;
exports.cloneDate = cloneDate;
exports.cloneAsDate = cloneAsDate;
exports.getDaysInMonth = getDaysInMonth;
exports.getFirstDayOfMonth = getFirstDayOfMonth;
exports.getFirstDayOfWeek = getFirstDayOfWeek;
exports.getWeekArray = getWeekArray;
exports.localizedWeekday = localizedWeekday;
exports.formatIso = formatIso;
exports.isEqualDate = isEqualDate;
exports.isBeforeDate = isBeforeDate;
exports.isAfterDate = isAfterDate;
exports.isBetweenDates = isBetweenDates;
exports.monthDiff = monthDiff;
exports.yearDiff = yearDiff;

var _warning = require('warning');

var _warning2 = _interopRequireDefault(_warning);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

//const dayAbbreviation = ['S', 'M', 'T', 'W', 'T', 'F', 'S'];
var dayAbbreviation = ['日', '一', '二', '三', '四', '五', '六'];
//const dayList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
var dayList = ['日', '一', '二', '三', '四', '五', '六'];
//const monthList = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
var monthList = ['一', '二', '三', '四', '五', '六', '七', '八', '九', '十', '十一', '十二'];
//const monthLongList = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];

var monthLongList = ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'];

function dateTimeFormat(locale, options) {
  process.env.NODE_ENV !== "production" ? (0, _warning2.default)(locale === 'en-US', 'Material-UI: The ' + locale + ' locale is not supported by the built-in DateTimeFormat.\n  Use the `DateTimeFormat` prop to supply an alternative implementation.') : void 0;

  this.format = function (date) {
    if (options.month === 'short' && options.weekday === 'short' && options.day === '2-digit') {
      return dayList[date.getDay()] + ', ' + monthList[date.getMonth()] + ' ' + date.getDate();
    } else if (options.year === 'numeric' && options.month === 'numeric' && options.day === 'numeric') {
      return date.getMonth() + 1 + '/' + date.getDate() + '/' + date.getFullYear();
    } else if (options.year === 'numeric' && options.month === 'long') {
      return monthLongList[date.getMonth()] + ' ' + date.getFullYear();
    } else if (options.weekday === 'narrow') {
      return dayAbbreviation[date.getDay()];
    } else if (options.year === 'numeric') {
      return date.getFullYear().toString();
    } else if (options.day === 'numeric') {
      return date.getDate();
    } else {
      process.env.NODE_ENV !== "production" ? (0, _warning2.default)(false, 'Material-UI: Wrong usage of DateTimeFormat') : void 0;
    }
  };
}

function addDays(d, days) {
  var newDate = cloneDate(d);
  newDate.setDate(d.getDate() + days);
  return newDate;
}

function addMonths(d, months) {
  var newDate = cloneDate(d);
  newDate.setMonth(d.getMonth() + months);
  return newDate;
}

function addYears(d, years) {
  var newDate = cloneDate(d);
  newDate.setFullYear(d.getFullYear() + years);
  return newDate;
}

function cloneDate(d) {
  return new Date(d.getTime());
}

function cloneAsDate(d) {
  var clonedDate = cloneDate(d);
  clonedDate.setHours(0, 0, 0, 0);
  return clonedDate;
}

function getDaysInMonth(d) {
  var resultDate = getFirstDayOfMonth(d);

  resultDate.setMonth(resultDate.getMonth() + 1);
  resultDate.setDate(resultDate.getDate() - 1);

  return resultDate.getDate();
}

function getFirstDayOfMonth(d) {
  return new Date(d.getFullYear(), d.getMonth(), 1);
}

function getFirstDayOfWeek() {
  var now = new Date();
  return new Date(now.setDate(now.getDate() - now.getDay()));
}

function getWeekArray(d, firstDayOfWeek) {
  var dayArray = [];
  var daysInMonth = getDaysInMonth(d);
  var weekArray = [];
  var week = [];

  for (var i = 1; i <= daysInMonth; i++) {
    dayArray.push(new Date(d.getFullYear(), d.getMonth(), i));
  }

  var addWeek = function addWeek(week) {
    var emptyDays = 7 - week.length;
    for (var _i = 0; _i < emptyDays; ++_i) {
      week[weekArray.length ? 'push' : 'unshift'](null);
    }
    weekArray.push(week);
  };

  dayArray.forEach(function (day) {
    if (week.length > 0 && day.getDay() === firstDayOfWeek) {
      addWeek(week);
      week = [];
    }
    week.push(day);
    if (dayArray.indexOf(day) === dayArray.length - 1) {
      addWeek(week);
    }
  });

  return weekArray;
}

function localizedWeekday(DateTimeFormat, locale, day, firstDayOfWeek) {
  var weekdayFormatter = new DateTimeFormat(locale, { weekday: 'narrow' });
  var firstDayDate = getFirstDayOfWeek();

  return weekdayFormatter.format(addDays(firstDayDate, day + firstDayOfWeek));
}

// Convert date to ISO 8601 (YYYY-MM-DD) date string, accounting for current timezone
function formatIso(date) {
  return new Date(date.toDateString() + ' 12:00:00 +0000').toISOString().substring(0, 10);
}

function isEqualDate(d1, d2) {
  return d1 && d2 && d1.getFullYear() === d2.getFullYear() && d1.getMonth() === d2.getMonth() && d1.getDate() === d2.getDate();
}

function isBeforeDate(d1, d2) {
  var date1 = cloneAsDate(d1);
  var date2 = cloneAsDate(d2);

  return date1.getTime() < date2.getTime();
}

function isAfterDate(d1, d2) {
  var date1 = cloneAsDate(d1);
  var date2 = cloneAsDate(d2);

  return date1.getTime() > date2.getTime();
}

function isBetweenDates(dateToCheck, startDate, endDate) {
  return !isBeforeDate(dateToCheck, startDate) && !isAfterDate(dateToCheck, endDate);
}

function monthDiff(d1, d2) {
  var m = void 0;
  m = (d1.getFullYear() - d2.getFullYear()) * 12;
  m += d1.getMonth();
  m -= d2.getMonth();
  return m;
}

function yearDiff(d1, d2) {
  return ~~(monthDiff(d1, d2) / 12);
}
;

var _temp = function () {
  if (typeof __REACT_HOT_LOADER__ === 'undefined') {
    return;
  }

  __REACT_HOT_LOADER__.register(dayAbbreviation, 'dayAbbreviation', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(dayList, 'dayList', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(monthList, 'monthList', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(monthLongList, 'monthLongList', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(dateTimeFormat, 'dateTimeFormat', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(addDays, 'addDays', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(addMonths, 'addMonths', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(addYears, 'addYears', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(cloneDate, 'cloneDate', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(cloneAsDate, 'cloneAsDate', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(getDaysInMonth, 'getDaysInMonth', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(getFirstDayOfMonth, 'getFirstDayOfMonth', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(getFirstDayOfWeek, 'getFirstDayOfWeek', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(getWeekArray, 'getWeekArray', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(localizedWeekday, 'localizedWeekday', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(formatIso, 'formatIso', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(isEqualDate, 'isEqualDate', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(isBeforeDate, 'isBeforeDate', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(isAfterDate, 'isAfterDate', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(isBetweenDates, 'isBetweenDates', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(monthDiff, 'monthDiff', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');

  __REACT_HOT_LOADER__.register(yearDiff, 'yearDiff', '/Users/liuyihao/Code/kr-admin/src/Components/DatePicker/DatePicker/dateUtils.js');
}();

;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9Db21wb25lbnRzL0RhdGVQaWNrZXIvRGF0ZVBpY2tlci9kYXRlVXRpbHMuanMiXSwibmFtZXMiOlsiZGF0ZVRpbWVGb3JtYXQiLCJhZGREYXlzIiwiYWRkTW9udGhzIiwiYWRkWWVhcnMiLCJjbG9uZURhdGUiLCJjbG9uZUFzRGF0ZSIsImdldERheXNJbk1vbnRoIiwiZ2V0Rmlyc3REYXlPZk1vbnRoIiwiZ2V0Rmlyc3REYXlPZldlZWsiLCJnZXRXZWVrQXJyYXkiLCJsb2NhbGl6ZWRXZWVrZGF5IiwiZm9ybWF0SXNvIiwiaXNFcXVhbERhdGUiLCJpc0JlZm9yZURhdGUiLCJpc0FmdGVyRGF0ZSIsImlzQmV0d2VlbkRhdGVzIiwibW9udGhEaWZmIiwieWVhckRpZmYiLCJkYXlBYmJyZXZpYXRpb24iLCJkYXlMaXN0IiwibW9udGhMaXN0IiwibW9udGhMb25nTGlzdCIsImxvY2FsZSIsIm9wdGlvbnMiLCJmb3JtYXQiLCJkYXRlIiwibW9udGgiLCJ3ZWVrZGF5IiwiZGF5IiwiZ2V0RGF5IiwiZ2V0TW9udGgiLCJnZXREYXRlIiwieWVhciIsImdldEZ1bGxZZWFyIiwidG9TdHJpbmciLCJkIiwiZGF5cyIsIm5ld0RhdGUiLCJzZXREYXRlIiwibW9udGhzIiwic2V0TW9udGgiLCJ5ZWFycyIsInNldEZ1bGxZZWFyIiwiRGF0ZSIsImdldFRpbWUiLCJjbG9uZWREYXRlIiwic2V0SG91cnMiLCJyZXN1bHREYXRlIiwibm93IiwiZmlyc3REYXlPZldlZWsiLCJkYXlBcnJheSIsImRheXNJbk1vbnRoIiwid2Vla0FycmF5Iiwid2VlayIsImkiLCJwdXNoIiwiYWRkV2VlayIsImVtcHR5RGF5cyIsImxlbmd0aCIsImZvckVhY2giLCJpbmRleE9mIiwiRGF0ZVRpbWVGb3JtYXQiLCJ3ZWVrZGF5Rm9ybWF0dGVyIiwiZmlyc3REYXlEYXRlIiwidG9EYXRlU3RyaW5nIiwidG9JU09TdHJpbmciLCJzdWJzdHJpbmciLCJkMSIsImQyIiwiZGF0ZTEiLCJkYXRlMiIs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c0JDLEVBQXRCLEVBQTBCO0FBQy9CLFNBQU8sQ0FBQyxFQUFFcEQsVUFBVW1ELEVBQVYsRUFBY0MsRUFBZCxJQUFvQixFQUF0QixDQUFSO0FBQ0Q7Ozs7Ozs7O2dDQS9KS2xELGU7O2dDQUVBQyxPOztnQ0FFQUMsUzs7Z0NBSUFDLGE7O2dDQUVVckIsYzs7Z0NBdUJBQyxPOztnQ0FNQUMsUzs7Z0NBTUFDLFE7O2dDQU1BQyxTOztnQ0FJQUMsVzs7Z0NBTUFDLGM7O2dDQVNBQyxrQjs7Z0NBSUFDLGlCOztnQ0FLQUMsWTs7Z0NBZ0NBQyxnQjs7Z0NBUUFDLFM7O2dDQUlBQyxXOztnQ0FPQUMsWTs7Z0NBT0FDLFc7O2dDQU9BQyxjOztnQ0FLQUMsUzs7Z0NBUUFDLFEiLCJmaWxlIjoiZGF0ZVV0aWxzLmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9saXV5aWhhby9Db2RlL2tyLWFkbWluIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHdhcm5pbmcgZnJvbSAnd2FybmluZyc7XG5cbi8vY29uc3QgZGF5QWJicmV2aWF0aW9uID0gWydTJywgJ00nLCAnVCcsICdXJywgJ1QnLCAnRicsICdTJ107XG5jb25zdCBkYXlBYmJyZXZpYXRpb24gPSBbJ+aXpScsICfkuIAnLCAn5LqMJywgJ+S4iScsICflm5snLCAn5LqUJywgJ+WFrSddO1xuLy9jb25zdCBkYXlMaXN0ID0gWydTdW4nLCAnTW9uJywgJ1R1ZScsICdXZWQnLCAnVGh1JywgJ0ZyaScsICdTYXQnXTtcbmNvbnN0IGRheUxpc3QgPSBbJ+aXpScsICfkuIAnLCAn5LqMJywgJ+S4iScsICflm5snLCAn5LqUJywgJ+WFrSddO1xuLy9jb25zdCBtb250aExpc3QgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJywgJ09jdCcsICdOb3YnLCAnRGVjJ107XG5jb25zdCBtb250aExpc3QgPSBbJ+S4gCcsICfkuownLCAn5LiJJywgJ+WbmycsICfkupQnLCAn5YWtJywgJ+S4gycsICflhasnLCAn5LmdJyxcbiAgJ+WNgScsICfljYHkuIAnLCAn5Y2B5LqMJ107XG4vL2NvbnN0IG1vbnRoTG9uZ0xpc3QgPSBbJ0phbnVhcnknLCAnRmVicnVhcnknLCAnTWFyY2gnLCAnQXByaWwnLCAnTWF5JywgJ0p1bmUnLCAnSnVseScsICdBdWd1c3QnLCAnU2VwdGVtYmVyJywgJ09jdG9iZXInLCAnTm92ZW1iZXInLCAnRGVjZW1iZXInXTtcblxuY29uc3QgbW9udGhMb25nTGlzdCA9IFsnMeaciCcsICcy5pyIJywgJzPmnIgnLCAnNOaciCcsICc15pyIJywgJzbmnIgnLCc35pyIJywgJzjmnIgnLCAnOeaciCcsICcxMOaciCcsICcxMeaciCcsICcxMuaciCddO1xuXG5leHBvcnQgZnVuY3Rpb24gZGF0ZVRpbWVGb3JtYXQobG9jYWxlLCBvcHRpb25zKSB7XG4gIHdhcm5pbmcobG9jYWxlID09PSAnZW4tVVMnLCBgTWF0ZXJpYWwtVUk6IFRoZSAke2xvY2FsZX0gbG9jYWxlIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGJ1aWx0LWluIERhdGVUaW1lRm9ybWF0LlxuICBVc2UgdGhlIFxcYERhdGVUaW1lRm9ybWF0XFxgIHByb3AgdG8gc3VwcGx5IGFuIGFsdGVybmF0aXZlIGltcGxlbWVudGF0aW9uLmApO1xuXG4gIHRoaXMuZm9ybWF0ID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgIGlmIChvcHRpb25zLm1vbnRoID09PSAnc2hvcnQnICYmIG9wdGlvbnMud2Vla2RheSA9PT0gJ3Nob3J0JyAmJiBvcHRpb25zLmRheSA9PT0gJzItZGlnaXQnKSB7XG4gICAgICByZXR1cm4gYCR7ZGF5TGlzdFtkYXRlLmdldERheSgpXX0sICR7bW9udGhMaXN0W2RhdGUuZ2V0TW9udGgoKV19ICR7ZGF0ZS5nZXREYXRlKCl9YDtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMueWVhciA9PT0gJ251bWVyaWMnICYmIG9wdGlvbnMubW9udGggPT09ICdudW1lcmljJyAmJiBvcHRpb25zLmRheSA9PT0gJ251bWVyaWMnKSB7XG4gICAgICByZXR1cm4gYCR7ZGF0ZS5nZXRNb250aCgpICsgMX0vJHtkYXRlLmdldERhdGUoKX0vJHtkYXRlLmdldEZ1bGxZZWFyKCl9YDtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMueWVhciA9PT0gJ251bWVyaWMnICYmIG9wdGlvbnMubW9udGggPT09ICdsb25nJykge1xuICAgICAgcmV0dXJuIGAke21vbnRoTG9uZ0xpc3RbZGF0ZS5nZXRNb250aCgpXX0gJHtkYXRlLmdldEZ1bGxZZWFyKCl9YDtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMud2Vla2RheSA9PT0gJ25hcnJvdycpIHtcbiAgICAgIHJldHVybiBkYXlBYmJyZXZpYXRpb25bZGF0ZS5nZXREYXkoKV07XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLnllYXIgPT09ICdudW1lcmljJykge1xuICAgICAgcmV0dXJuIGRhdGUuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5kYXkgPT09ICdudW1lcmljJykge1xuICAgICAgcmV0dXJuIGRhdGUuZ2V0RGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCAnTWF0ZXJpYWwtVUk6IFdyb25nIHVzYWdlIG9mIERhdGVUaW1lRm9ybWF0Jyk7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkRGF5cyhkLCBkYXlzKSB7XG4gIGNvbnN0IG5ld0RhdGUgPSBjbG9uZURhdGUoZCk7XG4gIG5ld0RhdGUuc2V0RGF0ZShkLmdldERhdGUoKSArIGRheXMpO1xuICByZXR1cm4gbmV3RGF0ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZE1vbnRocyhkLCBtb250aHMpIHtcbiAgY29uc3QgbmV3RGF0ZSA9IGNsb25lRGF0ZShkKTtcbiAgbmV3RGF0ZS5zZXRNb250aChkLmdldE1vbnRoKCkgKyBtb250aHMpO1xuICByZXR1cm4gbmV3RGF0ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFllYXJzKGQsIHllYXJzKSB7XG4gIGNvbnN0IG5ld0RhdGUgPSBjbG9uZURhdGUoZCk7XG4gIG5ld0RhdGUuc2V0RnVsbFllYXIoZC5nZXRGdWxsWWVhcigpICsgeWVhcnMpO1xuICByZXR1cm4gbmV3RGF0ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb25lRGF0ZShkKSB7XG4gIHJldHVybiBuZXcgRGF0ZShkLmdldFRpbWUoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZUFzRGF0ZShkKSB7XG4gIGNvbnN0IGNsb25lZERhdGUgPSBjbG9uZURhdGUoZCk7XG4gIGNsb25lZERhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIHJldHVybiBjbG9uZWREYXRlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF5c0luTW9udGgoZCkge1xuICBjb25zdCByZXN1bHREYXRlID0gZ2V0Rmlyc3REYXlPZk1vbnRoKGQpO1xuXG4gIHJlc3VsdERhdGUuc2V0TW9udGgocmVzdWx0RGF0ZS5nZXRNb250aCgpICsgMSk7XG4gIHJlc3VsdERhdGUuc2V0RGF0ZShyZXN1bHREYXRlLmdldERhdGUoKSAtIDEpO1xuXG4gIHJldHVybiByZXN1bHREYXRlLmdldERhdGUoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpcnN0RGF5T2ZNb250aChkKSB7XG4gIHJldHVybiBuZXcgRGF0ZShkLmdldEZ1bGxZZWFyKCksIGQuZ2V0TW9udGgoKSwgMSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaXJzdERheU9mV2VlaygpIHtcbiAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgcmV0dXJuIG5ldyBEYXRlKG5vdy5zZXREYXRlKG5vdy5nZXREYXRlKCkgLSBub3cuZ2V0RGF5KCkpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFdlZWtBcnJheShkLCBmaXJzdERheU9mV2Vlaykge1xuICBjb25zdCBkYXlBcnJheSA9IFtdO1xuICBjb25zdCBkYXlzSW5Nb250aCA9IGdldERheXNJbk1vbnRoKGQpO1xuICBjb25zdCB3ZWVrQXJyYXkgPSBbXTtcbiAgbGV0IHdlZWsgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMTsgaSA8PSBkYXlzSW5Nb250aDsgaSsrKSB7XG4gICAgZGF5QXJyYXkucHVzaChuZXcgRGF0ZShkLmdldEZ1bGxZZWFyKCksIGQuZ2V0TW9udGgoKSwgaSkpO1xuICB9XG5cbiAgY29uc3QgYWRkV2VlayA9ICh3ZWVrKSA9PiB7XG4gICAgY29uc3QgZW1wdHlEYXlzID0gNyAtIHdlZWsubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW1wdHlEYXlzOyArK2kpIHtcbiAgICAgIHdlZWtbd2Vla0FycmF5Lmxlbmd0aCA/ICdwdXNoJyA6ICd1bnNoaWZ0J10obnVsbCk7XG4gICAgfVxuICAgIHdlZWtBcnJheS5wdXNoKHdlZWspO1xuICB9O1xuXG4gIGRheUFycmF5LmZvckVhY2goKGRheSkgPT4ge1xuICAgIGlmICh3ZWVrLmxlbmd0aCA+IDAgJiYgZGF5LmdldERheSgpID09PSBmaXJzdERheU9mV2Vlaykge1xuICAgICAgYWRkV2Vlayh3ZWVrKTtcbiAgICAgIHdlZWsgPSBbXTtcbiAgICB9XG4gICAgd2Vlay5wdXNoKGRheSk7XG4gICAgaWYgKGRheUFycmF5LmluZGV4T2YoZGF5KSA9PT0gZGF5QXJyYXkubGVuZ3RoIC0gMSkge1xuICAgICAgYWRkV2Vlayh3ZWVrKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB3ZWVrQXJyYXk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2NhbGl6ZWRXZWVrZGF5KERhdGVUaW1lRm9ybWF0LCBsb2NhbGUsIGRheSwgZmlyc3REYXlPZldlZWspIHtcbiAgY29uc3Qgd2Vla2RheUZvcm1hdHRlciA9IG5ldyBEYXRlVGltZUZvcm1hdChsb2NhbGUsIHt3ZWVrZGF5OiAnbmFycm93J30pO1xuICBjb25zdCBmaXJzdERheURhdGUgPSBnZXRGaXJzdERheU9mV2VlaygpO1xuXG4gIHJldHVybiB3ZWVrZGF5Rm9ybWF0dGVyLmZvcm1hdChhZGREYXlzKGZpcnN0RGF5RGF0ZSwgZGF5ICsgZmlyc3REYXlPZldlZWspKTtcbn1cblxuLy8gQ29udmVydCBkYXRlIHRvIElTTyA4NjAxIChZWVlZLU1NLUREKSBkYXRlIHN0cmluZywgYWNjb3VudGluZyBmb3IgY3VycmVudCB0aW1lem9uZVxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdElzbyhkYXRlKSB7XG4gIHJldHVybiAobmV3IERhdGUoYCR7ZGF0ZS50b0RhdGVTdHJpbmcoKX0gMTI6MDA6MDAgKzAwMDBgKSkudG9JU09TdHJpbmcoKS5zdWJzdHJpbmcoMCwgMTApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFcXVhbERhdGUoZDEsIGQyKSB7XG4gIHJldHVybiBkMSAmJiBkMiAmJlxuICAgIChkMS5nZXRGdWxsWWVhcigpID09PSBkMi5nZXRGdWxsWWVhcigpKSAmJlxuICAgIChkMS5nZXRNb250aCgpID09PSBkMi5nZXRNb250aCgpKSAmJlxuICAgIChkMS5nZXREYXRlKCkgPT09IGQyLmdldERhdGUoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0JlZm9yZURhdGUoZDEsIGQyKSB7XG4gIGNvbnN0IGRhdGUxID0gY2xvbmVBc0RhdGUoZDEpO1xuICBjb25zdCBkYXRlMiA9IGNsb25lQXNEYXRlKGQyKTtcblxuICByZXR1cm4gKGRhdGUxLmdldFRpbWUoKSA8IGRhdGUyLmdldFRpbWUoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0FmdGVyRGF0ZShkMSwgZDIpIHtcbiAgY29uc3QgZGF0ZTEgPSBjbG9uZUFzRGF0ZShkMSk7XG4gIGNvbnN0IGRhdGUyID0gY2xvbmVBc0RhdGUoZDIpO1xuXG4gIHJldHVybiAoZGF0ZTEuZ2V0VGltZSgpID4gZGF0ZTIuZ2V0VGltZSgpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQmV0d2VlbkRhdGVzKGRhdGVUb0NoZWNrLCBzdGFydERhdGUsIGVuZERhdGUpIHtcbiAgcmV0dXJuICghKGlzQmVmb3JlRGF0ZShkYXRlVG9DaGVjaywgc3RhcnREYXRlKSkgJiZcbiAgICAgICAgICAhKGlzQWZ0ZXJEYXRlKGRhdGVUb0NoZWNrLCBlbmREYXRlKSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbW9udGhEaWZmKGQxLCBkMikge1xuICBsZXQgbTtcbiAgbSA9IChkMS5nZXRGdWxsWWVhcigpIC0gZDIuZ2V0RnVsbFllYXIoKSkgKiAxMjtcbiAgbSArPSBkMS5nZXRNb250aCgpO1xuICBtIC09IGQyLmdldE1vbnRoKCk7XG4gIHJldHVybiBtO1xufVxuXG5leHBvcnQgZnVuY3Rpb24geWVhckRpZmYoZDEsIGQyKSB7XG4gIHJldHVybiB+fihtb250aERpZmYoZDEsIGQyKSAvIDEyKTtcbn1cbiJdfQ==