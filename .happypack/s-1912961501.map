{"version":3,"sources":["src/Components/Input/index.js"],"names":["Input","props","onValidate","value","state","minLength","maxLength","requiredValue","pattern","errors","String","length","test","undefined","onBlur","message","onError","onFocus","onChange","bind","defaultValue","nextProps","setState","autoFocus","refs","input","focus","event","target","slice","children","className","style","type","name","disabled","placeholder","other","classNames","Component","displayName","defaultPorps","propTypes","PropTypes","string","object","node","number","bool","func"],"mappings":"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","file":"index.js","sourceRoot":"/Users/tmac_zc/Code/kr-admin","sourcesContent":["import React from 'react';\n\nimport {\n\tClassNames\n} from 'kr/Utils';\n\n\nimport './index.less';\n\nexport default  class Input extends React.Component {\n\n\tstatic displayName = 'Input';\n\n\tstatic defaultPorps = {\n\t\tvalue:'',\n\t\ttype:'text',\n\t\tplaceholder:'',\n\t\tdisabled:false,\n\t}\n\n\tstatic propTypes = {\n\t\t\t\tname: React.PropTypes.string,\n\t\t\t\tstyle: React.PropTypes.object,\n\t\t\t\tclassName: React.PropTypes.string,\n\t\t\t\ttype: React.PropTypes.string,\n\t\t\t\tchildren:React.PropTypes.node,\n\t\t\t\tminLength:React.PropTypes.number,\n\t\t\t\tmaxLength:React.PropTypes.number,\n\t\t\t\tpattern:React.PropTypes.object,\n\t\t\t\tplaceholder:React.PropTypes.string,\n\t\t\t\tdisabled:React.PropTypes.bool,\n\t\t\t\t/**\n\t\t\t\t*{maxLength:'不能超过最大值',minLength:'最小值为'}\n\t\t\t\t*\n\t\t\t\t*/\n\t\t\t\terrors:React.PropTypes.object,\n\t\t\t\tonError:React.PropTypes.func,\n\t\t\t\tautoFocus:React.PropTypes.bool,\n\t}\n\tcomponentDidMount(){\n\n\t}\n\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.onChange = this.onChange.bind(this);\n\n\t\tthis.state = {\n\t\t\tvalue:this.props.defaultValue\n\t\t}\n\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif(nextProps.value != this.props.value){\n\t\t\t this.setState({\n\t\t\t\t value:nextProps.value\n\t\t\t });\n\t\t}\n\t}\n\tcomponentDidMount(){\n\t\tif(!this.props.autoFocus){\n\t\t\treturn;\n\t\t}\n\t\tthis.refs.input.focus();\n\t}\n\n\tonChange(event){\n\n\t\t\tvar value = event.target.value;\n\t\t\tconst {onChange,maxLength} = this.props;\n\t\t\tif (maxLength) {\n\t\t\t\t\tvalue = value.slice(0,maxLength);\n\t\t\t}\n            \n\t\t\tthis.setState({\n\t\t\t\tvalue\n\t\t\t});\n\t\t\tonChange && onChange(value);\n\n\t\tlet message = this.onValidate(value);\n\t\tlet {onError} = this.props;\n\t\t\tonError && onError(message);\n\n\t}\n\n\tonValidate = (value)=>{\n\n\t\tvalue = value || this.state.value;\n\n\t\tlet {minLength,maxLength,requiredValue,pattern,errors} = this.props;\n\n\t\tif(requiredValue && !value){\n\t\t\treturn errors['requiredValue'];\n\t\t}\n\n\t\tif(minLength && String(value).length<minLength){\n\t\t\treturn errors['minLength'];\n\t\t}\n\n\t\tif(maxLength && String(value).length>maxLength){\n\t\t\treturn errors['maxLength'];\n\t\t}\n\n\t\tif(pattern && !pattern.test(value)){\n\t\t\treturn errors['pattern'];\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tonBlur = ()=>{\n\n\t\tlet {value} = this.state;\n\t\tlet message = this.onValidate();\n\t\tlet {onError,onBlur} = this.props;\n\t\tif(typeof message !== 'undefined'){\n\t\t\tonError && onError(message);\n\t\t}\n\t\tonBlur && onBlur(value);\n\t}\n\n\tonFocus = ()=>{\n\t\tlet {onFocus} = this.props;\n\t\tonFocus && onFocus();\n\t}\n\n\trender() {\n\n\t\tlet {children,className,style,type,name,disabled,placeholder,pattern,...other} = this.props;\n\n\t\tlet {value} = this.state;\n\n\t\tlet  classNames = ClassNames('ui-input',className);\n\n\t\tif(disabled){\n\t\t  \tclassNames = ClassNames('ui-input',className,'input-disabled');\n\t\t}\n\n\t\treturn (\n\n\t\t\t <input ref=\"input\"  type={type} name={name} className={classNames}  style={style} placeholder={placeholder} value={value} {...other} disabled={disabled} onChange={this.onChange} onBlur={this.onBlur} onFocus={this.onFocus} />\n\n\t\t);\n\t}\n}\n"]}