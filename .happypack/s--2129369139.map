{"version":3,"sources":["src/Components/Table/TableRowColumn/index.js"],"names":["TableRowColumn","props","renderValue","value","options","component","itemData","defaultValue","oldValue","onFormatData","length","map","item","index","label","onClick","bind","onMouseEnter","onMouseLeave","event","target","nodeName","toLowerCase","onCellClick","columnNumber","onHover","onHoverExit","children","className","style","name","type","format","other","handlers","operationElement","Children","child","isValidElement","hidden","newChild","cloneElement","push","Component","displayName","propTypes","PropTypes","string","node","number","hoverable","bool","func","object","array","any"],"mappings":"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","file":"index.js","sourceRoot":"/Users/tmac_zc/Code/kr-admin","sourcesContent":["import React from 'react';\n\nimport KrDate from '../../KrDate';\n\nexport default class TableRowColumn extends React.Component {\n\n\tstatic displayName = 'TableRowColumn';\n\n\tstatic propTypes = {\n\t\tclassName: React.PropTypes.string,\n\t\tchildren: React.PropTypes.node,\n\t\tcolumnNumber: React.PropTypes.number,\n\t\thoverable: React.PropTypes.bool,\n\t\tonCellClick: React.PropTypes.func,\n\t\tonHover: React.PropTypes.func,\n\t\tonHoverExit: React.PropTypes.func,\n\t\tstyle: React.PropTypes.object,\n\t\tname: React.PropTypes.string,\n\t\tvalue: React.PropTypes.string,\n\t\toptions: React.PropTypes.array,\n\t\ttype: React.PropTypes.string,\n\t\tformat: React.PropTypes.string,\n\t\tonFormatData:React.PropTypes.func,\n\t\tcomponent: React.PropTypes.func,\n\t\tdefaultValue:React.PropTypes.any,\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.onClick = this.onClick.bind(this);\n\t\tthis.onMouseEnter = this.onMouseEnter.bind(this);\n\t\tthis.onMouseLeave = this.onMouseLeave.bind(this);\n\t\tthis.onFormatData = this.onFormatData.bind(this);\n\n\t}\n\n\tonClick(event) {\n\n\t\tif (event.target.nodeName.toLowerCase() != 'td' || event.target.nodeName.toLowerCase() == 'input') {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (this.props.onCellClick) {\n\t\t\tthis.props.onCellClick(event, this.props.columnNumber);\n\t\t}\n\t}\n\n\tonMouseEnter(event) {\n\t\tif (this.props.onHover) {\n\t\t\tthis.props.onHover(event, this.props.columnNumber);\n\t\t}\n\t}\n\n\tonMouseLeave(event) {\n\t\tif (this.props.onHoverExit) {\n\t\t\tthis.props.onHoverExit(event, this.props.columnNumber);\n\t\t}\n\t}\n\n\n\tonFormatData(value){\n\n\t\tconst {onFormatData} = this.props;\n\n\t\tif(typeof onFormatData === 'function'){\n\t\t\t\tvalue = onFormatData(value);\n\t\t}\n\n\t\treturn value;\n\n\t}\n\n\n\trenderValue = ()=>{\n\n\t\tlet { value, options, component ,itemData,defaultValue} = this.props;\n\n\t\tlet oldValue = value;\n\n\t\t//处理数据格式\n\t\tvalue = this.onFormatData(value);\n\n\t\tif (options && options.length) {\n\t\t\toptions.map(function(item, index) {\n\t\t\t\tif (item.value == value) {\n\t\t\t\t\tvalue = item.label;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif(typeof component === 'function'){\n\t\t \treturn component(value,oldValue,itemData);\n\t\t}\n\n\t\treturn value ||defaultValue;\n\n\t}\n\n\n\n\trender() {\n\n\t\tlet {\n\t\t\tchildren,\n\t\t\tclassName,\n\t\t\tcolumnNumber,\n\t\t\tstyle,\n\t\t\tname,\n\t\t\tvalue,\n\t\t\ttype,\n\t\t\titemData,\n\t\t\toptions,\n\t\t\tformat,\n\t\t\tcomponent,\n\t\t\t...other,\n\t\t} = this.props;\n\n\t\tconst handlers = {\n\t\t\tonClick: this.onClick,\n\t\t\tonMouseEnter: this.onMouseEnter,\n\t\t\tonMouseLeave: this.onMouseLeave,\n\t\t};\n\n\t\tif (name) {\n\n\t\t\tif (type == 'date' && typeof component === 'function') {\n\t\t\t\treturn (\n\t\t\t\t\t<td className={className} style={style} {...handlers} {...other}>\n\t\t\t\t\t\t{this.renderValue()}\n\t\t\t\t\t</td>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (type == 'date') {\n\t\t\t\treturn (\n\t\t\t\t\t<td className={className} style={style} {...handlers} {...other}>\n\t\t\t\t\t\t<KrDate value={this.renderValue()} format={format} />\n\t\t\t\t\t</td>\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<td className={className} style={style} {...handlers} {...other}>\n\t\t\t\t\t\t{this.renderValue()}\n\t\t\t\t\t</td>\n\t\t\t);\n\n\t\t}\n\n\t\tif (type == 'operation') {\n\n\t\t\tvar operationElement = [];\n\n\t\t\tReact.Children.map(children, (child) => {\n\t\t\t\tif (!React.isValidElement(child)) return;\n\n\t\t\t\tlet {\n\t\t\t\t\thidden\n\t\t\t\t} = child.props;\n\n\t\t\t\tif (hidden) {\n\t\t\t\t\thidden = !!itemData[hidden];\n\t\t\t\t}\n\n\t\t\t\tlet newChild = React.cloneElement(child, {\n\t\t\t\t\thidden\n\t\t\t\t});\n\t\t\t\toperationElement.push(newChild);\n\t\t\t});\n\n\t\t\treturn (\n\t\t\t\t<td className={className} style={style} {...handlers} {...other}>\n\t\t\t\t\t{operationElement}\n\t\t\t\t</td>\n\t\t\t);\n\t\t}\n\n\n\t\treturn (\n\t\t\t<td className={className} style={style} {...handlers} {...other}>\n\t\t\t\t{children}\n\t\t\t</td>\n\t\t);\n\n\n\t}\n}\n"]}