{"version":3,"sources":["src/Containers/Operation/CommunityManage/Detail/Schedule/EmployessTable.js"],"names":["EmployessTable","props","context","onNewCreateSubmit","values","_this","form","stationId","state","customerId","communityId","dispatch","callAPI","then","response","success","memberId","console","log","onDistributionSubmit","onClose","onDistributionCancel","catch","err","error","message","openChangeStation","bind","openDistributionStation","onChangeCancel","onChangeSubmit","onOperation","onIframeClose","openDistribution","optionValues","itemDetail","openNewmeber","isLoading","setState","id","formValues","members","map","item","index","value","label","memberName","show","type","formValue","member","operator","url","activity","detail","params","companyId","ParamValues","communityIds","mainBillId","billId","marginTop","width","listData","forEach","status","distributionHidden","changeHidden","noneHidden","defaultProps","PropTypes","object","bool"],"mappings":"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","file":"EmployessTable.js","sourceRoot":"/Users/tmac_zc/Code/kr-admin","sourcesContent":["import React, {\n\tComponent,\n\tPropTypes\n} from 'react';\nimport {\n\tconnect\n} from 'kr/Redux';\nimport {\n\treduxForm,\n\tsubmitForm,\n\tchange,\n\treset\n} from 'redux-form';\nimport {\n\tActions,\n\tStore\n} from 'kr/Redux';\n\nimport {\n\tTable,\n\tTableBody,\n\tTableHeader,\n\tTableHeaderColumn,\n\tTableRow,\n\tTableRowColumn,\n\tTableFooter,\n\tButton,\n\tSection,\n\tGrid,\n\tRow,\n\tCol,\n\tDialog,\n\tBreadCrumbs,\n\tForm,\n\tKrField,\n\tIframeContent,\n\tNotify,\n\tMessage,\n\tButtonGroup\n} from 'kr-ui';\nimport CreateMemberForm from './CreateMemberForm';\nimport ChangeStation from './ChangeStation';\nimport Distribution from './Distribution';\n\nexport default class EmployessTable extends Component {\n\n\tstatic defaultProps = {\n\t\tactivity: false,\n\n\n\t}\n\n\tstatic PropTypes = {\n\t\tparams: React.PropTypes.object,\n\t\tactivity: React.PropTypes.bool,\n\t}\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.openChangeStation = this.openChangeStation.bind(this);\n\t\tthis.openDistributionStation = this.openDistributionStation.bind(this);\n\t\tthis.onChangeCancel = this.onChangeCancel.bind(this);\n\t\tthis.onDistributionCancel = this.onDistributionCancel.bind(this);\n\t\tthis.onDistributionSubmit = this.onDistributionSubmit.bind(this);\n\t\tthis.onChangeSubmit = this.onChangeSubmit.bind(this);\n\t\tthis.onOperation = this.onOperation.bind(this);\n\t\tthis.onIframeClose = this.onIframeClose.bind(this);\n\t\tthis.onClose = this.onClose.bind(this);\n\t\tthis.state = {\n\t\t\topenChangeStation: false,\n\t\t\topenDistribution: false,\n\t\t\toptionValues: {},\n\t\t\titemDetail: {},\n\t\t\tstationId: 1,\n\t\t\topenNewmeber: false,\n\t\t\tcustomerId: 1,\n\t\t\tcommunityId: 1,\n\t\t\tisLoading: false,\n\t\t\tstate: {},\n\n\t\t}\n\n\t}\n\n\tcomponentDidMount() {\n\n\n\t}\n\n\topenChangeStation(itemDetail) {\n\t\tvar _this = this;\n\n\t\tthis.setState({\n\t\t\topenChangeStation: !this.state.openChangeStation,\n\t\t\tstationId: itemDetail.id,\n\t\t\tcustomerId: itemDetail.customerId,\n\t\t\tcommunityId: itemDetail.communityId\n\t\t})\n\t\tlet optionValues = {};\n\n\t\tconst formValues = {\n\t\t\tcustomerId: itemDetail.customerId\n\t\t}\n\t\tStore.dispatch(Actions.callAPI('getmembers', formValues)).then(function(response) {\n\n\t\t\toptionValues.members = response.map(function(item, index) {\n\t\t\t\titem.value = item.id;\n\t\t\t\titem.label = item.memberName;\n\t\t\t\treturn item;\n\t\t\t});\n\t\t\t_this.setState({\n\t\t\t\toptionValues\n\t\t\t});\n\n\t\t}).catch(function(err) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: err.message,\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t});\n\n\t}\n\n\topenDistributionStation(itemDetail) {\n\n\n\t\tvar _this = this;\n\t\tthis.setState({\n\t\t\topenDistribution: !this.state.openDistribution,\n\t\t\tstationId: itemDetail.id,\n\t\t\tcustomerId: itemDetail.customerId,\n\t\t\tcommunityId: itemDetail.communityId\n\t\t})\n\t\tlet optionValues = {};\n\t\tconst formValue = {\n\t\t\tcustomerId: itemDetail.customerId,\n\t\t}\n\n\t\tStore.dispatch(Actions.callAPI('getmembers', formValue)).then(function(response) {\n\n\t\t\toptionValues.member = response.map(function(item, index) {\n\t\t\t\titem.value = item.id;\n\t\t\t\titem.label = item.memberName;\n\t\t\t\treturn item;\n\t\t\t});\n\t\t\t_this.setState({\n\t\t\t\toptionValues,\n\t\t\t});\n\n\t\t}).catch(function(err) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: err.message,\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t});\n\t}\n\n\tonChangeCancel() {\n\t\tthis.setState({\n\t\t\topenChangeStation: !this.state.openChangeStation\n\t\t})\n\n\t}\n\n\tonDistributionCancel() {\n\t\tthis.setState({\n\t\t\topenDistribution: !this.state.openDistribution\n\t\t})\n\t}\n\tonClose() {\n\t\tthis.setState({\n\t\t\topenNewmeber: !this.state.openNewmeber\n\t\t});\n\t}\n\n\tonChangeSubmit(form) {\n\t\tvar _this = this;\n\t\tif (form.memberId == -1) {\n\t\t\tthis.setState({\n\t\t\t\topenNewmeber: !this.state.openNewmeber\n\t\t\t});\n\t\t\tthis.onChangeCancel();\n\t\t} else {\n\n\t\t\tStore.dispatch(Actions.callAPI('changeStation', {}, form)).then(function(response) {\n\t\t\t\t_this.onChangeCancel();\n\t\t\t\tNotify.show([{\n\t\t\t\t\tmessage: '操作成功！',\n\t\t\t\t\ttype: 'success',\n\t\t\t\t}]);\n\t\t\t\t_this.setState({\n\t\t\t\t\tisLoading: !_this.state.isLoading\n\t\t\t\t})\n\n\t\t\t}).catch(function(err) {\n\n\t\t\t\tNotify.show([{\n\t\t\t\t\tmessage: err.message,\n\t\t\t\t\ttype: 'danger',\n\t\t\t\t}]);\n\t\t\t});\n\t\t}\n\n\t}\n\n\tonIframeClose(response) {\n\t\tif (response.operator == 'ok') {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: '新增成功！',\n\t\t\t\ttype: 'success',\n\t\t\t}]);\n\t\t}\n\n\t\tthis.setState({\n\t\t\topenNewmeber: !this.state.openNewmeber\n\t\t});\n\n\t}\n\n\tgetStationUrl() {\n\t\tlet {\n\t\t\tcustomerId,\n\t\t\tcommunityId\n\t\t} = this.state;\n\n\t\tlet url = `/krspace_member_web/member/toAddMember?companyId=${customerId}&communityId=${communityId}&flag=op`;\n\t\treturn url;\n\t}\n\n\n\n\tonDistributionSubmit(form) {\n\t\tvar _this = this;\n\t\tif (form.memberId == -1) {\n\t\t\tthis.setState({\n\t\t\t\topenNewmeber: !this.state.openNewmeber,\n\n\t\t\t});\n\t\t\tthis.onDistributionCancel()\n\t\t} else {\n\t\t\tStore.dispatch(Actions.callAPI('changeStation', {}, form)).then(function(response) {\n\t\t\t\t_this.onDistributionCancel()\n\t\t\t\tNotify.show([{\n\t\t\t\t\tmessage: '操作成功！',\n\t\t\t\t\ttype: 'success',\n\t\t\t\t}]);\n\t\t\t\t_this.setState({\n\t\t\t\t\tisLoading: !_this.state.isLoading\n\t\t\t\t})\n\n\t\t\t}).catch(function(err) {\n\n\t\t\t\tNotify.show([{\n\t\t\t\t\tmessage: err.message,\n\t\t\t\t\ttype: 'danger',\n\t\t\t\t}]);\n\t\t\t});\n\t\t}\n\n\t}\n\n\n\n\t//操作相关\n\tonOperation(type, itemDetail) {\n\t\tthis.setState({\n\t\t\titemDetail\n\t\t});\n\n\t\tif (type == 'Distribution') {\n\t\t\tthis.setState({\n\t\t\t\tstationId: itemDetail.stationId\n\t\t\t}, function() {\n\t\t\t\tthis.openDistributionStation(itemDetail)\n\t\t\t})\n\n\t\t} else if (type == 'ChangeStation') {\n\t\t\tthis.setState({\n\t\t\t\tstationId: itemDetail.stationId\n\t\t\t}, function() {\n\n\t\t\t\tthis.openChangeStation(itemDetail)\n\t\t\t})\n\n\t\t}\n\t}\n\tonNewCreateSubmit=(values)=>{\n\t\tvar _this = this;\n\t\tlet form = {};\n\t\tform.stationId = this.state.stationId;\n\t\tform.customerId = this.state.customerId;\n\t\tform.communityId = this.state.communityId;\n\t\tStore.dispatch(Actions.callAPI('membersChange',{},values))\n\t\t.then(function(response){\n\t\t\tMessage.success('成功');\n\t\t\t\n\t\t\tform.memberId = response;\n\t\t\tconsole.log('onDistributionSubmit',response);\n\t\t\t_this.onDistributionSubmit(form);\n\n\t\t\t_this.onClose();\n\t\t\t_this.onDistributionCancel()\n\t\t\t// window.location.reload();\n\t\t\t// window.location.href = \"/#/community/companyMembers/\" + _this.params.companyId + \"/list/\" + _this.params.communityId ;\n\t\t}).catch(function(err){\n\t\t\tMessage.error(err.message);\n\t\t\t_this.onClose();\n\t\t});\n\n\t}\n\n\n\n\trender() {\n\n\t\tlet {\n\t\t\tactivity,\n\t\t\tdetail,\n\t\t\tid\n\t\t} = this.props;\n\n\t\tif (!activity) {\n\t\t\treturn null;\n\t\t}\n\t\tlet {\n\t\t\toptionValues\n\n\t\t} = this.state;\n\t\t\n\t\tlet {\n\t\t\tcustomerId,\n\t\t\tcommunityId\n\t\t} = this.state;\n\t\tlet params = {\n\t\t\tcommunityId:communityId,\n\t\t\tcompanyId:customerId\n\t\t}\n\t\tconst ParamValues = {\n\t\t\tcommunityIds: detail.communityId,\n\t\t\tmainBillId: detail.billId\n\t\t}\n\t\tvar _this = this;\n\n\t\treturn (\n\n\t\t\t<div className=\"employees-content\">\n\t\t \t<Table className=\"childTable\" style={{marginTop:10,width:'100%'}} displayCheckbox={false} ajax={true}  ajaxUrlName='getStation' ajaxParams={ParamValues} pagination={false} onOperation={this.onOperation} loading={this.state.isLoading} \n\t\t \t\tonProcessData={(state)=>{\n\t\t \t\t\tvar listData  = state.listData;\n\t\t\t \t\t\tlistData.forEach(function(item){\n\t\t\t \t\t\t\t\n\t\t\t \t\t\t\tif(item.status==\"LEFTED\"){\n\t\t\t\t\t\t\t\titem.distributionHidden = true;\n\t\t\t\t\t\t\t\titem.changeHidden = true;\n\t\t\t \t\t\t\t}else{\n\t\t\t \t\t\t\t\tif(item.memberName){\n\t\t\t\t\t\t\t\t\titem.distributionHidden = true;\n\t\t\t\t\t\t\t\t\titem.noneHidden=true;\n\t\t\t\t \t\t\t\t}else {\n\t\t\t\t\t\t\t\t\titem.changeHidden = true;\n\t\t\t\t\t\t\t\t\titem.noneHidden=true;\n\t\t\t\t \t\t\t\t}\n\t\t\t \t\t\t\t}\n\t\t\t \t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t \t\t\t});\n\t\t\t\t\t\treturn state;\n\t\t\t\t\t}}>\n\t\t\t\t<TableHeader>\n\t\t\t\t\t\t<TableHeaderColumn>工位编号</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>租赁起始时间</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>租赁结束时间</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>员工</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>电话</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>状态</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>操作</TableHeaderColumn>\n\t\t\t\t</TableHeader>\n\n\t\t\t\t<TableBody>\n\t\t\t\t\t<TableRow displayCheckbox={true}>\n\t\t\t\t\t\t<TableRowColumn name=\"stationCode\" ></TableRowColumn>\n\t\t\t\t\t\t<TableRowColumn name=\"leaseBeginDate\" type=\"date\" format=\"yyyy-mm-dd\"></TableRowColumn>\n\t\t\t\t\t\t<TableRowColumn name=\"leaseEndDate\" type=\"date\" format=\"yyyy-mm-dd\"></TableRowColumn>\n\t\t\t\t\t\t<TableRowColumn name=\"memberName\" ></TableRowColumn>\n\t\t\t\t\t\t<TableRowColumn name=\"memberPhone\" ></TableRowColumn>\n\t\t\t\t\t\t<TableRowColumn name=\"status\" options={[{label:'未入住',value:'UNLIVE'},{label:'已入住',value:'LIVED'},{label:'已离场',value:'LEFTED'}]}></TableRowColumn>\n\t\t\t\t\t\t<TableRowColumn type=\"operation\">\n\t\t\t\t\t\t\t\t<Button label=\"变更\" className=\"changeBtn\" type=\"operation\" operation=\"ChangeStation\" hidden=\"changeHidden\"  />\n\t\t\t\t\t\t\t\t<Button label=\"分配\" className=\"Distribtn\"  type=\"operation\" operation=\"Distribution\" hidden=\"distributionHidden\"  />\n\t\t\t\t\t\t\t\t<Button label=\"无\" className=\"Distribtn bgcolor\" type=\"operation\" operation=\"none\" hidden=\"noneHidden\"/>\n\t\t\t\t\t\t</TableRowColumn>\n\t\t\t\t\t</TableRow>\n\t\t\t\t</TableBody>\n\n\t\t\t\t<TableFooter></TableFooter>\n\t\t\t</Table>\n\n\n\t\t\t<Dialog\n\t\t\t\ttitle=\"分配工位\"\n\t\t\t\tmodal={true}\n\t\t\t\topen={this.state.openDistribution}\n\t\t\t\tonClose={this.onDistributionCancel}\n\t\t\t\tcontentStyle={{width:445}}\n\t\t\t>\n\n\t\t\t\t<Distribution  detail={this.state.itemDetail} onCancel={this.onDistributionCancel} onSubmit={this.onDistributionSubmit} optionValues={optionValues} stationId={this.state.stationId} customerId={this.state.customerId} communityId={this.state.communityId}/>\n\t\t\t</Dialog>\n\t\t\t<Dialog\n\t\t\t\ttitle=\"变更工位\"\n\t\t\t\tmodal={true}\n\t\t\t\topen={this.state.openChangeStation}\n\t\t\t\tonClose={this.onChangeCancel}\n\t\t\t\tcontentStyle={{width:445}}\n\t\t\t>\n\t\t\t\t<ChangeStation  detail={this.state.itemDetail} onCancel={this.onChangeCancel} onSubmit={this.onChangeSubmit}  optionValues={optionValues} stationId={this.state.stationId} customerId={this.state.customerId} communityId={this.state.communityId}/>\n\n\t\t\t</Dialog>\n\t\t\t<Dialog\n\t\t\t\ttitle=\"新增员工\"\n\t\t\t\tmodal={true}\n\t\t\t\topen={this.state.openNewmeber}\n\t\t\t\tonClose={this.onClose}\n\t\t\t\tcontentStyle={{width:620}}\n\t\t\t>\n\t\t\t\t<CreateMemberForm onSubmit={this.onNewCreateSubmit} params={params} onCancel={this.onClose} detail={this.state.itemDetail}/>\n\t\t\t\n\n\t\t\t\t{/*<IframeContent  width={500} height={600} src={this.getStationUrl()}  onClose={this.onIframeClose}  />*/}\n\t\t\t</Dialog>\n\n\t\t</div>\n\t\t);\n\t}\n}"]}