{"version":3,"sources":["src/Components/KrField/SearchLeaderComponent/index.js"],"names":["SearchLeaderComponent","props","onInputChange","onChange","bind","getOptions","input","item","value","searchKey","Promise","resolve","reject","dispatch","callAPI","then","response","options","catch","err","label","type","meta","touched","error","placeholder","children","disabled","style","requireLabel","other","name","Component","defaultProps","PropTypes","string","inline","bool"],"mappings":";;;;;;;;;AAAA;;;;AAGA;;;;AAEA;;AAGA;;;;;;;;;;;;;;IAEsBA,qB;;;AAWrB,gCAAYC,KAAZ,EAAkB;AAAA;;AAAA,4IACXA,KADW;;AAAA,QAWlBC,aAXkB,GAWJ,YAAI,CAGjB,CAdiB;;AAGjB,QAAKC,QAAL,GAAgB,MAAKA,QAAL,CAAcC,IAAd,OAAhB;AACA,QAAKC,UAAL,GAAkB,MAAKA,UAAL,CAAgBD,IAAhB,OAAlB;AAJiB;AAKjB;;;;sCAEkB;AAAA,OACbE,KADa,GACJ,KAAKL,KADD,CACbK,KADa;AAElB;;;2BAOQC,I,EAAK;AAAA,gBACU,KAAKN,KADf;AAAA,OACRK,KADQ,UACRA,KADQ;AAAA,OACFH,QADE,UACFA,QADE;;AAEb,OAAIK,QAASD,QAAQA,KAAKC,KAAd,IAAwB,EAApC;AACAF,SAAMH,QAAN,CAAeK,KAAf;AACAL,eAAYA,SAASI,IAAT,CAAZ;AACA;;;6BAEUE,S,EAAU;AACpB,UAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvC,iBAAMC,QAAN,CAAe,eAAQC,OAAR,CAAgB,kBAAhB,EAAmC,EAACL,WAAUA,SAAX,EAAnC,CAAf,EAA2EM,IAA3E,CAAgF,UAASC,QAAT,EAAkB;AACjGL,aAAQ,EAACM,SAAQD,QAAT,EAAR;AACA,KAFD,EAEGE,KAFH,CAES,UAASC,GAAT,EAAa;AACrBP,YAAOO,GAAP;AACA,KAJD;AAKA,IANM,CAAP;AAOA;;;2BAEO;AAAA,iBAEyG,KAAKlB,KAF9G;AAAA,OAEDK,KAFC,WAEDA,KAFC;AAAA,OAEMc,KAFN,WAEMA,KAFN;AAAA,OAEaC,IAFb,WAEaA,IAFb;AAAA,8BAEmBC,IAFnB;AAAA,OAE2BC,OAF3B,gBAE2BA,OAF3B;AAAA,OAEoCC,KAFpC,gBAEoCA,KAFpC;AAAA,OAE4CC,WAF5C,WAE4CA,WAF5C;AAAA,OAEwDC,QAFxD,WAEwDA,QAFxD;AAAA,OAEiEC,QAFjE,WAEiEA,QAFjE;AAAA,OAE0EC,KAF1E,WAE0EA,KAF1E;AAAA,OAEgFC,YAFhF,WAEgFA,YAFhF;AAAA,OAEgGC,KAFhG;;AAIP,UACC;AAAA;AAAA,MAAe,OAAOV,KAAtB,EAA6B,WAAWQ,KAAxC,EAA+C,cAAcC,YAA7D;AACE;AACA,WAAMvB,MAAMyB,IADZ;AAEA,YAAOzB,MAAME,KAFb;AAGA,kBAAa,KAAKH,UAHlB;AAIA,gBAAW,IAJX;AAKA,mBAAa,cALb;AAMA,eAAU,KAAKF,QANf;AAOA,oBAAe,KAAKD,aAPpB;AAQA,oBAAc,EARd;AASA,kBAAauB,WATb,GADF;AAWCF,eAAWC,KAAX,IAAoB;AAAA;AAAA,OAAK,WAAU,YAAf;AAAA;AAA6B;AAAA;AAAA;AAAOA;AAAP,MAA7B;AAAA;AAAA;AAXrB,IADD;AAeA;;;;EA/DkD,gBAAMQ,S;;AAApChC,qB,CAEdiC,Y,GAAe;AACrBR,cAAY;AADS,C;AAFDzB,qB,CAMdkC,S,GAAY;AAClBT,cAAY,gBAAMS,SAAN,CAAgBC,MADV;AAElBC,SAAO,gBAAMF,SAAN,CAAgBG;AAFL,C;kBANErC,qB;;;;;;;;+BAAAA,qB","file":"index.js","sourceRoot":"/Users/tmac_zc/Code/kr-admin","sourcesContent":["import React from 'react';\n\n\nimport ReactSelectAsync from '../../Select/Async';\n\nimport {Actions,Store} from 'kr/Redux';\n\n\nimport WrapComponent from '../WrapComponent';\n\nexport default class  SearchLeaderComponent extends React.Component {\n\n\tstatic defaultProps = {\n\t\tplaceholder:'请输入...'\n\t}\n\n\tstatic PropTypes = {\n\t\tplaceholder:React.PropTypes.string,\n\t\tinline:React.PropTypes.bool\n\t}\n\n\tconstructor(props){\n\t\tsuper(props)\n\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.getOptions = this.getOptions.bind(this);\n\t}\n\n\tcomponentDidMount(){\n\t\tlet {input} = this.props;\n\t}\n\n\tonInputChange=()=>{\n\n\n\t}\n\n\tonChange(item){\n\t\tlet {input,onChange} = this.props;\n\t\tvar value = (item && item.value) || '';\n\t\tinput.onChange(value);\n\t\tonChange && onChange(item);\n\t}\n\n\tgetOptions(searchKey){\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tStore.dispatch(Actions.callAPI('get-receive-list',{searchKey:searchKey })).then(function(response){\n\t\t\t\tresolve({options:response});\n\t\t\t}).catch(function(err){\n\t\t\t\treject(err);\n\t\t\t});\n\t\t});\n\t}\n\n\trender(){\n\n\t\tlet { input, label, type, meta: { touched, error },placeholder,children,disabled,style,requireLabel,...other} = this.props;\n\t\t\n\t\treturn (\n\t\t\t<WrapComponent label={label} wrapStyle={style} requireLabel={requireLabel}>\n\t\t\t\t\t<ReactSelectAsync\n\t\t\t\t\tname={input.name}\n\t\t\t\t\tvalue={input.value}\n\t\t\t\t\tloadOptions={this.getOptions}\n\t\t\t\t\tclearable={true}\n\t\t\t\t\tclearAllText=\"清除\"\n\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\tonInputChange={this.onInputChange}\n\t\t\t\t\tnoResultsText=\"\"\n\t\t\t\t\tplaceholder={placeholder}/>\n\t\t\t{touched && error && <div className=\"error-wrap\"> <span>{error}</span> </div>}\n\t\t</WrapComponent>\n\t\t);\n\t}\n}\n"]}