{"version":3,"sources":["src/Containers/Operation/CustomerManage/Order/Create/OrderEditForm.js"],"names":["OrderEditForm","props","context","onSubmit","values","onCancel","error","handleSubmit","submitting","initialValues","communityOptions","orderTypeOptions","changeValues","cityName","map","item","communityId","communityid","padding","customerName","mainbillname","width","textAlign","paddingRight","paddingLeft","propTypes","PropTypes","object","array","selector","validate","errors","mainbilltype","form","enableReinitialize","keepDirtyOnReinitialize","state"],"mappings":"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","file":"OrderEditForm.js","sourceRoot":"/Users/tmac_zc/Code/kr-admin","sourcesContent":["import React, {\n\tComponent,\n\tPropTypes\n} from 'react';\n\nimport {\n\treduxForm,\n\tformValueSelector,\n\tinitialize,\n\tarrayPush,\n\tarrayInsert,\n\tFieldArray,\n\tchange\n} from 'redux-form';\n\nimport {\n\tActions,\n\tStore,\n\tconnect\n} from 'kr/Redux';\n\n\nimport {\n\tSection,\n\tKrField,\n\tGrid,\n\tRow,\n\tCol,\n\tNotify,\n\tButton,\n\tKrDate,\n\tDotTitle,\n\tButtonGroup,\n\tPaper,\n\tListGroup,\n\tListGroupItem\n} from 'kr-ui';\n\nclass OrderEditForm extends Component {\n\tstatic propTypes = {\n\t\tinitialValues:React.PropTypes.object,\n\t\tcommunityOptions:React.PropTypes.array,\n\t\torderTypeOptions:React.PropTypes.array,\n\t}\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t}\n\n\tonSubmit=(values)=>{\n\t\tconst {onSubmit} = this.props;\n\t\tonSubmit && onSubmit(values);\n\t}\n\tonCancel=()=>{\n\t\tconst {onCancel} = this.props;\n\t\tonCancel && onCancel();\n\t}\n\n\n\n\n\n\trender() {\n\n\t\tconst { error, handleSubmit, submitting,initialValues,communityOptions,orderTypeOptions,changeValues} = this.props;\n\t\tlet cityName = '';\n\t\tcommunityOptions.map(function(item){\n\t\t\tif(item.communityId == changeValues.communityid){\n\t\t\t\tcityName = item.cityName;\n\t\t\t}\n\t\t});\n\n\t\treturn (\n\t\t\t<form onSubmit={handleSubmit(this.onSubmit)} style={{padding:20}}>\n\n\t\t\t<KrField name=\"customerName\" grid={1} label=\"客户名称\" component=\"labelText\" disabled={true} value={initialValues.customerName} inline={false}/>\n\n\t\t\t <KrField name=\"mainbilltype\" grid={1/2} right={30} component=\"select\" label=\"订单类型\" requireLabel={true} inline={false} options={orderTypeOptions}/>\n\n\t\t\t\t <KrField name=\"communityid\" grid={1/2} left={30} component=\"select\" label=\"所在社区\" requireLabel={true} inline={false} options={communityOptions}/>\n\t\t\t\t\t<KrField label=\"所在城市\" grid={1/2} right={30} value={cityName||'无'} component=\"labelText\" inline={false}/>\n\t\t\t\t\t <KrField name=\"mainbillname\" grid={1/2} left={30} type=\"text\" label=\"订单名称\" requireLabel={true} value={initialValues.mainbillname} component=\"labelText\" inline={false}/>\n\t\t\t\t\t <KrField name=\"mainbilldesc\" type=\"textarea\" label=\"订单描述\" component=\"textarea\" inline={false}  maxSize={200}/>\n\n\t\t\t\t\t<Grid >\n\t\t\t\t\t\t<ListGroup>\n\t\t\t\t\t\t\t<ListGroupItem style={{width:'45%',textAlign:'right',paddingRight:15}}><Button  label=\"确定\" type=\"submit\" disabled={submitting} /></ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem style={{width:'45%',textAlign:'left',paddingLeft:15}}><Button  label=\"取消\" cancle={true} type=\"button\"  disabled={submitting} onClick={this.onCancel} /></ListGroupItem>\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t</Grid>\n\t\t\t</form>\n)\n\t}\n}\nconst selector = formValueSelector('orderEditForm');\nconst validate = values => {\n\n\tconst errors = {}\n\n\tif(!values.mainbilltype){\n\t\t\t\terrors.mainbilltype = '请选择订单类型';\n\t\t\t  }else if (!values.communityid) {\n\t\t\t\terrors.communityid = '请选择所在社区';\n\t\t\t  }else if(!values.mainbillname){\n\t\t\t\terrors.mainbillname = '订单名称不能为空';\n\t\t\t  }\n\n\n\treturn errors\n}\n\nOrderEditForm = reduxForm({\n\tform: 'orderEditForm',\n\tvalidate,\n\tenableReinitialize: true,\n\tkeepDirtyOnReinitialize: true\n})(OrderEditForm);\n\nexport default connect((state) => {\n\n\tlet changeValues = {};\n\n\tchangeValues.communityid = selector(state, 'communityid');\n\n\n\treturn {\n\t\tchangeValues\n\t}\n\n})(OrderEditForm);\n"]}