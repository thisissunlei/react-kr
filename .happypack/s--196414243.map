{"version":3,"sources":["src/Containers/Operation/CommunityManage/CompanyMembers/EditMember.js"],"names":["CreateMemberForm","props","context","onSubmit","values","EmailonBlur","email","foreignCode","foreignCodeBlur","state","onsubmit","onsubmitCode","onCancel","getBasicData","memberId","url","params","communityId","companyId","id","_this","dispatch","callAPI","then","response","jobList","forEach","item","value","label","jobName","setState","itemData","memberInfoVO","baseInfo","catch","err","error","message","phone","open","detail","warn","codes","code","undefined","initializeValues","handleSubmit","nextProps","images","name","checkStatus","communityName","companyName","margin","width","textAlign","padding","paddingRight","paddingLeft","validate","errors","test","sendMsg","form","enableReinitialize","keepDirtyOnReinitialize"],"mappings":"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","file":"EditMember.js","sourceRoot":"/Users/liuyihao/Code/kr-admin","sourcesContent":["import React, {\n\tComponent,\n\tPropTypes\n} from 'react';\n\nimport {\n\treduxForm,\n\tformValueSelector,\n\tinitialize,\n\tarrayPush,\n\tarrayInsert,\n\tFieldArray,\n\tchange\n} from 'redux-form';\n\nimport {\n\tActions,\n\tStore,\n\tconnect\n} from 'kr/Redux';\n\n\nimport {\n\tSection,\n\tKrField,\n\tGrid,\n\tRow,\n\tCol,\n\tMessage,\n\tButton,\n\tKrDate,\n\tDotTitle,\n\tButtonGroup,\n\tPaper,\n\tListGroup,\n\tListGroupItem,\n\tField,\n\tKrForm\n} from 'kr-ui';\nimport './index.less';\nimport {ShallowEqual} from 'kr/Utils';\n\nexport default class CreateMemberForm extends Component {\n\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.detail = this.props.detail;\n\n\t\tthis.state={\n\t\t\tjobList:[],\n\t\t\titemData:{},\n\t\t\tinitializeValues:{},\n\t\t\tonsubmit:true,\n\t\t\tonsubmitCode:true,\n\t\t\tbaseInfo:{}\n\t\t}\n\t}\n\t//首次加载，只执行一次\n\tcomponentWillMount() {\n\t\tthis.getBasicData(this.detail);\n\t\tlet {detail,handleSubmit} = this.props;\n\t\t// Store.dispatch(initialize('createMemberForm', detail));\n\t\t// Store.dispatch(change('createMemberForm','foreignCode', detail));\n\n\t}\n\tcomponentWillReceiveProps(nextProps){\n\t\tif(!ShallowEqual(this.state.initializeValues,nextProps.detail)){\n\t\t\tthis.setState({\n\t\t\t\tinitializeValues:nextProps.detail\n\t\t\t});\n\t\t\t// Store.dispatch(initialize('createMemberForm', nextProps.detail));\n\n\t\t}\n\t}\n\n\tonSubmit=(values)=>{\n\t \tthis.EmailonBlur(values.email);\n\t\tif(values.foreignCode){\n\n\t\t \tthis.foreignCodeBlur(values.foreignCode);\n\t\t}\n\t \tlet {onsubmit,onsubmitCode} = this.state;\n\t \tif(onsubmit && onsubmitCode){\n\t \t\tconst {onSubmit} = this.props;\n\t\t \tonSubmit && onSubmit(values);\n\t \t}\n\n\t }\n\tonCancel=()=>{\n\t\tconst {onCancel} = this.props;\n\t\tonCancel && onCancel();\n\t}\n\tgetBasicData=(memberId)=>{\n\t\tlet url = this.props.params;\n\t\tlet params = {\n\t\t\tcommunityId:url.communityId,\n\t\t\tcompanyId:url.companyId,\n\t\t\tmemberId:memberId.id || ''\n\t\t}\n\t\tlet _this = this;\n\t\tStore.dispatch(Actions.callAPI('getMemberBasicData', params)).then(function(response) {\n\t\t\tresponse.jobList.forEach((item)=>{\n\t\t\t\titem.value = item.id;\n\t\t\t\titem.label = item.jobName;\n\t\t\t})\n\n\n\t\t\t_this.setState({\n\t\t\t\tjobList:response.jobList,\n\t\t\t\titemData:response.memberInfoVO,\n\t\t\t\tbaseInfo:response.memberInfoVO\n\t\t\t},function(){\n\t\t\t\tStore.dispatch(initialize('createMemberForm', response.memberInfoVO));\n\t\t\t})\n\n\n\n\n\n\t\t}).catch(function(err) {\n\t\t\tMessage.error(err.message);\n\t\t});\n\t}\n\tEmailonBlur=(phone)=>{\n\t\t let params = {\n\t\t\t email :phone\n\t\t }\n\t\t this.setState({\n\t \t\topen:true\n\t \t})\n\t\t let {detail} = this.props;\n\t\t let _this = this;\n\n\t\t Store.dispatch(Actions.callAPI('isEmailRegistered',params)).then(function(response){\n\t\t\t\t//邮箱已注册\n\t\t\t\tif(detail.phone == response.phone){\n\t\t\t\t\t_this.setState({\n\t\t\t\t\t\t\tonsubmit:true\n\t\t\t\t\t\t})\n\t\t\t\t\treturn;\n\t\t\t\t}else{\n\t\t\t\t\tMessage.warn('该邮箱已被绑定','error');\n\n\t\t\t\t\t\t_this.setState({\n\t\t\t\t\t\t\tonsubmit:false\n\t\t\t\t\t\t})\n\t\t\t\t}\n\n\n\t\t }).catch(function(err){\n\t\t \t//邮箱未注册\n\t\t\t// \tconsole.log('ddddd',err.message);\n\t\t \t_this.setState({\n\t\t\t\tonsubmit:true\n\t\t\t})\n\t\t });\n\t }\n\t foreignCodeBlur=(codes)=>{\n\t\t let params = {\n\t\t\t code :codes\n\t\t }\n\t\t let _this = this;\n\t\t this.setState({\n\t \t\topen:true\n\t \t})\n\t\t let {detail} = this.props;\n\t\t if(params.code !== undefined){\n\t\t\t Store.dispatch(Actions.callAPI('membersByForeignCode',params)).then(function(response){\n\t\t\t\t\t//会员卡号已注册\n\t\t\t\t\tif(detail.phone == response.phone){\n\t\t\t\t\t\t_this.setState({\n\t\t\t\t\t\t\tonsubmitCode:true\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}else if(response.phone == '-1'){\n\t\t\t\t\t\tMessage.warn('会员卡号未录入','error');\n\t\t\t\t\t\t_this.setState({\n\t\t\t\t\t\t\tonsubmitCode:false\n\t\t\t\t\t\t})\n\t\t\t\t\t}else{\n\t\t\t\t\t\tMessage.warn('会员卡号已注册','error');\n\t\t\t\t\t\t_this.setState({\n\t\t\t\t\t\t\tonsubmitCode:false\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\n\t\t\t }).catch(function(err){\n\t\t\t \t//会员卡号未注册\n\t\t\t\t// \tconsole.log('ddddd',err.message);\n\t\t\t \t_this.setState({\n\t\t\t\t\tonsubmitCode:true\n\t\t\t\t})\n\t\t\t });\n\t\t }\n\t }\n\n\n\n\n\n\trender() {\n\n\n\t\tlet {detail,handleSubmit} = this.props;\n\t\tlet {itemData,jobList,baseInfo} = this.state;\n\t\tlet images = `./images/all.png`;\n\n\n\t\treturn (\n\t\t\t<div className=\"edit-form\">\n\t\t\t\t<form onSubmit={handleSubmit(this.onSubmit)} >\n\t\t\t\t\t<div className=\"person-info\">\n\t\t\t\t\t\t<span className=\"person-name\">{detail.name}</span>\n\t\t\t\t\t\t{detail.checkStatus?<span className=\"person-status-not\">已验证</span>:<span className=\"person-status\">未验证</span>}\n\t\t\t\t\t\t<span className=\"person-id\">（员工UserID：{detail.id}）</span>\n\n\t\t\t\t\t</div>\n\t\t\t\t\t<KrField name=\"phone\" grid={1/2} label=\"手机号\" inline={false} component=\"labelText\" value={detail.phone} />\n\t\t\t\t\t<div className=\"split-lines\"></div>\n\t\t\t\t\t<KrField name=\"communityId\" grid={1/2} label=\"社区\" inline={false} component=\"labelText\" right={20} defaultValue={baseInfo.communityName} requireLabel={true}/>\n\t\t\t\t\t<KrField name=\"foreignCode\" grid={1/2} label=\"会员卡号\" type=\"text\" left={20} onBlur={this.foreignCodeBlur}  />\n\t\t\t\t\t<KrField name=\"companyId\" grid={1/2} label=\"公司\" inline={false} component=\"labelText\" defaultValue={baseInfo.companyName}  right={20}  requireLabel={true}/>\n\t\t\t\t\t<KrField name=\"email\" grid={1/2} label=\"邮箱:\" type=\"text\" left={20}  onBlur={this.EmailonBlur}  requireLabel={true}/>\n\t\t\t\t\t<KrField name=\"name\" grid={1/2}  label=\"姓名\" type=\"text\" right={20}  requireLabel={true} />\n\t\t\t\t\t<KrField name=\"jobId\" grid={1/2} label=\"职位\" defaultValue={detail.jobName} component=\"select\" left={20} options={jobList}/>\n\t\t\t\t\t<Grid style={{margin:'20px 0'}}>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<ListGroup>\n\t\t\t\t\t\t\t\t<ListGroupItem style={{width:'269px',textAlign:'right',padding:0,paddingRight:15}}><Button  label=\"确定\" type=\"submit\"   width={90} height={34}/></ListGroupItem>\n\t\t\t\t\t\t\t\t<ListGroupItem style={{width:'240px',textAlign:'left',padding:0,paddingLeft:15}}><Button  label=\"取消\" type=\"button\" cancle={true} onTouchTap={this.onCancel} width={90} height={34}/> </ListGroupItem>\n\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t  </Row>\n\t\t\t\t\t</Grid>\n\n\n\n\t\t\t\t\t\t\t </form>\n\t\t\t</div>\n)\n\t}\n}\nconst validate = values => {\n\n\tconst errors = {}\n\tlet code = /^\\d{10}$/;\n\tlet phone = /(^((\\+86)|(86))?[1][3456789][0-9]{9}$)|(^(0\\d{2,3}-\\d{7,8})(-\\d{1,4})?$)/;\n\tlet email = /^[a-z0-9]+([._\\\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/;\n\tif (!values.phone) {\n\t\terrors.phone = '请输入电话号码';\n\t}\n\n\tif (!values.communityId) {\n\t\terrors.communityId = '请输入社区名称';\n\t}\n\n\tif (!values.email) {\n\t\terrors.email = '请输入邮箱';\n\t}\n\tif (!values.companyId) {\n\t\terrors.companyId = '请输入公司';\n\t}\n\n\t// if (!values.jobId) {\n\t// \terrors.jobId = '请输入职位';\n\t// }\n\n\tif (!values.name) {\n\t\terrors.name = '请输入姓名';\n\t}\n\tif (!email.test(values.email) ) {\n        errors.email = '请填写正确邮箱';\n    }\n    if (!phone.test(values.phone) ) {\n        errors.phone = '请输入正确电话号';\n    }\n    if (values.foreignCode && !code.test(values.foreignCode) ) {\n        errors.foreignCode = '会员卡号为10位纯数字';\n    }\n    if (!values.sendMsg ) {\n        errors.sendMsg = '请选择是否发送验证短信';\n    }\n    // if (!values.foreignCode) {\n    //     errors.foreignCode = '请输入会员卡号';\n    // }\n\n\treturn errors\n}\nCreateMemberForm = reduxForm({\n\tform: 'createMemberForm',\n\tvalidate,\n\tenableReinitialize: true,\n\tkeepDirtyOnReinitialize: true,\n})(CreateMemberForm);\n"]}