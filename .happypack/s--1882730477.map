{"version":3,"sources":["src/Containers/Permission/Operations/index.js"],"names":["SearchForm","props","onFilter","value","form","console","log","options","label","marginBottom","marginTop","height","zIndex","onSubmit","Operations","context","onOperation","type","itemDetail","setState","openDeleteDialog","openEditDetailDialog","state","searchParams","page","pageSize","onLoaded","overflow","enableReinitialize","keepDirtyOnReinitialize"],"mappings":"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","file":"index.js","sourceRoot":"/Users/tmac_zc/Code/kr-admin","sourcesContent":["import PureRenderMixin from 'react-addons-pure-render-mixin';\nimport React, {\n\tComponent,\n\tPropTypes\n} from 'react';\n\nimport {\n\tconnect,\n\tActions,\n\tStore\n} from 'kr/Redux';\n\n\n\nimport {\n\treduxForm,\n\tformValueSelector,\n\tchange\n} from 'redux-form';\nimport {\n\tKrField,\n\tTable,\n\tTableBody,\n\tTableHeader,\n\tTableHeaderColumn,\n\tTableRow,\n\tTableRowColumn,\n\tTableFooter,\n\tButton,\n\tSection,\n\tGrid,\n\tRow,\n\tCol,\n\tListGroupItem,\n\tListGroup,\n\tDialog,\n\tSearchForms\n} from 'kr-ui';\nimport './index.less';\nimport Deletedialog from './Deletedialog';\nclass SearchForm extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t}\n\n\n\tonSubmit(form) {\n\t\tconsole.log('form', form)\n\t\t\t/*let {\n\t\t\t\tpage,\n\t\t\t\tpageSize,\n\t\t\t\tcommunityids,\n\t\t\t\tids,\n\t\t\t\tformValues,\n\t\t\t\tistip\n\t\t\t} = this.state\n\n\t\t\tformValues = {\n\t\t\t\ttype: form.filter || 'BILL',\n\t\t\t\tvalue: form.content,\n\t\t\t\tcommunityids: communityids || 0,\n\t\t\t\tpage: page,\n\t\t\t\tpageSize: pageSize\n\n\t\t\t}\n\n\t\t\tconst {\n\t\t\t\tonSubmit\n\t\t\t} = this.props;\n\t\t\tonSubmit && onSubmit(formValues, istip);*/\n\n\n\n\t}\n\n\n\tonFilter = (value) => {\n\t\tlet {\n\t\t\tonFilter\n\t\t} = this.props;\n\t\tonFilter && onFilter(value);\n\t}\n\n\n\n\trender() {\n\n\n\n\t\tlet options = [{\n\t\t\t\tlabel: '名称',\n\t\t\t\tvalue: 'name'\n\t\t\t}, {\n\t\t\t\tlabel: '类型',\n\t\t\t\tvalue: 'MEMBER'\n\t\t\t}, {\n\t\t\t\tlabel: '编码',\n\t\t\t\tvalue: 'PHONE'\n\t\t\t},\n\t\t\t/* {\n\t\t\t\t\t\tlabel: '所属模块',\n\t\t\t\t\t\tvalue: 'PHONE'\n\t\t\t\t\t}*/\n\t\t];\n\n\t\treturn (\n\t\t\t<form name=\"searchForm\" className=\"searchForm searchList\" style={{marginBottom:10,marginTop:12,height:45,zIndex:100}}>\n\t\t\t\t<SearchForms \n\t\t\t\t\t\tonSubmit={this.onSubmit} \n\t\t\t\t\t\tsearchFilter={options} \n\t\t\t\t\t\tstyle={{marginTop:5}} \n\t\t\t\t\t\tonFilter={this.onFilter}\n\t\t\t\t/>\n\t\t\t</form>\n\n\t\t);\n\t}\n}\n\nSearchForm = reduxForm({\n\tform: 'searchForm'\n})(SearchForm);\n\nclass Operations extends Component {\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = {\n\t\t\tsearchParams: {\n\t\t\t\tpage: 1,\n\t\t\t\tpageSize: 15\n\t\t\t},\n\t\t\titemDetail: '',\n\t\t\topenDeleteDialog: false\n\t\t}\n\t}\n\n\t//操作相关\n\tonOperation = (type, itemDetail) => {\n\n\t\tthis.setState({\n\t\t\titemDetail\n\t\t});\n\n\t\tif (type == 'delete') {\n\t\t\tthis.openDeleteDialog();\n\t\t} else if (type == 'edit') {\n\t\t\tthis.openEditDetailDialog();\n\t\t}\n\t}\n\topenDeleteDialog = () => {\n\t\tthis.setState({\n\t\t\topenDeleteDialog: !this.state.openDeleteDialog\n\t\t})\n\t}\n\n\n\trender() {\n\t\tlet {\n\t\t\topenDeleteDialog\n\t\t} = this.state;\n\t\treturn (\n\t\t\t<div className=\"g-operation\">\n\t\t\t\t<Section title=\"操作项\" >\n\t\t\t\t\t<SearchForm  /> {/*onSubmit={this.onSubmit} Ids={communityids} onChange={this.onChange} onFilter={this.onFilter}*/}\n\t        \t\t<Table\n\t\t\t\t\t\t\tstyle={{marginTop:10}}\n\t\t\t\t\t\t\tdisplayCheckbox={false}\n\t\t\t\t\t\t\tonLoaded={this.onLoaded}\n\t\t\t\t\t\t\tajax={true}\n\t\t\t\t\t\t\tajaxUrlName='findPage'\n\t\t\t\t\t\t\tajaxParams={this.state.searchParams}\n\t\t\t\t\t\t\tonOperation={this.onOperation}\n\t\t\t\t\t\t\t  >\n\t\t\t\t\t\t<TableHeader>\n\t\t\t\t\t\t<TableHeaderColumn>ID</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>名称</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>类型</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>编码</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>创建人</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>所属模块</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>创建时间</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>操作</TableHeaderColumn>\n\t\t\t\t\t</TableHeader>\n\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableRowColumn style={{overflow:'hidden'}} name=\"id\"></TableRowColumn>\n\t\t\t\t\t\t\t<TableRowColumn name=\"name\" ></TableRowColumn>\n\t\t\t\t\t\t\t<TableRowColumn \n\t\t\t\t\t\t\t\t\tname=\"type\" \n\t\t\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t\t\t{label:'菜单',value:'MENU'},\n\t\t\t\t\t\t\t\t\t\t{label:'操作',value:'OPERATION'}\n\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t></TableRowColumn>\n\t\t\t\t\t\t\t<TableRowColumn name=\"code\"></TableRowColumn>\n\t\t\t\t\t\t\t<TableRowColumn name=\"creater\"></TableRowColumn>\n\t\t\t\t\t\t\t<TableRowColumn name=\"moduleName\"></TableRowColumn>\n\t\t\t\t\t\t\t<TableRowColumn name=\"createTime\"></TableRowColumn>\n\t\t\t\t\t\t\t<TableRowColumn>\n\t\t\t\t\t\t\t\t\t<Button label=\"编辑\" onTouchTap=''  type=\"operation\" operation=\"edit\"/>\n\t\t\t\t\t\t\t\t\t<Button label=\"删除\"  type=\"operation\" operation=\"delete\"/>\n\t\t\t\t\t\t\t </TableRowColumn>\n\t\t\t\t\t\t </TableRow>\n\t\t\t\t\t</TableBody>\n\t\t\t\t\t<TableFooter></TableFooter>\n\t\t\t\t\t</Table>\n\t\t\t\t\t{openDeleteDialog?<Deletedialog />:''}\n\t\t\t\t</Section>\n\t\t\t\t\t\n\t\t\t</div>\n\t\t);\n\t}\n\n}\nexport default reduxForm({\n\tform: 'operations',\n\tenableReinitialize: true,\n\tkeepDirtyOnReinitialize: true\n})(Operations);"]}