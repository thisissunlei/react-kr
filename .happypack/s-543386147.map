{"version":3,"sources":["src/Redux/Modules/Navs/reducers.js"],"names":["navs","Types","state","action","type","SET_USER_NAVS","items","concat","response","aa","SET_NAVS_CURRENT_CHILD_ROUTER","current_child","router","SET_NAVS_CURRENT_PARENT_ROUTER","current_parent","SET_NAVS_CURRENT_ROUTER","current_router","SET_NAVS_ACTIVITY","childRouter","forEach","item","index","active","hasOwnProperty","Object","prototype","toString","call","menuItems","length","child","children","SET_NAVS_CURRENT_ITEMS","currentItem","filter","pop","current_items","SET_NAVS_CURRENT_ITEM_ACTIVE"],"mappings":";;;;;;;;QAEgBA,I,GAAAA,I;;;;;;AAFhB;;IAAYC,K;;;;;;AAEL,SAASD,IAAT,GAAgC;AAAA,KAAlBE,KAAkB,uEAAV,EAAU;AAAA,KAAPC,MAAO;;;AAEtC,SAAOA,OAAOC,IAAd;AACC;AACA,OAAKH,MAAMI,aAAX;AAAyB;AACxB,QAAIC,QAAQ,GAAGC,MAAH,CAAUJ,OAAOK,QAAjB,CAAZ;AACA,QAAIC,KAAK,4BAAc,EAAd,EAAiBP,KAAjB,EAAuB,EAACI,YAAD,EAAvB,CAAT;AACA,WAAOG,EAAP;AACA;AACD,OAAKR,MAAMS,6BAAX;AAAyC;AACxC,wBAAWR,KAAX,IAAiBS,eAAcR,OAAOS,MAAtC;AACA;;AAED,OAAKX,MAAMY,8BAAX;AAA0C;AACzC,wBAAWX,KAAX,IAAiBY,gBAAeX,OAAOS,MAAvC;AACA;;AAED,OAAKX,MAAMc,uBAAX;AAAmC;AAClC,wBAAWb,KAAX,IAAiBc,gBAAeb,OAAOS,MAAvC;AACA;;AAED,OAAKX,MAAMgB,iBAAX;AAA6B;;AAE5B,QAAIX,SAAQJ,MAAMI,KAAlB;;AAEA,QAAIM,SAAST,OAAOS,MAApB;AACA,QAAIM,cAAcf,OAAOe,WAAzB;;AAEAZ,WAAMa,OAAN,CAAc,UAASC,IAAT,EAAcC,KAAd,EAAoB;AACjC,SAAGD,KAAKR,MAAL,IAAeQ,KAAKR,MAAL,IAAgBA,MAAlC,EAAyC;AACxCQ,WAAKE,MAAL,GAAc,IAAd;AACA,MAFD,MAEK;AACJF,WAAKE,MAAL,GAAc,KAAd;AACA;AACD,SAAGF,KAAKG,cAAL,CAAoB,WAApB,KAAmCC,OAAOC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BP,KAAKQ,SAApC,MAAmD,gBAAtF,IAA0GR,KAAKQ,SAAL,CAAeC,MAA5H,EAAmI;AACjIT,WAAKQ,SAAL,CAAeT,OAAf,CAAuB,UAASW,KAAT,EAAe;;AAEpC,WAAGA,MAAMP,cAAN,CAAqB,WAArB,KAAqCC,OAAOC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BG,MAAMF,SAArC,MAAoD,gBAAzF,IAA6GE,MAAMF,SAAnH,IAAgIE,MAAMF,SAAN,CAAgBC,MAAnJ,EAA0J;AACxJC,cAAMF,SAAN,CAAgBT,OAAhB,CAAwB,UAASY,QAAT,EAAkB;AACxC,aAAGA,SAASnB,MAAT,IAAmBM,WAAtB,EAAkC;AAChCa,mBAAST,MAAT,GAAkB,IAAlB;AACD,UAFD,MAEK;AACJS,mBAAST,MAAT,GAAkB,KAAlB;AACA;AACF,SAND;AAOD;AAEF,OAZD;AAaD;AACD,KArBD;;AAwBA,wBAAWpB,KAAX,IAAiBI,aAAjB;AACA;;AAED,OAAKL,MAAM+B,sBAAX;AAAkC;AACjC,QAAM1B,UAAQJ,MAAMI,KAApB;AACA,QAAIM,SAAST,OAAOS,MAApB;;AAEA,QAAMqB,cAAc3B,QAAM4B,MAAN,CAAa,UAASd,IAAT,EAAcC,KAAd,EAAoB;AACpD,YAAOD,KAAKR,MAAL,IAAeQ,KAAKR,MAAL,IAAgBA,MAAtC;AACA,KAFmB,EAEjBuB,GAFiB,MAET,EAACP,WAAU,EAAX,EAFX;;AAIA,QAAMG,WAAWE,YAAYL,SAAZ,IAAwB,EAAzC;;AAEA,wBAAW1B,KAAX,IAAiBkC,eAAcL,QAA/B;AACA;;AAED,OAAK9B,MAAMoC,4BAAX;AAAwC;AACvC,wBAAWnC,KAAX;AACA;;AAED;AAAQ;AACP,WAAOA,KAAP;AACA;;AAxEF;AA2EA;;;;;;;;+BA7EeF,I","file":"reducers.js","sourceRoot":"/Users/tmac_zc/Code/kr-admin","sourcesContent":["import * as Types from './types';\n\nexport function navs(state = {},action){\n\n\tswitch(action.type){\n\t\t//用户navs\n\t\tcase Types.SET_USER_NAVS:{\n\t\t\tvar items = [].concat(action.response);\n\t\t\tvar aa = Object.assign({},state,{items});\n\t\t\treturn aa;\n\t\t}\n\t\tcase Types.SET_NAVS_CURRENT_CHILD_ROUTER:{\n\t\t\treturn {...state,current_child:action.router};\n\t\t}\n\n\t\tcase Types.SET_NAVS_CURRENT_PARENT_ROUTER:{\n\t\t\treturn {...state,current_parent:action.router};\n\t\t}\n\n\t\tcase Types.SET_NAVS_CURRENT_ROUTER:{\n\t\t\treturn {...state,current_router:action.router};\n\t\t}\n\n\t\tcase Types.SET_NAVS_ACTIVITY:{\n\n\t\t\tlet items = state.items;\n\n\t\t\tvar router = action.router;\n\t\t\tvar childRouter = action.childRouter;\n\n\t\t\titems.forEach(function(item,index){\n\t\t\t\tif(item.router && item.router ==  router){\n\t\t\t\t\titem.active = true;\n\t\t\t\t}else{\n\t\t\t\t\titem.active = false;\n\t\t\t\t}\n\t\t\t\tif(item.hasOwnProperty('menuItems')&& Object.prototype.toString.call(item.menuItems) === '[object Array]' && item.menuItems.length){\n\t\t\t\t\t\titem.menuItems.forEach(function(child){\n\n\t\t\t\t\t\t\t\tif(child.hasOwnProperty('menuItems') && Object.prototype.toString.call(child.menuItems) === '[object Array]' && child.menuItems && child.menuItems.length){\n\t\t\t\t\t\t\t\t\t\tchild.menuItems.forEach(function(children){\n\t\t\t\t\t\t\t\t\t\t\t\tif(children.router == childRouter){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchildren.active = true;\n\t\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\t\tchildren.active = false;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t\treturn {...state,items};\n\t\t}\n\n\t\tcase Types.SET_NAVS_CURRENT_ITEMS:{\n\t\t\tconst items = state.items;\n\t\t\tvar router = action.router;\n\n\t\t\tconst currentItem = items.filter(function(item,index){\n\t\t\t\treturn item.router && item.router ==  router;\n\t\t\t}).pop() ||{menuItems:[]};\n\n\t\t\tconst children = currentItem.menuItems ||[];\n\n\t\t\treturn {...state,current_items:children};\n\t\t}\n\n\t\tcase Types.SET_NAVS_CURRENT_ITEM_ACTIVE:{\n\t\t\treturn {...state};\n\t\t}\n\n\t\tdefault:{\n\t\t\treturn state;\n\t\t}\n\n\t}\n}\n"]}