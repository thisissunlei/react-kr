{"version":3,"sources":["src/Containers/Member/MemberManage/List/MemeberEditMemberForm.js"],"names":["MemeberEditMemberForm","props","context","onSubmit","values","communityChange","email","foreignCode","membersByForeignCode","state","onsubmit","onsubmitCode","onCancel","getBasicData","memberId","url","params","communityId","companyId","id","_this","dispatch","callAPI","then","response","jobList","forEach","item","value","label","jobName","memberInfoVO","setState","itemData","phone","code","catch","err","show","message","type","mail","open","detail","warn","codes","undefined","status","initializeValues","phoneSame","nextProps","handleSubmit","images","paddingBottom","name","checkStatus","requiredValue","margin","marginBottom","width","textAlign","padding","paddingRight","paddingLeft","validate","errors","test","sendMsg","form","enableReinitialize","keepDirtyOnReinitialize"],"mappings":"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","file":"MemeberEditMemberForm.js","sourceRoot":"/Users/tmac_zc/Code/kr-admin","sourcesContent":["import React, {\n\tComponent,\n\tPropTypes\n} from 'react';\n\nimport {\n\treduxForm,\n\tformValueSelector,\n\tinitialize,\n\tarrayPush,\n\tarrayInsert,\n\tFieldArray,\n\tchange\n} from 'redux-form';\n\nimport {\n\tActions,\n\tStore,\n\tconnect\n} from 'kr/Redux';\n\n\nimport {\n\tSection,\n\tKrField,\n\tGrid,\n\tRow,\n\tCol,\n\tMessage,\n\tNotify,\n\tButton,\n\tKrDate,\n\tDotTitle,\n\tButtonGroup,\n\tPaper,\n\tListGroup,\n\tListGroupItem,\n\tField,\n\tKrForm\n} from 'kr-ui';\nimport './index.less';\nimport {ShallowEqual} from 'kr/Utils';\n\nexport default class MemeberEditMemberForm extends Component {\n\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.detail = this.props.detail;\n\n\t\tthis.state={\n\t\t\tstatus:true,\n\t\t\tjobList:[],\n\t\t\titemData:{},\n\t\t\tinitializeValues:{},\n\t\t\topen:'false',\n\t\t\tonsubmit:true,\n\t\t\tphoneSame:'true',\n\t\t\tonsubmitCode:true,\n\t\t\tcode:'',\n\t\t\temail:'',\n\t\t}\n\t}\n\t//首次加载，只执行一次\n\tcomponentWillMount() {\n\t\tthis.getBasicData(this.detail);\n\t}\n\tcomponentWillReceiveProps(nextProps){\n\t\tif(!ShallowEqual(this.state.initializeValues,nextProps.detail)){\n\t\t\tthis.setState({\n\t\t\t\tinitializeValues:nextProps.detail\n\t\t\t})\n\t\t}\n\t}\n\n\tonSubmit=(values)=>{\n\t\tthis.communityChange(values.email);\n\t\tif(values.foreignCode){\n\t\t\tthis.membersByForeignCode(values.foreignCode);\n\t\t}\n\t \tlet {onsubmit,onsubmitCode} = this.state;\n\t \tif(onsubmit && onsubmitCode){\n\t \t\tconst {onSubmit} = this.props;\n\t\t \tonSubmit && onSubmit(values);\n\t\t}\n\t}\n\tonCancel=()=>{\n\t\tconst {onCancel} = this.props;\n\t\tonCancel && onCancel();\n\t}\n\tgetBasicData=(memberId)=>{\n\t\tlet url = this.props.params;\n\t\tlet params = {\n\t\t\tcommunityId:'',\n\t\t\tcompanyId:'',\n\t\t\tmemberId:memberId.id || ''\n\t\t}\n\t\tlet _this = this;\n\t\tStore.dispatch(Actions.callAPI('getMemberBasicData', params)).then(function(response) {\n\t\t\t// response.memberInfoVO.jobId= 11411;\n\t\t\tresponse.jobList.forEach((item)=>{\n\t\t\t\titem.value = item.id;\n\t\t\t\titem.label = item.jobName;\n\t\t\t})\n\t\t\tStore.dispatch(initialize('memeberEditMemberForm', response.memberInfoVO));\n\n\t\t\t_this.setState({\n\t\t\t\tjobList:response.jobList,\n\t\t\t\titemData:response.memberInfoVO,\n\t\t\t\tphone:response.memberInfoVO.phone,\n\t\t\t\tcode:response.memberInfoVO.foreignCode,\n\t\t\t})\n\n\n\t\t}).catch(function(err) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: err.message,\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t});\n\t}\n\tcommunityChange=(mail)=>{\n\t\tlet params = {\n\t\t\temail :mail\n\t\t}\n\t\tthis.setState({\n\t\t open:true\n\t })\n\t\tlet {detail} = this.props;\n\t\tlet _this = this;\n\n\t\tStore.dispatch(Actions.callAPI('isEmailRegistered',params)).then(function(response){\n\t\t\t //邮箱已注册\n\t\t\t if(detail.phone == response.phone){\n\t\t\t\t _this.setState({\n\t\t\t\t\t\t onsubmit:true\n\t\t\t\t\t })\n\t\t\t\t return;\n\t\t\t }else{\n\t\t\t\t Message.warn('该邮箱已被绑定','error');\n\n\t\t\t\t\t _this.setState({\n\t\t\t\t\t\t onsubmit:false\n\t\t\t\t\t })\n\t\t\t }\n\n\n\t\t}).catch(function(err){\n\t\t //邮箱未注册\n\t\t _this.setState({\n\t\t\t onsubmit:true\n\t\t })\n\t\t});\n\t}\n\tmembersByForeignCode=(codes)=>{\n\t\tlet params = {\n\t\t\tcode :codes\n\t\t}\n\t\tlet _this = this;\n\t\tthis.setState({\n\t\t open:true\n\t })\n\t\tlet {detail} = this.props;\n\t\tif(params.code !== undefined){\n\t\t\tStore.dispatch(Actions.callAPI('membersByForeignCode',params)).then(function(response){\n\t\t\t\t //会员卡号已注册\n\t\t\t\t if(detail.phone == response.phone){\n\t\t\t\t\t _this.setState({\n\t\t\t\t\t\t onsubmitCode:true\n\t\t\t\t\t })\n\t\t\t\t\t return;\n\t\t\t\t }else if(response.phone == '-1'){\n\t\t\t\t\t Message.warn('会员卡号未录入','error');\n\t\t\t\t\t _this.setState({\n\t\t\t\t\t\t onsubmitCode:false\n\t\t\t\t\t })\n\t\t\t\t }else{\n\t\t\t\t \tMessage.warn('会员卡号已注册','error');\n\t\t\t\t\t _this.setState({\n\t\t\t\t\t\t onsubmitCode:false\n\t\t\t\t\t })\n\t\t\t\t }\n\t\t\t}).catch(function(err){\n\t\t\t //会员卡号未注册\n\t\t\t _this.setState({\n\t\t\t\t onsubmitCode:true\n\t\t\t })\n\t\t\t});\n\t\t}\n\n\t}\n\n\n\n\n\n\trender() {\n\t\tlet {detail,handleSubmit} = this.props;\n\t\tlet {itemData,jobList} = this.state;\n\t\tlet images = `./images/all.png`;\n\t\t// itemData.phone = '13314619606';\n\t\treturn (\n\t\t\t<div className=\"edit-form\" style={{paddingBottom:\"3\"}}>\n\t\t\t\t<form onSubmit={handleSubmit(this.onSubmit)} >\n\t\t\t\t\t<div className=\"person-info\">\n\t\t\t\t\t\t<span className=\"person-name\">{detail.name}</span>\n\t\t\t\t\t\t{detail.checkStatus?<span className=\"person-status-not\">已验证</span>:<span className=\"person-status\">未验证</span>}\n\t\t\t\t\t\t<span className=\"person-id\">（员工UserID：{detail.id}）</span>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<KrField name=\"phone\" grid={1/2} label=\"手机号\" inline={false} component=\"labelText\" value={detail.phone} />\n\t\t\t\t\t<div className=\"split-lines\"></div>\n\n\n\t\t\t\t\t<KrField name=\"communityId\" grid={1/2} label=\"社区\" component=\"searchCommunity\" right={30} requiredValue={true}  errors={{requiredValue:'请选择社区'}} requireLabel={true}/>\n\n\t\t\t\t\t<KrField name=\"foreignCode\" grid={1/2} label=\"会员卡号\"   type=\"text\" left={30} onBlur={this.membersByForeignCode}/>\n\n\t\t\t\t\t<KrField name=\"companyId\" grid={1/2} label=\"公司\" component=\"searchCompany\"  right={30} requiredValue={true} errors={{requiredValue:'请填选择公司'}} requireLabel={true}/>\n\t\t\t\t\t<KrField name=\"email\" grid={1/2} label=\"邮箱:\" type=\"text\" left={30}  onBlur={this.communityChange}  requireLabel={true}/>\n\n\t\t\t\t\t<KrField name=\"name\" grid={1/2}  label=\"姓名\" type=\"text\" right={30}  requireLabel={true} requiredValue={true} errors={{requiredValue:'请填写会员卡号'}}/>\n\n\t\t\t\t\t<KrField name=\"jobId\" grid={1/2} label=\"职位\" component=\"select\" left={30} options={jobList}/>\n\t\t\t\t\t<Grid style={{margin:'20px 0',marginBottom:'0'}}>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<ListGroup>\n\t\t\t\t\t\t\t\t<ListGroupItem style={{width:'270px',textAlign:'right',padding:0,paddingRight:15}}><Button  label=\"确定\" type=\"submit\"   width={90} height={34}/></ListGroupItem>\n\t\t\t\t\t\t\t\t<ListGroupItem style={{width:'240px',textAlign:'left',padding:0,paddingLeft:15}}><Button  label=\"取消\" type=\"button\" cancle={true} onTouchTap={this.onCancel} width={90} height={34}/> </ListGroupItem>\n\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t  </Row>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t </form>\n\t\t\t</div>\n)\n\t}\n}\nconst validate = values => {\n\n\tconst errors = {}\n\tlet code = /^\\d{10}$/;\n\tlet phone = /(^((\\+86)|(86))?[1][3456789][0-9]{9}$)|(^(0\\d{2,3}-\\d{7,8})(-\\d{1,4})?$)/;\n\tlet email = /^[a-z0-9]+([._\\\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/;\n\tif (!values.communityId) {\n\t\terrors.communityId = '请输入社区名称';\n\t}\n\n\tif (!values.email) {\n\t\terrors.email = '请输入邮箱';\n\t}\n\tif (!values.companyId) {\n\t\terrors.companyId = '请输入公司名称';\n\t}\n\n\tif (!values.name || /^\\s+$/.test(values.name)) {\n\t\terrors.name = '请输入姓名';\n\t}\n\tif (values.email &&!email.test(values.email) ) {\n        errors.email = '请输入正确邮箱';\n    }\n  if (values.phone && !phone.test(values.phone) ) {\n      errors.phone = '请输入正确电话号';\n  }\n  if (values.foreignCode && !code.test(values.foreignCode) ) {\n      errors.foreignCode = '会员卡号为10位纯数字';\n  }\n  if (!values.sendMsg ) {\n      errors.sendMsg = '请选择是否发送验证短信';\n  }\n    // if (!values.foreignCode) {\n    //     errors.foreignCode = '请输入会员卡号';\n    // }\n\treturn errors\n}\nMemeberEditMemberForm = reduxForm({\n\tform: 'memeberEditMemberForm',\n\tvalidate,\n\tenableReinitialize: true,\n\tkeepDirtyOnReinitialize: true,\n})(MemeberEditMemberForm);\n"]}