{"version":3,"sources":["src/Containers/Permission/Home/PlanManage/index.js"],"names":["actionCreators","PlanManage","props","context","calendarChange","bind","closeDialog","openDialog","submitForm","confirmSubmit","renderPlan","actions","state","open","styles","paperStyle","width","margin","padding","switchStyle","marginBottom","submitStyle","marginTop","errorMessages","wordsError","numericError","urlError","value","console","log","setNowDate","setState","canSubmit","data","createPlan","form","refs","myForm","submit","plan","now_trip","length","map","item","index","title","now_date","items","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","file":"index.js","sourceRoot":"/Users/tmac_zc/Code/kr-admin","sourcesContent":["import React,{Component} from 'react';\nimport { connect } from 'react-redux';\nimport {bindActionCreators} from 'redux';\n\nimport * as actionCreators from 'kr-ui/../Redux/Actions';\n\nimport Section from 'kr-ui/Section';\nimport Calendar from 'kr-ui/Calendar';\n\nimport ContentInbox from 'material-ui/svg-icons/content/inbox';\n\nimport ActionDateRange from 'material-ui/svg-icons/action/date-range';\n\nimport {blue500, yellow600,red500,pink500,purple500} from 'material-ui/styles/colors';\n\nimport HardwarekeyboardArrowDown from 'material-ui/svg-icons/hardware/keyboard-arrow-down';\nimport ActionAssignment from 'material-ui/svg-icons/action/assignment';\n\n\nimport Formsy from 'formsy-react';\nimport { FormsyCheckbox, FormsyDate, FormsyRadio, FormsyRadioGroup,\n    FormsySelect, FormsyText, FormsyTime, FormsyToggle } from 'formsy-material-ui/lib';\n\n\nimport {\n\tMenu,\n\tMenuItem,\n\tDropDownMenu,\n\tIconMenu,\n\tIconButton,\n\tRaisedButton,\n\tDivider,\n\tFontIcon,\n\tDatePicker,\n\tDialog,\n\tFlatButton,\n\tTextField,\n\tTimePicker,\n\tSelectField,\n\tPaper,\n\tAvatar,\n\tSubheader,\n} from 'material-ui';\n\nimport {List, ListItem} from 'material-ui/List';\n\nimport './index.less';\n\nclass PlanManage extends Component{\n\n\n\tconstructor(props,context){\n\n\t\tsuper(props, context);\n\n\t\tthis.calendarChange = this.calendarChange.bind(this);\n\t\tthis.closeDialog = this.closeDialog.bind(this);\n\t\tthis.openDialog = this.openDialog.bind(this);\n\t\tthis.submitForm = this.submitForm.bind(this);\n\t\tthis.confirmSubmit = this.confirmSubmit.bind(this);\n\n\t\tthis.renderPlan = this.renderPlan.bind(this);\n\n\t\tvar {actions} = this.props;\n\n\t\tthis.state = {\n\t\t\topen:false,\n\t\t}\n\n\t\tthis.styles =  {\n\t\t\tpaperStyle: {\n\t\t\t\twidth: 300,\n\t\t\t\tmargin: 'auto',\n\t\t\t\tpadding: 20,\n\t\t\t},\n\t\t\tswitchStyle: {\n\t\t\t\tmarginBottom: 16,\n\t\t\t},\n\t\t\tsubmitStyle: {\n\t\t\t\tmarginTop: 32,\n\t\t\t},\n\t\t}\n\n\n\t\tthis.errorMessages =  {\n\t\t\twordsError: \"Please only use letters\",\n\t\t\tnumericError: \"Please provide a number\",\n\t\t\turlError: \"Please provide a valid URL\",\n\t\t}\n\n\t}\n\n\n\n\tcomponentDidMount() {\n\n\t}\n\n\n\tcalendarChange(value){\n\t\tvar {actions} = this.props;\n\t\tconsole.log('--->>>',value);\n\t\tactions.setNowDate(value);\n\t}\n\n\topenDialog(){\n\n\t\tthis.setState({\n\t\t\topen:!this.state.open\n\t\t});\n\n\t}\n\n\n\n\tenableButton() {\n\t\tthis.setState({\n\t\t\tcanSubmit: true,\n\t\t});\n\t}\n\n\tsubmitForm(data) {\n\t\tconsole.log(data);\n\t\tthis.setState({open: false});\n\t\tconst {actions} = this.props;\n\n\t\tactions.createPlan(data);\n\n\t}\n\n\tconfirmSubmit(){\n\t\tvar form = this.refs.myForm;\n\t\tform.submit();\n\t}\n\n\tcloseDialog(){\n\t\tthis.setState({open: false});\n\t}\n\n\trenderPlan(){\n\n\t\tif(!this.props.plan.now_trip.length){\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<Paper zDepth={1} style={{marginTop:20}}>\n\t\t\t\t<List>\n\t\t\t\t\t<Subheader>日程</Subheader>\n\t\t\t\t\t<Divider />\n\t\t\t\t\t{this.props.plan.now_trip.map((item,index)=>{\n\t\t\t\t\t\treturn <ListItem primaryText={item.title} key={index} \n\t\t\t\t\t\tleftIcon={\n\t\t\t\t\t\t\t<Avatar icon={<ActionAssignment />} backgroundColor={yellow600}  color=\"#fff\" size={25}/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\trightIcon={<HardwarekeyboardArrowDown />} \n\t\t\t\t\t\t/>\n\t\t\t\t\t})}\n\t\t\t\t</List>\n\t\t\t</Paper>\n\t\t);\n\t}\n\n\trender(){\n\n\t\tlet {paperStyle, switchStyle, submitStyle } = this.styles;\n\t\tlet { wordsError, numericError, urlError } = this.errorMessages;\n\n\t\tconst actions = [\n\t\t\t<FlatButton\n\t\t\tlabel=\"取消\"\n\t\t\tjoinEditForm\n\t\t\tonTouchTap={this.closeDialog}\n\t\t\t/>,\n\t\t\t<FlatButton\n\t\t\tlabel=\"提交\"\n\t\t\tjoinEditForm\n\t\t\tkeyboardFocused={true}\n\t\t\tonTouchTap={this.confirmSubmit}\n\t\t\t/>\n\t\t];\n\n\n\t\treturn(\n\t\t\t<div>\n\t\t\t<Section title=\"日程管理\"\n\t\t\t\tdescription=\"\"\n\t\t\t\tleftIcon= {\n\t\t\t\t\t<Avatar icon={<ActionDateRange  />}  backgroundColor={purple500} size={25}/>\n\t\t\t\t}\n\t\t\t\trightMenu = {\n\t\t\t\t\t<Menu>\n\t\t\t\t\t<MenuItem primaryText=\"写备忘\" onTouchTap={this.openDialog} />\n\t\t\t\t\t<MenuItem primaryText=\"其他\" />\n\t\t\t\t\t</Menu>\n\t\t\t\t} >\n\n\t\t\t<Calendar value={this.props.now_date} onChange={this.calendarChange} active={true} items={this.props.items} />\n\n\t\t\t\n\t\t\t{this.renderPlan()}\n\t\t\t\n\n\t\t\t</Section>\n\n\t\t\t<Dialog\n\t\t\ttitle=\"写备忘\"\n\t\t\tmodal={false}\n\t\t\topen={this.state.open}\n\t\t\tonRequestClose={this.closeDialog}\n\t\t\tautoScrollBodyContent={true}\n\t\t\tactions={actions}\n\t\t\t>\n\n\t\t\t<div className=\"form\">\n\n\t\t\t<Formsy.Form\n\t\t\tonValidSubmit={this.submitForm}\n\t\t\tref=\"myForm\"\n\t\t\t>\n\n\t\t\t<div className=\"form-group\">\n\t\t\t\t<label for=\"\" className=\"label-control\">备忘内容</label>\n\t\t\t\t<div className=\"form-control\">\n\t\t\t\t\t<FormsyText\n\t\t\t\t\t\tname=\"content\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\thintText=\"备忘内容\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className=\"form-group\">\n\t\t\t\t<label for=\"\" className=\"label-control\">时间</label>\n\t\t\t\t<div className=\"form-control\">\n\t\t\t\t\t\t<FormsyDate\n\t\t\t\t\t\tname=\"date\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\thintText=\"日期\"\n\t\t\t\t\t\tokLabel=\"确定\"\n\t\t\t\t\t\tcancelLabel=\"取消\"\n\t\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"item\">\n\t\t\t\t\t<FormsyTime\n\t\t\t\t\tname=\"time\"\n\t\t\t\t\thintText=\"时间\"\n\t\t\t\t\trequired\n\t\t\t\t\tokLabel=\"确定\"\n\t\t\t\t\tcancelLabel=\"取消\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\n\t\t\t\t</Formsy.Form>\n\t\t\t</div>\n\n\t\t\t\t</Dialog>\n\n\t\t\t\t</div>\n\n\t\t);\n\n\t}\n\n}\n\n\n\n\n\n\n\nfunction mapStateToProps(state){\n\n\treturn {\n\t\tplan:state.plan,\n\t\titems:state.plan.items,\n\t\tnow_date:state.plan.now_date\n\t};\n}\n\nfunction mapDispatchToProps(dispatch){\n\treturn {\n\t\tactions:bindActionCreators(Object.assign({},actionCreators),dispatch)\n\t};\n}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(PlanManage);\n\n"]}