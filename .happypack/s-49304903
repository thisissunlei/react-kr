'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _class;

var _react = require('react');

var _react2 = _interopRequireDefault(_react);

var _Redux = require('kr/Redux');

var _reduxForm = require('redux-form');

var _mobxReact = require('mobx-react');

var _krUi = require('kr-ui');

var _State = require('./State');

var _State2 = _interopRequireDefault(_State);

var _State3 = require('../Merchants/State');

var _State4 = _interopRequireDefault(_State3);

var _State5 = require('../Personal/State');

var _State6 = _interopRequireDefault(_State5);

var _State7 = require('../SignedClient/State');

var _State8 = _interopRequireDefault(_State7);

var _State9 = require('../LookCustomerList/State');

var _State10 = _interopRequireDefault(_State9);

require('./index.less');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var NewVisitIndent = (0, _mobxReact.observer)(_class = function (_Component) {
	_inherits(NewVisitIndent, _Component);

	function NewVisitIndent(props) {
		_classCallCheck(this, NewVisitIndent);

		var _this2 = _possibleConstructorReturn(this, (NewVisitIndent.__proto__ || Object.getPrototypeOf(NewVisitIndent)).call(this, props));

		_this2.onSubmit = function (values) {
			var _this2$props = _this2.props,
			    listId = _this2$props.listId,
			    operType = _this2$props.operType;

			var _this = _this2;
			_Redux.Store.dispatch(_Redux.Actions.callAPI('customerVisitRecord', {}, values)).then(function (response) {
				_State10.default.lookListId(listId, operType);
				if (operType == "SHARE") {
					_State4.default.searchParams = {
						page: 1,
						pageSize: 15,
						time: +new Date()
					};
				}
				if (operType == "PERSON") {
					_State6.default.searchParams = {
						page: 1,
						pageSize: 15,
						time: +new Date()
					};
				}
				if (operType == "SIGN") {
					_State8.default.searchParams = {
						page: 1,
						pageSize: 15,
						time: +new Date()
					};
				}
				_State4.default.openDialog = false;
				_State6.default.openPersonDialog = false;
				_State8.default.openPersonDialog = false;
				_this.onCancel();
			}).catch(function (err) {
				_krUi.Message.error(err.message);
			});
		};

		_this2.onCancel = function () {
			var onCancel = _this2.props.onCancel;

			onCancel && onCancel();
		};

		_this2.hasSelectClick = function (params) {
			if (params.value == "NO") {
				_Redux.Store.dispatch((0, _reduxForm.change)('NewVisitIndent', 'reasonId', ''));
				_State2.default.showMatureTime();
			} else if (params.value == "YES") {
				_State2.default.noShowMatureTime();
				_State2.default.noShowOtherContinue();
			}
		};

		_this2.otherContinue = function (value) {
			if (value) {
				if (value.label == '其他') {
					_State2.default.showOtherContinue();
				} else {
					_State2.default.noShowOtherContinue();
				}
			} else {
				_State2.default.noShowOtherContinue();
			}
		};

		_this2.renderContinue = function () {
			var selectDatas = _this2.props.selectDatas;

			var content = '';
			if (_State2.default.matureTime) {
				content = _react2.default.createElement(_krUi.KrField, { grid: 1 / 2, label: '\u653E\u5F03\u539F\u56E0', name: 'reasonId', style: { width: 261, marginLeft: -6 }, component: 'select',
					options: selectDatas.giveupList,
					requireLabel: true,
					onChange: _this2.otherContinue
				});
			}
			return content;
		};

		_this2.renderOtherContinue = function () {
			var content = '';
			if (_State2.default.otherContinue) {
				content = _react2.default.createElement(_krUi.KrField, { grid: 1 / 2, label: '\u5176\u4ED6\u539F\u56E0', name: 'reasonOther', style: { width: 261, marginLeft: 29 }, component: 'input',
					requireLabel: true
				});
			}
			return content;
		};

		return _this2;
	}

	_createClass(NewVisitIndent, [{
		key: 'componentDidMount',
		value: function componentDidMount() {
			_State2.default.noShowMatureTime();
			_State2.default.noShowOtherContinue();
		}
	}, {
		key: 'render',
		value: function render() {
			var _props = this.props,
			    error = _props.error,
			    handleSubmit = _props.handleSubmit,
			    pristine = _props.pristine,
			    reset = _props.reset,
			    selectDatas = _props.selectDatas;


			return _react2.default.createElement(
				'form',
				{ className: 'm-newVisitIndent', onSubmit: handleSubmit(this.onSubmit) },
				_react2.default.createElement(
					'div',
					{ className: 'title' },
					_react2.default.createElement(
						'div',
						null,
						_react2.default.createElement('span', { className: 'new-icon' }),
						_react2.default.createElement(
							'label',
							{ className: 'title-text', style: { marginLeft: 7 } },
							this.props.companyName
						)
					),
					_react2.default.createElement('div', { className: 'close', onClick: this.onCancel })
				),
				_react2.default.createElement(
					'div',
					{ className: 'kk', style: { marginTop: 27, marginLeft: 40 } },
					_react2.default.createElement(_krUi.KrField, { name: 'customerId', type: 'hidden' }),
					_react2.default.createElement(_krUi.KrField, { grid: 1 / 2, label: '\u62DC\u8BBF\u65B9\u5F0F', name: 'visitType', style: { width: 261, marginLeft: -6 }, component: 'select',
						options: selectDatas.visitTypeList,
						requireLabel: true
					}),
					_react2.default.createElement(_krUi.KrField, { grid: 1 / 2, label: '\u62DC\u8BBF\u65F6\u95F4', name: 'visitTime', style: { width: 260, marginLeft: 29 }, component: 'date', requireLabel: true }),
					_react2.default.createElement(_krUi.KrField, { grid: 1 / 2, label: '\u8054\u7CFB\u4EBA', name: 'linkName', style: { width: 261, marginLeft: -6 }, component: 'input', requireLabel: true }),
					_react2.default.createElement(_krUi.KrField, { grid: 1 / 2, label: '\u5BA2\u6237\u5206\u7C7B', name: 'levelId', component: 'select', style: { width: 261, marginLeft: 29 },
						options: selectDatas.levelList,
						requireLabel: true
					}),
					_react2.default.createElement(_krUi.KrField, { grid: 1 / 2, label: '\u8054\u7CFB\u65B9\u5F0F', name: 'linkTel', style: { width: 261, marginLeft: -6 }, component: 'input', requireLabel: true }),
					_react2.default.createElement(
						_krUi.KrField,
						{ grid: 1 / 2, label: '\u662F\u5426\u7EE7\u7EED\u8DDF\u8FDB', name: 'isContinue', style: { width: 261, marginLeft: 29 }, component: 'group', requireLabel: true },
						_react2.default.createElement(_krUi.KrField, { name: 'isContinue', label: '\u662F', value: 'YES', component: 'radio', type: 'radio', onClick: this.hasSelectClick }),
						_react2.default.createElement(_krUi.KrField, { name: 'isContinue', label: '\u5426', value: 'NO', component: 'radio', type: 'radio', onClick: this.hasSelectClick })
					),
					this.renderContinue(),
					this.renderOtherContinue(),
					_react2.default.createElement(
						'div',
						{ className: 'speakInfo' },
						_react2.default.createElement(_krUi.KrField, { grid: 1, label: '\u6C9F\u901A\u60C5\u51B5', name: 'visitDetail', style: { marginLeft: -6, marginTop: 3 }, heightStyle: { height: "80px", width: '543px' }, component: 'textarea', maxSize: 100, requireLabel: true, placeholder: '\u8BF7\u8F93\u5165\u6C9F\u901A\u60C5\u51B5', lengthClass: 'order-textarea' })
					),
					_react2.default.createElement(_krUi.KrField, { grid: 1, label: '\u5907\u6CE8', name: 'remark', style: { marginLeft: -6, marginTop: -17 }, heightStyle: { height: "80px", width: '543px' }, component: 'textarea', maxSize: 100, placeholder: '\u8BF7\u8F93\u5165\u63CF\u8FF0', lengthClass: 'visit-length-textarea' })
				),
				_react2.default.createElement(
					_krUi.Grid,
					{ style: { marginRight: 30 } },
					_react2.default.createElement(
						_krUi.Row,
						null,
						_react2.default.createElement(
							_krUi.Col,
							{ md: 12, align: 'center' },
							_react2.default.createElement(
								_krUi.ButtonGroup,
								null,
								_react2.default.createElement(
									'div',
									{ className: 'ui-btn-center' },
									_react2.default.createElement(_krUi.Button, { label: '\u786E\u5B9A', type: 'submit' })
								),
								_react2.default.createElement(_krUi.Button, { label: '\u53D6\u6D88', type: 'button', cancle: true, onTouchTap: this.onCancel })
							)
						)
					)
				)
			);
		}
	}]);

	return NewVisitIndent;
}(_react.Component)) || _class;

NewVisitIndent.PropTypes = {
	onSubmit: _react2.default.PropTypes.func,
	onCancel: _react2.default.PropTypes.func
};

var validate = function validate(values) {

	var errors = {};
	var phone = /(^((\+86)|(86))?[1][3456789][0-9]{9}$)|(^(0\d{2,3}-\d{7,8})(-\d{1,4})?$)/;
	//let email = /^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/;
	if (!values.visitType) {
		errors.visitType = '请填写拜访方式';
	}
	if (!values.visitTime) {
		errors.visitTime = '请填写拜访时间';
	}

	if (!values.linkName) {
		errors.linkName = '请填写联系人姓名';
	}

	if (!values.levelId) {
		errors.levelId = '请填写客户分类';
	}

	if (!values.linkTel) {
		errors.linkTel = '请填写联系人电话';
	} else if (!phone.test(values.linkTel)) {
		errors.linkTel = '联系人电话格式错误';
	}

	if (!values.reasonId) {
		errors.reasonId = '请填写放弃原因';
	}

	if (!values.reasonOther) {
		errors.reasonOther = '请填写其他原因';
	} else if (values.reasonOther.length > 50) {
		errors.reasonOther = '其他原因最多填写50个字';
	}

	if (!values.visitDetail) {
		errors.visitDetail = '请填写沟通情况';
	}

	return errors;
};

var _default = (0, _reduxForm.reduxForm)({ form: 'NewVisitIndent', validate: validate })(NewVisitIndent);

exports.default = _default;
;

var _temp = function () {
	if (typeof __REACT_HOT_LOADER__ === 'undefined') {
		return;
	}

	__REACT_HOT_LOADER__.register(NewVisitIndent, 'NewVisitIndent', '/Users/tmac_zc/Code/kr-admin/src/Containers/Operation/CustomerManage/CustomerList/NewVisitIndent/index.js');

	__REACT_HOT_LOADER__.register(validate, 'validate', '/Users/tmac_zc/Code/kr-admin/src/Containers/Operation/CustomerManage/CustomerList/NewVisitIndent/index.js');

	__REACT_HOT_LOADER__.register(_default, 'default', '/Users/tmac_zc/Code/kr-admin/src/Containers/Operation/CustomerManage/CustomerList/NewVisitIndent/index.js');
}();

;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9Db250YWluZXJzL09wZXJhdGlvbi9DdXN0b21lck1hbmFnZS9DdXN0b21lckxpc3QvTmV3VmlzaXRJbmRlbnQvaW5kZXguanMiXSwibmFtZXMiOlsiTmV3VmlzaXRJbmRlbnQiLCJwcm9wcyIsIm9uU3VibWl0IiwidmFsdWVzIiwibGlzdElkIiwib3BlclR5cGUiLCJfdGhpcyIsImRpc3BhdGNoIiwiY2FsbEFQSSIsInRoZW4iLCJyZXNwb25zZSIsImxvb2tMaXN0SWQiLCJzZWFyY2hQYXJhbXMiLCJwYWdlIiwicGFnZVNpemUiLCJ0aW1lIiwiRGF0ZSIsIm9wZW5EaWFsb2ciLCJvcGVuUGVyc29uRGlhbG9nIiwib25DYW5jZWwiLCJjYXRjaCIsImVyciIsImVycm9yIiwibWVzc2FnZSIsImhhc1NlbGVjdENsaWNrIiwicGFyYW1zIiwidmFsdWUiLCJzaG93TWF0dXJlVGltZSIsIm5vU2hvd01hdHVyZVRpbWUiLCJub1Nob3dPdGhlckNvbnRpbnVlIiwib3RoZXJDb250aW51ZSIsImxhYmVsIiwic2hvd090aGVyQ29udGludWUiLCJyZW5kZXJDb250aW51ZSIsInNlbGVjdERhdGFzIiwiY29udGVudCIsIm1hdHVyZVRpbWUiLCJ3aWR0aCIsIm1hcmdpbkxlZnQiLCJnaXZldXBMaXN0IiwicmVuZGVyT3RoZXJDb250aW51ZSIsImhhbmRsZVN1Ym1pdCIsInByaXN0aW5lIiwicmVzZXQiLCJjb21wYW55TmFtZSIsIm1hcmdpblRvcCIsInZpc2l0VHlwZUxpc3QiLCJsZXZlbExpc3QiLCJoZWlnaHQiLCJtYXJnaW5SaWdodCIsIlByb3BUeXBlcyIsImZ1bmMiLCJ2YWxpZGF0ZSIsImVycm9ycyIsInBob25lIiwidmlzaXRUeXBlIiwidmlzaXRUaW1lIiwibGlua05hbWUiLCJsZXZlbElkIiwibGlua1RlbCIsInRlc3QiLCJyZWFzb25JZCIsInJlYXNvbk90aGVyIiwibGVuZ3RoIiwidmlzaXREZXRhaWwiLCJmb3JtIl0sIm1hcHBpbmdzIjoiOzs7Ozs7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QUFDQTs7QUFFRCxLQUFJLENBQUNyRCxPQUFPc0QsUUFBWixFQUFzQjtBQUNyQkosU0FBT0ksUUFBUCxHQUFrQixVQUFsQjtBQUNBOztBQUVELEtBQUksQ0FBQ3RELE9BQU91RCxPQUFaLEVBQXFCO0FBQ3BCTCxTQUFPSyxPQUFQLEdBQWlCLFNBQWpCO0FBQ0E7O0FBRUQsS0FBSSxDQUFDdkQsT0FBT3dELE9BQVosRUFBcUI7QUFDcEJOLFNBQU9NLE9BQVAsR0FBaUIsVUFBakI7QUFDQSxFQUZELE1BRU0sSUFBRyxDQUFDTCxNQUFNTSxJQUFOLENBQVd6RCxPQUFPd0QsT0FBbEIsQ0FBSixFQUErQjtBQUNwQ04sU0FBT00sT0FBUCxHQUFpQixXQUFqQjtBQUNBOztBQUdELEtBQUksQ0FBQ3hELE9BQU8wRCxRQUFaLEVBQXNCO0FBQ3JCUixTQUFPUSxRQUFQLEdBQWtCLFNBQWxCO0FBQ0E7O0FBRUQsS0FBSSxDQUFDMUQsT0FBTzJELFdBQVosRUFBeUI7QUFDeEJULFNBQU9TLFdBQVAsR0FBcUIsU0FBckI7QUFDQSxFQUZELE1BRU0sSUFBRzNELE9BQU8yRCxXQUFQLENBQW1CQyxNQUFuQixHQUEwQixFQUE3QixFQUFnQztBQUNyQ1YsU0FBT1MsV0FBUCxHQUFxQixjQUFyQjtBQUNBOztBQUdELEtBQUksQ0FBQzNELE9BQU82RCxXQUFaLEVBQXlCO0FBQ3hCWCxTQUFPVyxXQUFQLEdBQXFCLFNBQXJCO0FBQ0E7O0FBR0QsUUFBT1gsTUFBUDtBQUNBLENBNUNGOztlQTZDZSwwQkFBVSxFQUFFWSxNQUFNLGdCQUFSLEVBQXlCYixrQkFBekIsRUFBVixFQUE4Q3BELGNBQTlDLEM7Ozs7Ozs7Ozs7K0JBaE5SQSxjOzsrQkFtS0RvRCxRIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9Vc2Vycy90bWFjX3pjL0NvZGUva3ItYWRtaW4iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHtDb21wb25lbnQsIFByb3BUeXBlc30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtjb25uZWN0fSBmcm9tICdrci9SZWR1eCc7XG5cbmltcG9ydCB7cmVkdXhGb3JtLGZvcm1WYWx1ZVNlbGVjdG9yLGluaXRpYWxpemUsY2hhbmdlfSBmcm9tICdyZWR1eC1mb3JtJztcbmltcG9ydCB7QWN0aW9ucyxTdG9yZX0gZnJvbSAna3IvUmVkdXgnO1xuaW1wb3J0IHtcblx0b2JzZXJ2ZXJcbn0gZnJvbSAnbW9ieC1yZWFjdCc7XG5pbXBvcnQge1xuXHRLckZpZWxkLFxuXHRHcmlkLFxuXHRSb3csXG5cdENvbCxcblx0QnV0dG9uLFxuXHROb3RpZnksXG5cdEJ1dHRvbkdyb3VwLFxuXHRNZXNzYWdlXG59IGZyb20gJ2tyLXVpJztcbmltcG9ydCBTdGF0ZUluIGZyb20gJy4vU3RhdGUnO1xuaW1wb3J0IG1lcmNoYW50cyBmcm9tIFwiLi4vTWVyY2hhbnRzL1N0YXRlXCI7XG5pbXBvcnQgcGVyc29uYWwgZnJvbSBcIi4uL1BlcnNvbmFsL1N0YXRlXCI7XG5pbXBvcnQgc2lnbmVkQ2xpZW50IGZyb20gXCIuLi9TaWduZWRDbGllbnQvU3RhdGVcIjtcbmltcG9ydCBmbHVzaERhdGEgZnJvbSBcIi4uL0xvb2tDdXN0b21lckxpc3QvU3RhdGVcIjtcblxuXG5pbXBvcnQgJy4vaW5kZXgubGVzcydcbkBvYnNlcnZlclxuIGNsYXNzIE5ld1Zpc2l0SW5kZW50IGV4dGVuZHMgQ29tcG9uZW50e1xuXG5cdFx0XG5cblx0c3RhdGljIFByb3BUeXBlcyA9IHtcblx0XHRvblN1Ym1pdDpSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0XHRvbkNhbmNlbDpSZWFjdC5Qcm9wVHlwZXMuZnVuYyxcblx0fVxuXG5cdGNvbnN0cnVjdG9yKHByb3BzKXtcblx0XHRzdXBlcihwcm9wcyk7XG5cdH1cblxuXHRcblxuXHRvblN1Ym1pdCA9ICh2YWx1ZXMpID0+IHtcblx0XHQgIGxldCB7bGlzdElkLG9wZXJUeXBlfT10aGlzLnByb3BzO1xuXHRcdCB2YXIgX3RoaXM9dGhpcztcblx0ICAgICAgIFN0b3JlLmRpc3BhdGNoKEFjdGlvbnMuY2FsbEFQSSgnY3VzdG9tZXJWaXNpdFJlY29yZCcse30sdmFsdWVzKSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1x0ICAgICAgIFx0XG5cdFx0XHRcdGZsdXNoRGF0YS5sb29rTGlzdElkKGxpc3RJZCxvcGVyVHlwZSk7XG5cdFx0XHRcdGlmKG9wZXJUeXBlPT1cIlNIQVJFXCIpe1xuXHRcdFx0XHRtZXJjaGFudHMuc2VhcmNoUGFyYW1zPXtcblx0XHRcdCAgICAgICAgIFx0cGFnZToxLFxuXHRcdFx0XHRcdFx0cGFnZVNpemU6MTUsXG5cdFx0XHRcdFx0XHR0aW1lOituZXcgRGF0ZSgpXG5cdFx0XHQgICAgICAgICB9XG5cdFx0XHRcdH1cblx0ICAgICAgICAgXHRpZihvcGVyVHlwZT09XCJQRVJTT05cIil7XG5cdCAgICAgICAgIFx0XHRwZXJzb25hbC5zZWFyY2hQYXJhbXM9e1xuXHRcdFx0ICAgICAgICAgXHRwYWdlOjEsXG5cdFx0XHRcdFx0XHRwYWdlU2l6ZToxNSxcblx0XHRcdFx0XHRcdHRpbWU6K25ldyBEYXRlKClcblx0XHRcdCAgICAgICAgfVxuXHQgICAgICAgICBcdH1cblx0ICAgICAgICAgXHRpZihvcGVyVHlwZT09XCJTSUdOXCIpe1xuXHQgICAgICAgICBcdFx0c2lnbmVkQ2xpZW50LnNlYXJjaFBhcmFtcz17XG5cdFx0XHQgICAgICAgICBcdHBhZ2U6MSxcblx0XHRcdFx0XHRcdHBhZ2VTaXplOjE1LFxuXHRcdFx0XHRcdFx0dGltZTorbmV3IERhdGUoKVxuXHRcdFx0ICAgICAgICB9XG5cdCAgICAgICAgIFx0fVxuXHQgICAgICAgIG1lcmNoYW50cy5vcGVuRGlhbG9nPWZhbHNlO1xuXHRcdCAgICBwZXJzb25hbC5vcGVuUGVyc29uRGlhbG9nPWZhbHNlO1xuXHRcdCAgICBzaWduZWRDbGllbnQub3BlblBlcnNvbkRpYWxvZz1mYWxzZTtcdFx0XHRcblx0XHQgICAgX3RoaXMub25DYW5jZWwoKTtcblx0XHQgICAgXG5cdFx0ICB9KS5jYXRjaChmdW5jdGlvbihlcnIpIHtcblx0XHQgXHRNZXNzYWdlLmVycm9yKGVyci5tZXNzYWdlKTtcblx0XHQgfSk7XG5cdH1cblxuXHRvbkNhbmNlbCA9ICgpID0+IHtcblx0XHRjb25zdCB7b25DYW5jZWx9ID0gdGhpcy5wcm9wcztcblx0XHRvbkNhbmNlbCAmJiBvbkNhbmNlbCgpO1xuXHR9XG4gICAgXG5cdGhhc1NlbGVjdENsaWNrID0gKHBhcmFtcykgPT57XG5cdFx0aWYocGFyYW1zLnZhbHVlPT1cIk5PXCIpe1xuXHRcdFx0U3RvcmUuZGlzcGF0Y2goY2hhbmdlKCdOZXdWaXNpdEluZGVudCcsJ3JlYXNvbklkJywnJykpO1xuXHRcdFx0U3RhdGVJbi5zaG93TWF0dXJlVGltZSgpO1xuXHRcdH1lbHNlIGlmKHBhcmFtcy52YWx1ZT09XCJZRVNcIil7XG5cdFx0XHRTdGF0ZUluLm5vU2hvd01hdHVyZVRpbWUoKTtcbiAgICAgICAgICAgIFN0YXRlSW4ubm9TaG93T3RoZXJDb250aW51ZSgpO1xuXHRcdH1cblx0fVxuXG5cdG90aGVyQ29udGludWU9KHZhbHVlKT0+e1xuXHRcdGlmKHZhbHVlKXtcblx0XHQgICAgaWYodmFsdWUubGFiZWw9PSflhbbku5YnKXtcdFxuXHRcdFx0ICBTdGF0ZUluLnNob3dPdGhlckNvbnRpbnVlKCk7XHRcblx0XHRcdH1lbHNle1xuXHRcdFx0ICBTdGF0ZUluLm5vU2hvd090aGVyQ29udGludWUoKTtcblx0XHRcdH1cdFxuXHRcdH1lbHNle1xuXHRcdFx0ICBTdGF0ZUluLm5vU2hvd090aGVyQ29udGludWUoKTtcblx0XHR9XG5cdFx0XG5cdH1cblxuXHRjb21wb25lbnREaWRNb3VudCgpe1xuXHQgIFN0YXRlSW4ubm9TaG93TWF0dXJlVGltZSgpO1xuICAgICAgU3RhdGVJbi5ub1Nob3dPdGhlckNvbnRpbnVlKCk7XG5cdH1cblx0XG5cblx0cmVuZGVyQ29udGludWU9KCk9Pntcblx0XHRsZXQge3NlbGVjdERhdGFzfT10aGlzLnByb3BzO1xuXHRcdHZhciBjb250ZW50PScnO1xuXHRcdGlmKFN0YXRlSW4ubWF0dXJlVGltZSl7XG5cdFx0XHRjb250ZW50PSg8S3JGaWVsZCBncmlkPXsxLzJ9IGxhYmVsPVwi5pS+5byD5Y6f5ZugXCIgbmFtZT1cInJlYXNvbklkXCIgc3R5bGU9e3t3aWR0aDoyNjEsbWFyZ2luTGVmdDotNn19IGNvbXBvbmVudD1cInNlbGVjdFwiIFxuXHRcdFx0XHRcdFx0XHRvcHRpb25zPXtzZWxlY3REYXRhcy5naXZldXBMaXN0fVxuXHRcdFx0XHRcdFx0XHRyZXF1aXJlTGFiZWw9e3RydWV9XG5cdFx0XHRcdFx0XHRcdG9uQ2hhbmdlPXt0aGlzLm90aGVyQ29udGludWV9XG5cdFx0XHRcdFx0Lz4pXG5cdFx0fVxuXHRcdHJldHVybiBjb250ZW50XG5cdH1cblxuXHRyZW5kZXJPdGhlckNvbnRpbnVlPSgpPT57XG5cdFx0dmFyIGNvbnRlbnQ9Jyc7XG5cdFx0aWYoU3RhdGVJbi5vdGhlckNvbnRpbnVlKXtcblx0XHRcdGNvbnRlbnQ9KDxLckZpZWxkIGdyaWQ9ezEvMn0gbGFiZWw9XCLlhbbku5bljp/lm6BcIiBuYW1lPVwicmVhc29uT3RoZXJcIiBzdHlsZT17e3dpZHRoOjI2MSxtYXJnaW5MZWZ0OjI5fX0gY29tcG9uZW50PVwiaW5wdXRcIiBcblx0XHRcdFx0XHRcdFx0cmVxdWlyZUxhYmVsPXt0cnVlfVxuXHRcdFx0XHRcdC8+KVxuXHRcdH1cblx0XHRyZXR1cm4gY29udGVudFxuXHR9XG5cblxuXHRyZW5kZXIoKXtcblxuXHRcdGNvbnN0IHsgZXJyb3IsIGhhbmRsZVN1Ym1pdCwgcHJpc3RpbmUsIHJlc2V0LHNlbGVjdERhdGFzfSA9IHRoaXMucHJvcHM7XG5cblxuXHRcdHJldHVybiAoXG5cblx0XHRcdDxmb3JtIGNsYXNzTmFtZT1cIm0tbmV3VmlzaXRJbmRlbnRcIiBvblN1Ym1pdD17aGFuZGxlU3VibWl0KHRoaXMub25TdWJtaXQpfT5cblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJ0aXRsZVwiPlxuXHRcdFx0XHRcdFx0PGRpdj48c3BhbiBjbGFzc05hbWU9XCJuZXctaWNvblwiPjwvc3Bhbj48bGFiZWwgY2xhc3NOYW1lPVwidGl0bGUtdGV4dFwiIHN0eWxlPXt7bWFyZ2luTGVmdDo3fX0+e3RoaXMucHJvcHMuY29tcGFueU5hbWV9PC9sYWJlbD48L2Rpdj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwiY2xvc2VcIiBvbkNsaWNrPXt0aGlzLm9uQ2FuY2VsfT48L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFxuXHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT1cImtrXCIgc3R5bGU9e3ttYXJnaW5Ub3A6MjcsbWFyZ2luTGVmdDo0MH19Plx0XG5cdFx0XHRcdCAgICA8S3JGaWVsZCBuYW1lPVwiY3VzdG9tZXJJZFwiIHR5cGU9J2hpZGRlbicvPiBcdFxuXHRcdFx0XHRcdDxLckZpZWxkIGdyaWQ9ezEvMn0gbGFiZWw9XCLmi5zorr/mlrnlvI9cIiBuYW1lPVwidmlzaXRUeXBlXCIgc3R5bGU9e3t3aWR0aDoyNjEsbWFyZ2luTGVmdDotNn19IGNvbXBvbmVudD1cInNlbGVjdFwiIFxuXHRcdFx0XHRcdFx0ICAgIG9wdGlvbnM9e3NlbGVjdERhdGFzLnZpc2l0VHlwZUxpc3R9XG5cdFx0XHRcdFx0XHRcdHJlcXVpcmVMYWJlbD17dHJ1ZX1cblx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdDxLckZpZWxkIGdyaWQ9ezEvMn0gbGFiZWw9XCLmi5zorr/ml7bpl7RcIiBuYW1lPVwidmlzaXRUaW1lXCIgc3R5bGU9e3t3aWR0aDoyNjAsbWFyZ2luTGVmdDoyOX19IGNvbXBvbmVudD1cImRhdGVcIiByZXF1aXJlTGFiZWw9e3RydWV9Lz5cblx0XHRcdFx0XHRcblx0XHRcdFx0XHQ8S3JGaWVsZCBncmlkPXsxLzJ9IGxhYmVsPVwi6IGU57O75Lq6XCIgbmFtZT1cImxpbmtOYW1lXCIgc3R5bGU9e3t3aWR0aDoyNjEsbWFyZ2luTGVmdDotNn19IGNvbXBvbmVudD1cImlucHV0XCIgcmVxdWlyZUxhYmVsPXt0cnVlfS8+XG5cblx0XHRcdFx0XHQ8S3JGaWVsZCBncmlkPXsxLzJ9IGxhYmVsPVwi5a6i5oi35YiG57G7XCIgbmFtZT1cImxldmVsSWRcIiBjb21wb25lbnQ9XCJzZWxlY3RcIiBzdHlsZT17e3dpZHRoOjI2MSxtYXJnaW5MZWZ0OjI5fX0gXG5cdFx0XHRcdFx0XHRcdG9wdGlvbnM9e3NlbGVjdERhdGFzLmxldmVsTGlzdH1cblx0XHRcdFx0XHRcdFx0cmVxdWlyZUxhYmVsPXt0cnVlfVxuXHRcdFx0XHRcdC8+XG5cdFx0XHRcdFx0PEtyRmllbGQgZ3JpZD17MS8yfSBsYWJlbD1cIuiBlOezu+aWueW8j1wiIG5hbWU9XCJsaW5rVGVsXCIgc3R5bGU9e3t3aWR0aDoyNjEsbWFyZ2luTGVmdDotNn19IGNvbXBvbmVudD1cImlucHV0XCIgcmVxdWlyZUxhYmVsPXt0cnVlfS8+XG5cdFx0XHRcdFx0PEtyRmllbGQgZ3JpZD17MS8yfSBsYWJlbD1cIuaYr+WQpue7p+e7rei3n+i/m1wiIG5hbWU9XCJpc0NvbnRpbnVlXCIgc3R5bGU9e3t3aWR0aDoyNjEsbWFyZ2luTGVmdDoyOX19IGNvbXBvbmVudD1cImdyb3VwXCIgcmVxdWlyZUxhYmVsPXt0cnVlfT5cblx0XHQgICAgICAgICAgICAgIFx0PEtyRmllbGQgIG5hbWU9XCJpc0NvbnRpbnVlXCIgbGFiZWw9XCLmmK9cIiAgdmFsdWU9XCJZRVNcIiBjb21wb25lbnQ9XCJyYWRpb1wiICB0eXBlPVwicmFkaW9cIiBvbkNsaWNrPXt0aGlzLmhhc1NlbGVjdENsaWNrfS8+XG5cdFx0ICAgICAgICAgICAgIFx0PEtyRmllbGQgIG5hbWU9XCJpc0NvbnRpbnVlXCIgbGFiZWw9XCLlkKZcIiAgdmFsdWU9XCJOT1wiIGNvbXBvbmVudD1cInJhZGlvXCIgdHlwZT1cInJhZGlvXCIgb25DbGljaz17dGhpcy5oYXNTZWxlY3RDbGlja30vPlxuXHRcdCAgICAgICAgICAgIDwvS3JGaWVsZD5cblx0XHQgICAgICAgICAgICB7dGhpcy5yZW5kZXJDb250aW51ZSgpfVxuXHRcdFx0XHRcdHt0aGlzLnJlbmRlck90aGVyQ29udGludWUoKX1cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzTmFtZT0nc3BlYWtJbmZvJz48S3JGaWVsZCBncmlkPXsxfSBsYWJlbD1cIuayn+mAmuaDheWGtVwiIG5hbWU9XCJ2aXNpdERldGFpbFwiIHN0eWxlPXt7bWFyZ2luTGVmdDotNixtYXJnaW5Ub3A6M319IGhlaWdodFN0eWxlPXt7aGVpZ2h0OlwiODBweFwiLHdpZHRoOic1NDNweCd9fSAgY29tcG9uZW50PVwidGV4dGFyZWFcIiAgbWF4U2l6ZT17MTAwfSByZXF1aXJlTGFiZWw9e3RydWV9IHBsYWNlaG9sZGVyPSfor7fovpPlhaXmsp/pgJrmg4XlhrUnIGxlbmd0aENsYXNzPSdvcmRlci10ZXh0YXJlYScvPjwvZGl2PlxuXHRcdFx0XHRcdDxLckZpZWxkIGdyaWQ9ezF9IGxhYmVsPVwi5aSH5rOoXCIgbmFtZT1cInJlbWFya1wiIHN0eWxlPXt7bWFyZ2luTGVmdDotNixtYXJnaW5Ub3A6LTE3fX0gaGVpZ2h0U3R5bGU9e3toZWlnaHQ6XCI4MHB4XCIsd2lkdGg6JzU0M3B4J319ICBjb21wb25lbnQ9XCJ0ZXh0YXJlYVwiICBtYXhTaXplPXsxMDB9IHBsYWNlaG9sZGVyPSfor7fovpPlhaXmj4/ov7AnIGxlbmd0aENsYXNzPSd2aXNpdC1sZW5ndGgtdGV4dGFyZWEnLz5cblx0XHRcdFx0PC9kaXY+XHRcdFxuXHRcdFx0XHQ8R3JpZCBzdHlsZT17e21hcmdpblJpZ2h0OjMwfX0+XG5cdFx0XHRcdFx0PFJvdz5cblx0XHRcdFx0XHRcdDxDb2wgbWQ9ezEyfSBhbGlnbj1cImNlbnRlclwiPlxuXHRcdFx0XHRcdFx0XHQ8QnV0dG9uR3JvdXA+XG5cdFx0XHRcdFx0XHRcdFx0PGRpdiAgY2xhc3NOYW1lPSd1aS1idG4tY2VudGVyJz48QnV0dG9uICBsYWJlbD1cIuehruWumlwiIHR5cGU9XCJzdWJtaXRcIiAvPjwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdDxCdXR0b24gIGxhYmVsPVwi5Y+W5raIXCIgdHlwZT1cImJ1dHRvblwiIGNhbmNsZT17dHJ1ZX0gb25Ub3VjaFRhcD17dGhpcy5vbkNhbmNlbH0gLz5cblx0XHRcdFx0XHRcdFx0PC9CdXR0b25Hcm91cD5cblx0XHRcdFx0XHRcdDwvQ29sPlxuXHRcdFx0XHRcdDwvUm93PlxuXHRcdFx0XHQ8L0dyaWQ+XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdCAgICBcblx0XHRcdDwvZm9ybT5cblx0XHQpO1xuXHR9XG59XG5jb25zdCB2YWxpZGF0ZSA9IHZhbHVlcyA9PntcblxuXHRcdGNvbnN0IGVycm9ycyA9IHt9O1xuXHRcdGxldCBwaG9uZSA9IC8oXigoXFwrODYpfCg4NikpP1sxXVszNDU2Nzg5XVswLTldezl9JCl8KF4oMFxcZHsyLDN9LVxcZHs3LDh9KSgtXFxkezEsNH0pPyQpLztcblx0XHQvL2xldCBlbWFpbCA9IC9eW2EtejAtOV0rKFsuX1xcXFwtXSpbYS16MC05XSkqQChbYS16MC05XStbLWEtejAtOV0qW2EtejAtOV0rLil7MSw2M31bYS16MC05XSskLztcblx0XHRpZighdmFsdWVzLnZpc2l0VHlwZSl7XG5cdFx0XHRlcnJvcnMudmlzaXRUeXBlID0gJ+ivt+Whq+WGmeaLnOiuv+aWueW8jyc7XG5cdFx0fVxuXHRcdGlmICghdmFsdWVzLnZpc2l0VGltZSkge1xuXHRcdFx0ZXJyb3JzLnZpc2l0VGltZSA9ICfor7floavlhpnmi5zorr/ml7bpl7QnO1xuXHRcdH1cblxuXHRcdGlmICghdmFsdWVzLmxpbmtOYW1lKSB7XG5cdFx0XHRlcnJvcnMubGlua05hbWUgPSAn6K+35aGr5YaZ6IGU57O75Lq65aeT5ZCNJztcblx0XHR9XG5cblx0XHRpZiAoIXZhbHVlcy5sZXZlbElkKSB7XG5cdFx0XHRlcnJvcnMubGV2ZWxJZCA9ICfor7floavlhpnlrqLmiLfliIbnsbsnO1xuXHRcdH1cblxuXHRcdGlmICghdmFsdWVzLmxpbmtUZWwpIHtcblx0XHRcdGVycm9ycy5saW5rVGVsID0gJ+ivt+Whq+WGmeiBlOezu+S6uueUteivnSc7XG5cdFx0fWVsc2UgaWYoIXBob25lLnRlc3QodmFsdWVzLmxpbmtUZWwpKXtcblx0XHRcdGVycm9ycy5saW5rVGVsID0gJ+iBlOezu+S6uueUteivneagvOW8j+mUmeivryc7XG5cdFx0fVxuXG5cdFx0XG5cdFx0aWYgKCF2YWx1ZXMucmVhc29uSWQpIHtcblx0XHRcdGVycm9ycy5yZWFzb25JZCA9ICfor7floavlhpnmlL7lvIPljp/lm6AnO1xuXHRcdH1cblxuXHRcdGlmICghdmFsdWVzLnJlYXNvbk90aGVyKSB7XG5cdFx0XHRlcnJvcnMucmVhc29uT3RoZXIgPSAn6K+35aGr5YaZ5YW25LuW5Y6f5ZugJztcblx0XHR9ZWxzZSBpZih2YWx1ZXMucmVhc29uT3RoZXIubGVuZ3RoPjUwKXtcblx0XHRcdGVycm9ycy5yZWFzb25PdGhlciA9ICflhbbku5bljp/lm6DmnIDlpJrloavlhpk1MOS4quWtlyc7XG5cdFx0fVxuXG5cblx0XHRpZiAoIXZhbHVlcy52aXNpdERldGFpbCkge1xuXHRcdFx0ZXJyb3JzLnZpc2l0RGV0YWlsID0gJ+ivt+Whq+WGmeayn+mAmuaDheWGtSc7XG5cdFx0fVxuXG5cdFx0XG5cdFx0cmV0dXJuIGVycm9yc1xuXHR9XG5leHBvcnQgZGVmYXVsdCByZWR1eEZvcm0oeyBmb3JtOiAnTmV3VmlzaXRJbmRlbnQnLHZhbGlkYXRlfSkoTmV3VmlzaXRJbmRlbnQpO1xuIl19