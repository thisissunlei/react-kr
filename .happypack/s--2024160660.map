{"version":3,"sources":["src/Containers/Operation/CommunityAllocation/CommunityList/SearchUpperForm/index.js"],"names":["SearchUpperForm","props","clickDiv","event","setState","dateBoxDevelop","state","customerClick","onSearchSubmit","params","obj","searchKey","content","searchType","value","searchParams","cityValue","city","arr","split","length","dispatch","selectCity","onSubmit","bind","onCancel","dateBoxStyle","marginTop","marginLeft","height","operType","values","prevProps","prevState","scrollTop","handleSubmit","searchFilter","label","cityCountId","width","marginBottom","searchData","display","color","fontSize","propTypes","PropTypes","func","form","enableReinitialize","keepDirtyOnReinitialize"],"mappings":";;;;;;;;;;AAAA;;;;AAIA;;AAGA;;AAOA;;;;AACA;;AAWA;;AAWA;;;;AACA;;;;;;;;;;IAEMA,e;;;AAOL,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA,gIACZA,KADY;;AAAA,QAkCnBC,QAlCmB,GAkCV,UAACC,KAAD,EAAS;AACjB,SAAKC,QAAL,CAAc;AACbC,oBAAe,CAAC,MAAKC,KAAL,CAAWD;AADd,IAAd;AAIA,GAvCkB;;AAAA,QAwCnBE,aAxCmB,GAwCL,YAAI;AACjB,SAAKH,QAAL,CAAc;AACbC,oBAAe;AADF,IAAd;AAGA,GA5CkB;;AAAA,QA+CjBG,cA/CiB,GA+CF,UAACC,MAAD,EAAU;AACtB,OAAIC,MAAM;AACbC,eAAWF,OAAOG,OADL;AAEbC,gBAAWJ,OAAOK;AAFL,IAAV;AAIJ,mBAAMC,YAAN,GAAmBL,GAAnB;AACE,GArDgB;;AAAA,QAwDnBM,SAxDmB,GAwDT,UAACF,KAAD,EAAOG,IAAP,EAAc;AACtB,OAAIC,MAAID,KAAKE,KAAL,CAAW,GAAX,CAAR;AACG,OAAGD,IAAIE,MAAJ,IAAY,CAAf,EAAiB;AAChB,iBAAMC,QAAN,CAAe,uBAAO,iBAAP,EAAyB,QAAzB,EAAkCP,KAAlC,CAAf;AACA,UAAKV,QAAL,CAAc;AACbkB,iBAAW;AADE,KAAd;AAGA;AACD,OAAGJ,IAAIE,MAAJ,IAAY,CAAf,EAAiB;AAChB,iBAAMC,QAAN,CAAe,uBAAO,iBAAP,EAAyB,UAAzB,EAAoCP,KAApC,CAAf;AACA,UAAKV,QAAL,CAAc;AACbkB,iBAAW;AADE,KAAd;AAGA;AACF,GAtEe;;AAElB,QAAKC,QAAL,GAAgB,MAAKA,QAAL,CAAcC,IAAd,OAAhB;AACA,QAAKC,QAAL,GAAgB,MAAKA,QAAL,CAAcD,IAAd,OAAhB;AACM,QAAKlB,KAAL,GAAW;AAChBD,mBAAe,KADC;AAEhBqB,iBAAa,EAACC,WAAU,EAAX,EAAcC,YAAW,EAAzB,EAA6BC,QAAO,MAApC,EAFG;AAGhBC,aAAS7B,MAAM6B,QAHC;AAIhBR,eAAW;AAJK,GAAX;AAJY;AAUlB;;;;2BAGQS,M,EAAQ;AAAA,OAEbR,QAFa,GAGZ,KAAKtB,KAHO,CAEbsB,QAFa;;AAIfA,eAAYA,SAASQ,MAAT,CAAZ;AACD;;;6BAEU;AAAA,OAETN,QAFS,GAGN,KAAKxB,KAHC,CAETwB,QAFS;;AAIVA,eAAYA,UAAZ;AACA;;;qCAIkBO,S,EAAWC,S,EAAU;;AAEtC,yBAAE,2BAAF,EAA+BC,SAA/B,CAAyC,GAAzC;AAED;;AAaD;;;;2BA4BS;AAAA,OAEDC,YAFC,GAEa,KAAKlC,KAFlB,CAEDkC,YAFC;AAAA,gBAGuC,KAAK7B,KAH5C;AAAA,OAGDoB,YAHC,UAGDA,YAHC;AAAA,OAGYrB,cAHZ,UAGYA,cAHZ;AAAA,OAG2BiB,UAH3B,UAG2BA,UAH3B;;;AAKH,OAAIc,eAAa,CACZ;AACCC,WAAM,MADP;AAECvB,WAAM;AAFP,IADY,EAKZ;AACCuB,WAAM,MADP;AAECvB,WAAM;AAFP,IALY,CAAjB;;AAaA,OAAIwB,cAAY,EAAhB;AACA,OAAGhB,UAAH,EAAc;AACZgB,kBAAY,UAAZ;AACD,IAFD,MAEK;AACHA,kBAAY,QAAZ;AACD;;AAKN,UACC;AAAA;AAAA,MAAK,OAAOZ,YAAZ,EAA0B,WAAU,sBAApC,EAA2D,SAAS,KAAKnB,aAAzE;AACI;AAAA;AAAA,OAAM,UAAU4B,aAAa,KAAKZ,QAAlB,CAAhB;AACS,uDAAY,aAAY,sCAAxB,EAAiC,cAAca,YAA/C,EAA6D,OAAO,EAACG,OAAM,GAAP,EAAWZ,WAAU,EAArB,EAAwBC,YAAW,CAAC,CAApC,EAAsCY,cAAa,EAAnD,EAApE,EAA4H,UAAU,KAAKhC,cAA3I,EAA2J,eAAc,MAAzK,GADT;AAES,oDAAS,OAAO,EAAhB,EAAoB,MAAM,IAAE,CAA5B,EAA+B,OAAO,EAACmB,WAAU,CAAX,EAAtC,EAAqD,MAAMW,WAA3D,EAAwE,WAAU,MAAlF,EAAyF,UAAU,KAAKtB,SAAxG,EAAmH,OAAM,0BAAzH,EAAgI;AAAhI,OAFT;AAIH,oDAAU,MAAM,IAAE,CAAlB,EAAqB,OAAO,EAA5B,EAAgC,OAAO,EAACY,YAAW,CAAC,CAAb,EAAvC,EAAyD,MAAK,QAA9D,EAAuE,MAAK,QAA5E,EAAsF,OAAM,0BAA5F;AACC,eAAS,CAAC,EAACS,OAAM,KAAP,EAAavB,OAAM,MAAnB,EAAD,EAA4B,EAACuB,OAAM,KAAP,EAAavB,OAAM,OAAnB,EAA5B;AADV,OAJG;AAOH,oDAAU,MAAM,IAAE,CAAlB,EAAqB,OAAO,EAA5B,EAAgC,MAAK,gBAArC,EAAsD,MAAK,QAA3D,EAAqE,OAAO,EAACa,WAAU,CAAX,EAA5E,EAA2F,OAAM,0BAAjG;AACE,eAAS,gBAAMc;AADjB,OAPG;AAUH,oDAAU,MAAM,IAAE,CAAlB,EAAqB,OAAO,EAA5B,EAAgC,MAAK,YAArC,EAAkD,MAAK,QAAvD,EAAiE,OAAO,EAACd,WAAU,CAAX,EAAaC,YAAW,CAAC,CAAzB,EAAxE,EAAqG,OAAM,sCAA3G;AACE,eAAS,CAAC,EAACS,OAAM,IAAP,EAAYvB,OAAM,MAAlB,EAAD,EAA2B,EAACuB,OAAM,KAAP,EAAavB,OAAM,OAAnB,EAA3B;AADX,OAVG;AAaH;AAAA;AAAA,QAAS,MAAM,IAAE,CAAjB,EAAqB,WAAU,OAA/B,EAAuC,OAAM,0BAA7C,EAAoD,OAAO,EAACa,WAAU,CAAX,EAA3D;AACA;AAAA;AAAA,SAAK,WAAU,aAAf;AACC;AAAA;AAAA;AACC;AAAA;AAAA;AAAe;AAAA;AAAA,YAAK,WAAU,eAAf,EAA+B,OAAO,EAACY,OAAM,GAAP,EAAtC;AAAoD,yDAAU,OAAO,EAACA,OAAM,GAAP,EAAWX,YAAW,CAAC,EAAvB,EAA0BD,WAAU,CAApC,EAAjB,EAAyD,MAAK,eAA9D,EAA8E,WAAU,MAAxF;AAApD;AAAf,SADD;AAEE;AAAA;AAAA,WAAK,WAAU,cAAf;AAA8B;AAAA;AAAA,YAAM,OAAO,EAACe,SAAQ,cAAT,EAAwBC,OAAM,MAA9B,EAAqCC,UAAS,IAA9C,EAAb;AAAA;AAAA;AAA9B,SAFF;AAGC;AAAA;AAAA;AAAe;AAAA;AAAA,YAAK,WAAU,aAAf;AAA6B,yDAAS,MAAK,aAAd,EAA4B,OAAO,EAACL,OAAM,GAAP,EAAWZ,WAAU,CAArB,EAAnC,EAA4D,WAAU,MAAtE;AAA7B;AAAf;AAHD;AADD;AADA,MAbG;AAuBH;AAAA;AAAA,QAAM,OAAO,EAACA,WAAU,CAAX,EAAaa,cAAa,CAA1B,EAA4BZ,YAAW,CAAC,EAAxC,EAAb;AACC;AAAA;AAAA;AACC;AAAA;AAAA,UAAK,IAAI,EAAT,EAAa,OAAM,QAAnB;AACC;AAAA;AAAA;AACC;AAAA;AAAA,YAAM,WAAU,eAAhB;AAAgC,wDAAS,OAAM,cAAf,EAAoB,MAAK,QAAzB;AAAhC,UADD;AAEC,uDAAS,OAAM,cAAf,EAAoB,MAAK,QAAzB,EAAkC,QAAQ,IAA1C,EAAgD,YAAY,KAAKH,QAAjE;AAFD;AADD;AADD;AADD;AAvBG;AADJ,IADD;AAsCA;;;;;;AAnJIzB,e,CAEE6C,S,GAAY;AAClBtB,WAAU,gBAAMuB,SAAN,CAAgBC,IADR;AAElBtB,WAAU,gBAAMqB,SAAN,CAAgBC;AAFR,C;;eAqJL,0BAAU,EAACC,MAAK,iBAAN,EAAwBC,oBAAmB,IAA3C,EAAgDC,yBAAwB,IAAxE,EAAV,EAAyFlD,eAAzF,C;;;;;;;;;;+BAvJTA,e","file":"index.js","sourceRoot":"/Users/liuyihao/Code/kr-admin","sourcesContent":["import React, {\n\tComponent,\n\tPropTypes\n} from 'react';\nimport {\n\tconnect\n} from 'kr/Redux';\nimport {\n\tobserver\n} from 'mobx-react';\nimport {\n\tActions,\n\tStore\n} from 'kr/Redux';\nimport $ from 'jquery';\nimport {\n\treduxForm,\n\tformValueSelector,\n\tinitialize,\n\tchange,\n\tarrayPush,\n\tarrayInsert,\n\tFieldArray,\n\treset\n} from 'redux-form';\n\nimport {\n\tKrField,\n\tGrid,\n\tRow,\n\tCol,\n\tButton,\n\tButtonGroup,\n\tListGroup,\n\tSearchForm,\n\tListGroupItem\n} from 'kr-ui';\nimport State from '../State';\nimport './index.less';\n@observer\nclass SearchUpperForm extends Component {\n\n\tstatic propTypes = {\n\t\tonSubmit: React.PropTypes.func,\n\t\tonCancel: React.PropTypes.func,\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.onSubmit = this.onSubmit.bind(this);\n\t\tthis.onCancel = this.onCancel.bind(this);\n        this.state={\n\t\t\tdateBoxDevelop:false,\n\t\t\tdateBoxStyle:{marginTop:35,marginLeft:26 ,height:\"auto\"},\n\t\t\toperType:props.operType,\n\t\t\tselectCity:false\n\t\t}\n\t}\n\t\n\n\tonSubmit(values) {\n\t  const {\n\t\t   onSubmit\n\t\t} = this.props;\n\t  onSubmit && onSubmit(values);\n\t}\n\n\tonCancel() {\n\t   const {\n\t\t\tonCancel\n\t\t} = this.props;\n\t\tonCancel && onCancel();\t\t\n\t}\n\n\n\t\n\tcomponentDidUpdate(prevProps, prevState){\n\t\t\n\t\t\t$('.m-merchants .dialog-body').scrollTop(558);\n\n\t}\n\tclickDiv=(event)=>{\n\t\tthis.setState({\n\t\t\tdateBoxDevelop:!this.state.dateBoxDevelop,\n\t\t})\n\n\t}\n\tcustomerClick=()=>{\n\t\tthis.setState({\n\t\t\tdateBoxDevelop:false,\n\t\t})\n\t}\n\n\t//查询\n   onSearchSubmit=(params)=>{\n   \t  let obj = {\n\t\t\tsearchKey: params.content,\n\t\t\tsearchType:params.value\n\t\t}\t\n\t\tState.searchParams=obj\t\n   }\n\n\n\tcityValue=(value,city)=>{\n\t  var arr=city.split('/');\n      if(arr.length==2){\n      \tStore.dispatch(change('searchUpperForm','cityId',value));\n      \tthis.setState({\n      \t\tselectCity:false\n      \t})\n      }\n      if(arr.length==3){\n      \tStore.dispatch(change('searchUpperForm','countyId',value));\n      \tthis.setState({\n      \t\tselectCity:true\n      \t})\n      }\n    }\n\n\t\n\n\trender() {\n\n\t   let {handleSubmit}=this.props;\n\t   let {dateBoxStyle,dateBoxDevelop,selectCity}=this.state;\n       \n       let searchFilter=[\n            {\n            \tlabel:'社区名称',\n            \tvalue:'NAME'\n            },\n            {\n            \tlabel:'社区编码',\n            \tvalue:'CODE'\n            },\n\n\t\t]\n\n        \n       let cityCountId='';\n       if(selectCity){\n         cityCountId='countyId'\n       }else{\n       \t cityCountId='cityId'\n       }\n       \n      \n\n\n\t\treturn(\n\t\t\t<div style={dateBoxStyle} className='customer-searchUpper' onclick={this.customerClick}>\n\t\t\t    <form onSubmit={handleSubmit(this.onSubmit)}>\n                <SearchForm placeholder='请输入关键字' searchFilter={searchFilter} style={{width:262,marginTop:57,marginLeft:-1,marginBottom:15}} onSubmit={this.onSearchSubmit} defaultFilter='NAME'/>\n                <KrField right={34} grid={1/2} style={{marginTop:1}} name={cityCountId} component=\"city\" onSubmit={this.cityValue} label=\"所属地区\" openCity  \n                />\n\t\t\t\t<KrField  grid={1/2} right={34} style={{marginLeft:-4}}  name=\"opened\" type=\"select\"  label=\"社区状态\" \n\t\t\t\t options={[{label:'已开业',value:'true'},{label:'未开业',value:'false'}]} \n\t\t\t\t/>\n\t\t\t\t<KrField  grid={1/2} right={34} name=\"businessAreaId\" type=\"select\"  style={{marginTop:4}} label=\"所属商圈\" \n\t\t\t\t  options={State.searchData}\n\t\t\t\t></KrField>\n\t\t\t\t<KrField  grid={1/2} right={34} name=\"portalShow\" type=\"select\"  style={{marginTop:4,marginLeft:-4}} label=\"官网显示状态\" \n\t\t\t\t  options={[{label:'显示',value:'true'},{label:'不显示',value:'false'}]}\n\t\t\t\t></KrField>\n\t\t\t\t<KrField grid={1/1}  component=\"group\" label=\"开业时间\" style={{marginTop:3}}>\n\t\t\t\t<div className='ui-listDate'>\n\t\t\t\t\t<ListGroup>\n\t\t\t\t\t\t<ListGroupItem><div className='ui-date-start' style={{width:260}} ><KrField  style={{width:260,marginLeft:-10,marginTop:2}} name=\"openDateBegin\" component=\"date\" /></div></ListGroupItem>\n\t\t\t\t\t\t\t<div className='ui-line-down'><span style={{display:'inline-block',color:'#666',fontSize:'14'}}>至</span></div>\n\t\t\t\t\t\t<ListGroupItem><div className='ui-date-end'><KrField name=\"openDateEnd\" style={{width:260,marginTop:2}} component=\"date\" /></div></ListGroupItem>\n\t\t\t\t\t</ListGroup>\n                </div>\n\t\t\t\t</KrField>\n\n\t\t\t\t<Grid style={{marginTop:7,marginBottom:5,marginLeft:-24}}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col md={12} align=\"center\">\n\t\t\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t\t\t<div  className='ui-btn-center'><Button  label=\"确定\" type=\"submit\"/></div>\n\t\t\t\t\t\t\t\t<Button  label=\"取消\" type=\"button\" cancle={true} onTouchTap={this.onCancel} />\n\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Grid>\n\t\t\t\t</form>  \n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default reduxForm({form:'searchUpperForm',enableReinitialize:true,keepDirtyOnReinitialize:true})(SearchUpperForm);\n"]}