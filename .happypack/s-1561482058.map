{"version":3,"sources":["src/Containers/Finance/Manage/CodeSetting/Subject/EditDetailForm.js"],"names":["NewCreateForm","props","onSubmit","bind","onCancel","detail","initialValues","id","accountcode","accountname","accounttype","enableflag","ordernum","accountdesc","dispatch","values","style","marginTop","heightStyle","width","height","error","handleSubmit","pristine","reset","marginLeft","marginRight","value","label","marginBottom","PropTypes","func","object","validate","errors","selector","form","enableReinitialize","keepDirtyOnReinitialize"],"mappings":"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","file":"EditDetailForm.js","sourceRoot":"/Users/tmac_zc/Code/kr-admin","sourcesContent":["import React, {Component, PropTypes} from 'react';\nimport {connect} from 'kr/Redux';\n\nimport {reduxForm,formValueSelector,initialize,change} from 'redux-form';\nimport {Actions,Store} from 'kr/Redux';\nimport {\n\tKrField,\n\tGrid,\n\tRow,\n\tCol,\n\tButton,\n\tNotify,\n\tButtonGroup\n} from 'kr-ui';\n\n\n class NewCreateForm extends Component{\n\n\t static PropTypes = {\n\t\t onSubmit:React.PropTypes.func,\n\t\t onCancel:React.PropTypes.func,\n\t\t detail:React.PropTypes.object,\n\t }\n\n\tconstructor(props){\n\t\tsuper(props);\n\n\t\tthis.onSubmit = this.onSubmit.bind(this);\n\t\tthis.onCancel = this.onCancel.bind(this);\n\t}\n\n\t componentDidMount(){\n\n\t\tconst {detail}= this.props;\n\n\t\tlet initialValues = {};\n\t\t initialValues.id = detail.id;\n\t\t initialValues.accountcode = detail.accountcode;\n\t\t initialValues.accountname = detail.accountname;\n\t\t initialValues.accounttype = detail.accounttype;\n\t\t initialValues.enableflag  = detail.enableflag;\n\t\t initialValues.ordernum = detail.ordernum;\n\t\t initialValues.accountdesc = detail.accountdesc;\n\n\n\t\tStore.dispatch(initialize('newCreateForm',initialValues));\n\t\tStore.dispatch(change('newCreateForm','enableflag','ENABLE'));\n\t }\n\n\t onSubmit(values){\n\t\tconst {onSubmit} = this.props;\n\t\tonSubmit && onSubmit(values);\n\t }\n\n\t onCancel(){\n\t\t const {onCancel} = this.props;\n\t\tonCancel && onCancel();\n\t }\n\n\trender(){\n\n        let style={\n       \t marginTop:3\n       }\n       let heightStyle={\n       \t width:'546',\n       \t height:'72',\n       \t marginTop:'-2'\n       }\n\n\t\tconst { error, handleSubmit, pristine, reset} = this.props;\n\n\t\treturn (\n\t\t\t<form onSubmit={handleSubmit(this.onSubmit)} style={{marginTop:35,marginLeft:35}}>\n\n\t\t\t\t<KrField name=\"id\" type=\"hidden\" label=\"id\"/>\n\t\t\t\t<KrField grid={1/2} name=\"accountcode\" type=\"text\" right={41} style={{marginRight:-10}} label=\"科目编码\" requireLabel={true} disabled={true}/>\n\t\t\t\t<KrField grid={1/2} name=\"accountname\" type=\"text\" right={41} label=\"科目名称\" requireLabel={true}/>\n\t\t\t\t<KrField grid={1/2} name=\"accounttype\" type=\"select\" right={41} style={{marginRight:-10,marginTop:4}} label=\"科目类别\" options={[ {value:'PAYMENT',label:'回款'}, {value:'INCOME',label:'收入'}, ]} requireLabel={true} />\n\t\t\t\t<KrField grid={1/2} name=\"ordernum\" type=\"text\" label=\"排序号\" right={41} style={{marginTop:3}} requireLabel={true}/>\n\t\t\t\t<KrField grid={1/2} name=\"enableflag\" component=\"group\" label=\"是否启用\" requireLabel={true}>\n\t\t\t\t\t\t<KrField name=\"enableflag\" label=\"是\" component=\"radio\" type=\"radio\" value=\"ENABLE\"/>\n\t\t\t\t\t\t<KrField name=\"enableflag\" label=\"否\"  component=\"radio\"  type=\"radio\" value=\"DISENABLE\" />\n\t\t\t  </KrField>\n\n             <KrField label=\"描述\" style={style} name=\"accountdesc\" component=\"textarea\" heightStyle={heightStyle} placeholder='请输入备注,文字不能超过100字' maxSize={100} lengthClass='subject-length-textarea'/>\n\t\t\t\t\n\t\t\t\t<Grid style={{marginTop:-2,marginBottom:5,marginLeft:-30}}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col md={12} align=\"center\">\n\t\t\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t\t\t<div  className='ui-btn-center'><Button  label=\"确定\" type=\"submit\" joinEditForm /></div>\n\t\t\t\t\t\t\t\t<Button  label=\"取消\" type=\"button\" cancle={true} onTouchTap={this.onCancel} />\n\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Grid>\n\t\t</form>\n\t\t);\n\t}\n}\nconst validate = values =>{\n\n\t\tconst errors = {}\n\n\t\tif(!values.accountcode){\n\t\t\terrors.accountcode = '请填写科目编码';\n\t\t}\n\n\t\tif (!values.accountname) {\n\t\t\terrors.accountname = '请填写科目名称';\n\t\t}\n\n\t\tif (!values.accounttype) {\n\t\t\terrors.accounttype = '请填写科目类别';\n\t\t}\n\n\t\tif (!values.ordernum) {\n\t\t\terrors.ordernum = '请填写排序号';\n\t\t}\n\t\tif (!values.enableflag) {\n\t\t\terrors.enableflag = '请先选择是否启用';\n\t\t}\n\n\n\t\treturn errors\n\t}\nconst selector = formValueSelector('newCreateForm');\n\n\n\nexport default reduxForm({ form: 'newCreateForm', validate,enableReinitialize:true, keepDirtyOnReinitialize:true })(NewCreateForm);\n"]}