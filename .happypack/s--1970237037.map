{"version":3,"sources":["src/Containers/Operation/CommunityManage/Detail/Schedule/BasicTable.js"],"names":["SearchForm","props","onFilter","value","onSubmit","bind","dt","Date","currentYear","getFullYear","state","dismantling","formValues","Installmentplan","rate","communityIdList","page","pageSize","type","ids","istip","getcommunity","selectCommunity","form","communityids","filter","content","_this","dispatch","callAPI","then","response","communityInfoList","map","item","index","id","label","name","unshift","setState","catch","err","show","message","personel","onChange","error","handleSubmit","pristine","reset","options","marginBottom","marginTop","height","defaultProps","tab","Ids","PropTypes","string","BasicTable","context","onPreYear","onNextYear","onCancel","openDismantlingDialog","onDismantling","getInstallmentplan","onStation","scrollLoading","onSetState","detail","activity","nowDate","isIscroll","totalCount","isLoading","totalPages","dataLoading","getRate","nextProps","community","window","top","scrollTop","num","document","scrollBottom","isOutBoundary","step","len","setTimeout","year","vo","list","concat","items","forEach","off","showNone","length","position","minHeight","left","zIndex","width","color","fontSize","bottom","marginLeft","borderBottom","float","paddingLeft","paddingRight","trLength","tr","renderNone","border","textAlign","itemData"],"mappings":"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","file":"BasicTable.js","sourceRoot":"/Users/liuyihao/Code/kr-admin","sourcesContent":["import React, { Component, PropTypes } from 'react';\nimport { connect } from 'kr/Redux';\nimport { reduxForm, submitForm, change, reset } from 'redux-form';\nimport { Actions, Store } from 'kr/Redux';\nimport { Tabs, Tab, Dialog, Section, Grid, Button, Notify, BreadCrumbs, KrField, Form, Row, Col, SearchForms, Loading, } from 'kr-ui';\nimport $ from 'jquery';\nimport './index.less';\nimport ReactDOM from 'react-dom';\nimport EmployessTable from './EmployessTable';\nimport ItemTable from './ItemTable';\nimport DismantlingForm from './DismantlingForm';\n\nclass SearchForm extends Component {\n\t// static contextTypes = {\n\t// \tonSetCommunity: React.PropTypes.func.isRequired,\n\t// \tcommunityId: React.PropTypes.string.isRequired,\n\t// }\n\tstatic defaultProps = {\n\t\ttab: '',\n\t\tIds: React.PropTypes.string,\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.onSubmit = this.onSubmit.bind(this);\n\t\tvar dt = new Date(); \n\t\tlet currentYear = dt.getFullYear();\n\t\tthis.state = {\n\t\t\tcurrentYear: currentYear,\n\t\t\tdismantling: false,\n\t\t\tformValues: {},\n\t\t\tInstallmentplan: [],\n\t\t\trate: ['0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%'],\n\t\t\tcommunityIdList: [],\n\t\t\tpage: 1,\n\t\t\tpageSize: 15,\n\t\t\ttype: 'BILL',\n\t\t\tids: '',\n\t\t\tistip: false,\n\n\t\t};\n\t\tthis.getcommunity = this.getcommunity.bind(this);\n\t\tthis.selectCommunity = this.selectCommunity.bind(this);\n\t\tthis.getcommunity();\n\n\n\t}\n\n\n\tonSubmit(form) {\n\n\t\tlet {\n\t\t\tpage,\n\t\t\tpageSize,\n\t\t\tcommunityids,\n\t\t\tids,\n\t\t\tformValues,\n\t\t\tistip\n\t\t} = this.state\n\n\t\tformValues = {\n\t\t\ttype: form.filter || 'BILL',\n\t\t\tvalue: form.content,\n\t\t\tcommunityids: communityids || 0,\n\t\t\tpage: page,\n\t\t\tpageSize: pageSize\n\n\t\t}\n\n\t\tconst {\n\t\t\tonSubmit\n\t\t} = this.props;\n\t\tonSubmit && onSubmit(formValues, istip);\n\n\n\n\t}\n\tgetcommunity() {\n\t\tlet _this = this;\n\t\tlet {communityIdList, page, pageSize, type} = this.state;\n\t\tStore.dispatch(Actions.callAPI('getCommunity')).then(function(response) {\n\n\t\t\tcommunityIdList = response.communityInfoList.map(function(item, index) {\n\n\t\t\t\titem.value = item.id;\n\t\t\t\titem.label = item.name;\n\t\t\t\treturn item;\n\t\t\t});\n\t\t\tcommunityIdList.unshift({\n\t\t\t\tlabel: '请选择',\n\t\t\t\tvalue: '0'\n\t\t\t});\n\n\t\t\t_this.setState({\n\t\t\t\tcommunityIdList,\n\t\t\t});\n\n\n\t\t}).catch(function(err) {\n\n\t\t\tNotify.show([{\n\t\t\t\tmessage: err.message,\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t});\n\t}\n\tselectCommunity(personel) {\n\t\tlet id = 0;\n\t\tif (!personel) {\n\t\t\tthis.setState({\n\t\t\t\tcommunityids: 0\n\t\t\t})\n\t\t} else {\n\t\t\tid = personel.value;\n\t\t\tthis.setState({\n\t\t\t\tcommunityids: personel.value,\n\t\t\t})\n\t\t}\n\n\t\t// this.context.onSetCommunity(id);\n\t\tconst {\n\t\t\tonChange\n\t\t} = this.props;\n\n\t\tonChange && onChange(id);\n\t}\n\tonFilter=(value)=>{\n\t\tlet {onFilter} = this.props;\n\t\tonFilter && onFilter(value);\n\t}\n\n\n\n\trender() {\n\n\t\tconst {\n\t\t\terror,\n\t\t\thandleSubmit,\n\t\t\tpristine,\n\t\t\treset\n\t\t} = this.props;\n\t\tlet {\n\t\t\tcommunityIdList\n\t\t} = this.state;\n\t\tlet options = [{\n\t\t\tlabel: '订单名称',\n\t\t\tvalue: 'BILL'\n\t\t}, {\n\t\t\tlabel: '员工姓名',\n\t\t\tvalue: 'MEMBER'\n\t\t}, {\n\t\t\tlabel: '手机号',\n\t\t\tvalue: 'PHONE'\n\t\t}];\n\n\t\treturn (\n\t\t\t<form name=\"searchForm\" className=\"searchForm searchList\" style={{marginBottom:10,marginTop:12,height:45}}>\n\t\t\t\t{/*<KrField  name=\"wherefloor\"  grid={1/2} component=\"select\" label=\"所在楼层\" options={optionValues.floorList} multi={true} requireLabel={true} left={60}/>*/}\n\n\t\t\t\t<SearchForms onSubmit={this.onSubmit} searchFilter={options} style={{marginTop:5}} onFilter={this.onFilter}/>\n\t\t\t\t<KrField name=\"community\"  grid={1/5} component=\"select\" label=\"社区\" search={true}  options={communityIdList} onChange={this.selectCommunity} />\n\t\t\t</form>\n\n\n\n\t\t);\n\t}\n}\n\nSearchForm = reduxForm({\n\tform: 'searchForm'\n})(SearchForm);\n\n\nexport default class BasicTable extends Component {\n\t// static contextTypes = {\n\t// \tonSetCommunity: React.PropTypes.func.isRequired,\n\t// \tcommunityId: React.PropTypes.string.isRequired,\n\t// }\n\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.onPreYear = this.onPreYear.bind(this);\n\t\tthis.onNextYear = this.onNextYear.bind(this);\n\t\tthis.onCancel = this.onCancel.bind(this);\n\n\t\tthis.openDismantlingDialog = this.openDismantlingDialog.bind(this);\n\t\tthis.onDismantling = this.onDismantling.bind(this);\n\t\tthis.getInstallmentplan = this.getInstallmentplan.bind(this);\n\t\tthis.onSubmit = this.onSubmit.bind(this);\n\t\tthis.onChange = this.onChange.bind(this);\n\t\tthis.onStation = this.onStation.bind(this);\n\t\tthis.scrollLoading = this.scrollLoading.bind(this);\n\t\tthis.onSetState = this.onSetState.bind(this);\n\t\tvar dt = new Date(); \n\t\tthis.currentYear = dt.getFullYear();\n\t\tlet currentYear = dt.getFullYear();\n\n\n\n\t\tthis.state = {\n\t\t\tcurrentYear: currentYear,\n\t\t\tdismantling: false,\n\t\t\tformValues: {},\n\t\t\tInstallmentplan: [],\n\t\t\trate: ['0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%'],\n\t\t\tvalue: '',\n\t\t\tcommunityIdList: [],\n\t\t\tpage: 1,\n\t\t\tpageSize: 15,\n\t\t\ttype: 'BILL',\n\t\t\tdetail: {},\n\t\t\tactivity: false,\n\t\t\tnowDate: '',\n\t\t\tisIscroll: true,\n\t\t\ttotalCount: '',\n\t\t\tisLoading: false,\n\t\t\ttotalPages: '',\n\t\t\tistip: false,\n\t\t\tdataLoading: true,\n\t\t\tcommunityids: 0,\n\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getRate();\n\t\tthis.getInstallmentplan();\n\t}\n\n\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (nextProps.community !== this.props.communityids) {\n\t\t\tthis.setState({\n\t\t\t\tcommunityids: nextProps.community\n\t\t\t});\n\t\t\tthis.getInstallmentplan();\n\t\t}\n\t}\n\n\tscrollLoading() {\n\t\tvar _this = this;\n\t\t$(window).bind('scroll', function() {\n\t\t\tvar top = $(window).scrollTop() || 0;\n\t\t\tvar height = $(window).height() || 0;\n\t\t\tvar num = $(document).height() - $(window).height();\n\t\t\tvar scrollBottom = top - num;\n\t\t\tvar {dataLoading} = _this.state;\n\t\t\tvar isOutBoundary = scrollBottom >= -300;\n\t\t\tif (isOutBoundary && !dataLoading) {\n\t\t\t\tlet {\n\t\t\t\t\tcommunityids,\n\t\t\t\t\ttype,\n\t\t\t\t\tpage,\n\t\t\t\t\tpageSize,\n\t\t\t\t\tvalue,\n\t\t\t\t\tInstallmentplan,\n\t\t\t\t\tisIscroll,\n\t\t\t\t\ttotalCount,\n\t\t\t\t\ttotalPages,\n\t\t\t\t\tistip,\n\t\t\t\t\tcurrentYear,\n\t\t\t\t\tdataLoading\n\t\t\t\t} = _this.state;\n\n\t\t\t\tif (isIscroll) {\n\t\t\t\t\t_this.setState({\n\t\t\t\t\t\tisIscroll: !_this.state.isIscroll\n\t\t\t\t\t})\n\n\t\t\t\t\tvar step = 1;\n\t\t\t\t\tvar len = page;\n\t\t\t\t\tif (totalPages - page == 1) {\n\t\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\t\t_this.setState({\n\t\t\t\t\t\t\t\tistip: !_this.state.istip\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}, 2000)\n\t\t\t\t\t}\n\n\t\t\t\t\tif (totalPages > page) {\n\t\t\t\t\t\tlen += step;\n\t\t\t\t\t\t_this.setState({\n\t\t\t\t\t\t\tpage: len,\n\t\t\t\t\t\t\tisLoading: !_this.state.isLoading\n\t\t\t\t\t\t})\n\t\t\t\t\t\tStore.dispatch(Actions.callAPI('getInstallmentplan', {\n\t\t\t\t\t\t\tcommunityids: communityids,\n\t\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\t\tpage: len,\n\t\t\t\t\t\t\tpageSize: 15,\n\t\t\t\t\t\t\tyear: currentYear\n\t\t\t\t\t\t})).then(function(response) {\n\t\t\t\t\t\t\tif (response.vo) {\n\t\t\t\t\t\t\t\tvar list = Installmentplan.concat(response.vo.items);\n\t\t\t\t\t\t\t\t// var list = $.extend(Installmentplan,response.vo.items);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar list = [];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t_this.setState({\n\t\t\t\t\t\t\t\tInstallmentplan: list, //response.vo.items,\n\t\t\t\t\t\t\t\t// rate: response.rate,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (_this.state.page < _this.state.totalPages) {\n\n\t\t\t\t\t\t\t\t_this.setState({\n\t\t\t\t\t\t\t\t\tisIscroll: !_this.state.isIscroll\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\twindow.setTimeout(function() {\n\t\t\t\t\t\t\t\t\t_this.setState({\n\t\t\t\t\t\t\t\t\t\tisLoading: !_this.state.isLoading\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}, 10)\n\t\t\t\t\t\t}).catch(function(err) {\n\t\t\t\t\t\t\tNotify.show([{\n\t\t\t\t\t\t\t\tmessage: err.message,\n\t\t\t\t\t\t\t\ttype: 'danger',\n\t\t\t\t\t\t\t}]);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\n\t//撤场\n\n\tonDismantling(detail) {\n\t\tthis.setState({\n\t\t\tdetail: detail\n\t\t})\n\t\tthis.openDismantlingDialog();\n\t}\n\n\tonCancel() {\n\n\t}\n\n\n\t//分配工位显示\n\tonStation() {\n\t\tthis.setState({\n\t\t\tactivity: !this.state.activity\n\t\t});\n\t}\n\n\tonChange(id) {\n\t\tthis.setState({\n\t\t\tpage: 1,\n\t\t\tisIscroll: true\n\t\t})\n\t\tlet {\n\t\t\ttype,\n\t\t\tpage,\n\t\t\tpageSize,\n\t\t\ttotalPages,\n\t\t\tisIscroll,\n\t\t\tvalue,\n\t\t\tcurrentYear\n\t\t} = this.state\n\n\t\tvar _this = this;\n\t\t_this.getRate(id);\n\n\t\tStore.dispatch(Actions.callAPI('getInstallmentplan', {\n\t\t\tcommunityids: id,\n\t\t\tvalue: value,\n\t\t\ttype: type,\n\t\t\tpage: 1,\n\t\t\tpageSize: pageSize,\n\t\t\tyear: currentYear\n\t\t})).then(function(response) {\n\t\t\t_this.setState({\n\t\t\t\tInstallmentplan: response.vo.items || [],\n\t\t\t\t// rate: response.rate,\n\t\t\t\tcommunityids: id,\n\t\t\t\ttotalPages: response.vo.totalPages,\n\t\t\t});\n\t\t\tif(response.vo.totalPages == response.vo.page){\n\t\t\t\t_this.setState({\n\t\t\t\t\tistip:true\n\t\t\t\t})\n\t\t\t}else{\n\t\t\t\t_this.setState({\n\t\t\t\t\tistip:false\n\t\t\t\t})\n\t\t\t}\n\n\t\t}).catch(function(err) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: err.message,\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t});\n\t}\n\tonSubmit(formValues, istip) {\n\t\tlet year = this.state.currentYear;\n\t\tvar _this = this;\n\t\tvar activity = true;\n\t\tif (formValues.type == \"BILL\") {\n\t\t\tactivity = false;\n\t\t}\n\t\tformValues.year = year;\n\n\n\t\tthis.setState({\n\t\t\tistip: istip\n\t\t})\n\n\t\tthis.setState({\n\t\t\tvalue: formValues.value,\n\t\t\ttype: formValues.type,\n\t\t\tdataLoading: true,\n\t\t})\n\n\t\tStore.dispatch(Actions.callAPI('getInstallmentplan', formValues)).then(function(response) {\n\n\t\t\tvar Installmentplan = response.vo.items;\n\t\t\tInstallmentplan.forEach(function(item, index) {\n\t\t\t\titem.activity = activity;\n\t\t\t});\n\n\t\t\t_this.setState({\n\t\t\t\tInstallmentplan,\n\t\t\t\t// rate: response.rate,\n\t\t\t\ttotalPages: response.vo.totalPages,\n\t\t\t\tdataLoading: false\n\t\t\t});\n\t\t\tif(response.vo.totalPages == response.vo.page){\n\t\t\t\t_this.setState({\n\t\t\t\t\tistip:true\n\t\t\t\t})\n\t\t\t}\n\n\n\n\n\t\t}).catch(function(err) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: err.message,\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t});\n\n\t}\n\n\n\n\topenDismantlingDialog() {\n\t\tthis.setState({\n\t\t\tdismantling: !this.state.dismantling\n\t\t})\n\t}\n\n\n\tonPreYear() {\n\t\tlet {\n\t\t\tcurrentYear\n\t\t} = this.state;\n\t\tcurrentYear--;\n\t\tthis.setState({\n\t\t\tcurrentYear,\n\t\t\tistip: false,\n\t\t\tpage: 1,\n\t\t\tdataLoading: true,\n\t\t}, function() {\n\t\t\tthis.getInstallmentplan();\n\t\t\tthis.getRate();\n\t\t});\n\n\t}\n\n\tonNextYear() {\n\t\tlet {\n\t\t\tcurrentYear,\n\t\t\tisLoading,\n\t\t} = this.state;\n\t\tlet _this = this;\n\t\tcurrentYear++;\n\n\t\tthis.setState({\n\t\t\tcurrentYear,\n\t\t\tistip: false,\n\t\t\tpage: 1,\n\t\t\tdataLoading: true,\n\t\t}, function() {\n\t\t\tthis.getRate();\n\t\t\tthis.getInstallmentplan();\n\t\t});\n\n\t}\n\n\n\tonSetState(state) {\n\n\t\tif (this.currentYear != this.state.currentYear) {\n\t\t\treturn;\n\t\t}\n\t\tthis.setState(state);\n\t}\n\t//获取年份出租率\n\tgetRate=(id)=>{\n\t\tlet {\n\t\t\ttype,\n\t\t\tpage,\n\t\t\tvalue,\n\t\t\tpageSize,\n\t\t\tcommunityids,\n\t\t\tdataLoading\n\t\t} = this.state;\n\t\tthis.setState({\n\t\t\trate:['0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%']\n\t\t})\n\t\tif(!id && id != 0){\n\t\t\tid = communityids;\n\t\t}\n\n\n\t\tlet _this = this;\n\t\tvar year = this.state.currentYear;\n\n\t\tStore.dispatch(Actions.callAPI('getRate', {\n\t\t\tcommunityids: id ,\n\t\t\tyear: year,\n\t\t})).then(function(response) {\n\t\t\tif(!response.rate.length){\n\t\t\t\t_this.setState({\n\t\t\t\t\trate: ['0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%','0.00%']\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\t_this.setState({\n\t\t\t\t\trate: response.rate,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t\n\n\n\t\t\t \n\n\t\t}).catch(function(err) {\n\n\t\t\tNotify.show([{\n\t\t\t\tmessage: err.message,\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t});\n\t}\n\n\t//获取销控表数据\n\tgetInstallmentplan() {\n\t\tvar _this = this;\n\n\t\tlet {\n\t\t\tcommunity\n\t\t} = this.props;\n\n\t\tlet {\n\t\t\ttype,\n\t\t\tpage,\n\t\t\tvalue,\n\t\t\tpageSize,\n\t\t\tcommunityids,\n\t\t\tdataLoading\n\t\t} = this.state;\n\n\n\n\t\tvar year = _this.state.currentYear;\n\n\t\tStore.dispatch(Actions.callAPI('getInstallmentplan', {\n\t\t\tcommunityids: communityids,\n\t\t\tvalue: value,\n\t\t\ttype: type,\n\t\t\tpage: page,\n\t\t\tpageSize: 15,\n\t\t\tyear: year,\n\t\t})).then(function(response) {\n\n\t\t\t_this.currentYear = response.year;\n\n\t\t\tvar state = {};\n\n\t\t\tif (response.vo) {\n\t\t\t\tvar list = response.vo.items;\n\t\t\t\tvar totalCount = response.vo.totalCount;\n\t\t\t\tvar totalPages = response.vo.totalPages;\n\t\t\t} else {\n\t\t\t\tvar list = [];\n\t\t\t\tvar totalCount = 0;\n\t\t\t\tvar totalPages = 0;\n\t\t\t}\n\t\t\tif(response.vo.totalPages == response.vo.page){\n\t\t\t\t_this.setState({\n\t\t\t\t\tistip:true\n\t\t\t\t})\n\t\t\t}\n\t\t\t_this.setState({\n\t\t\t\tdataLoading: false\n\t\t\t})\n\n\n\t\t\tstate = {\n\t\t\t\tInstallmentplan: list,\n\t\t\t\t// rate: response.rate,\n\t\t\t\ttotalCount: totalCount,\n\t\t\t\ttotalPages: totalPages,\n\t\t\t\tdataLoading: false\n\t\t\t};\n\n\n\n\t\t\tif (totalPages > page) {\n\t\t\t\tstate.isIscroll = true;\n\t\t\t}\n\n\n\t\t\t_this.onSetState(state);\n\n\n\t\t}).catch(function(err) {\n\n\t\t\tNotify.show([{\n\t\t\t\tmessage: err.message,\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t});\n\n\n\n\t}\n\tonFilter=(value)=>{\n\t\tthis.setState({\n\t\t\ttype:value\n\t\t})\n\t}\n\trenderNone=(showNone)=>{\n\n\t\tlet {\n\t\t\tcurrentYear,\n\t\t\tInstallmentplan,\n\t\t\trate,\n\t\t\tcommunityids,\n\t\t\ttotalCount,\n\t\t\tisLoading,\n\t\t\tdataLoading,\n\t\t\ttotalPages,\n\t\t\tistip,\n\t\t\tpage,\n\t\t\tisIscroll\n\t\t} = this.state;\n\n\t\tvar _this = this;\n\t\tconst id = communityids;\n\n\t\tif (dataLoading) {\n\t\t\treturn (\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr style={{height:200,position:'relative'}}>\n\t\t\t\t\t\t<td colSpan={14} style={{border:'none'}}>\n\t\t\t\t\t\t<div style={{left:'50%',top:'40%',zIndex:100}}><Loading/></div>\n\t\t\t\t\t\t</td>\n\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t)\n\t\t}\n\n\t\tif (!showNone || dataLoading) {\n\t\t\treturn (\n\t\t\t\t<tbody>\n\t\t\t\t{/*入住率*/}\n\t\t\t\t\t<tr className=\"header-td\">\n\t\t\t\t\t\t<td className='white'>\n\t\t\t\t\t\t\t<div className=\"header-title\">\n\t\t\t\t\t\t\t\t<p className=\"title-right\">出租率</p>\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trate.map((value,index)=><td key={index}>{value}</td>)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<td className=\"last\"></td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr style={{height:200}} className=\"nothing\">\n\t\t\t\t\t\t<td colSpan={14} style={{border:'none'}}>\n\t\t\t\t\t\t\t<div style={{textAlign:'center'}}>\n\t\t\t\t\t\t\t\t<div className=\"ui-nothing\">\n\t\t\t\t\t\t\t\t\t<div className=\"icon\"></div>\n\t\t\t\t\t\t\t\t\t<p className=\"tip\">暂时还没有数据呦~</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\n\t\t\t)\n\t\t}\n\t\tif (showNone && !dataLoading) {\n\t\t\treturn (\n\t\t\t\t<tbody>\n\t\t\t\t\t{/*入住率*/}\n\t\t\t\t\t<tr className=\"header-td\">\n\t\t\t\t\t\t<td className='white'>\n\t\t\t\t\t\t\t<div className=\"header-title\">\n\t\t\t\t\t\t\t\t<p className=\"title-right\">出租率</p>\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trate.map((value,index)=><td key={index}>{value}</td>)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<td className=\"last\"></td>\n\t\t\t\t\t</tr>\n\n\t\t\t\t\t{\n\t\t\t\t\t\tshowNone && Installmentplan.map((item,index)=>{\n\t\t\t\t\t\t\tlet itemData = Object.assign(item);\n\t\t\t\t\t\t\treturn (\n\n\t\t\t\t\t\t\t<ItemTable onDismantling={this.onDismantling}  communityids={id} detail={itemData}  key={index} onStation={this.onStation} activity={this.state.activity} currentYear={currentYear} />\n\n\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</tbody>\n\n\t\t\t)\n\n\t\t}\n\t}\n\n\t\n\n\trender() {\n\n\t\tlet {\n\t\t\tcurrentYear,\n\t\t\tInstallmentplan,\n\t\t\trate,\n\t\t\tcommunityids,\n\t\t\ttotalCount,\n\t\t\tisLoading,\n\t\t\tdataLoading,\n\t\t\ttotalPages,\n\t\t\tistip,\n\t\t\tpage,\n\t\t\tisIscroll\n\t\t} = this.state;\n\t\tvar _this = this;\n\n\t\tlet {\n\t\t\ttab\n\t\t} = this.props;\n\t\tif (tab === 'table') {\n\n\t\t\t$(window).bind('scroll.table', this.scrollLoading());\n\n\t\t} else {\n\t\t\t$(window).off('scroll.table', this.scrollLoading());\n\t\t}\n\t\tlet showNone;\n\t\tif (Installmentplan.length) {\n\t\t\tshowNone = true;\n\t\t} else {\n\t\t\tshowNone = false;\n\t\t}\n\n\n\n\t\treturn (\n\t\t\t<div style={{position:'relative',minHeight:908}}>\n\t\t\t{(isLoading && !dataLoading)?<div style={{position:'fixed',left:'50%',top:'40%',zIndex:100}}><Loading/></div>:''}\n\t\t\t{(istip && !dataLoading && !isLoading)?<div style={{width:640,color:'#999',fontSize:'14px',position:'absolute',left:'50%',bottom:'-103px',marginLeft:'-320px',zIndex:100}}><p style={{width:260,borderBottom:'1px solid #cccccc',height:9,float:'left'}} ></p><p style={{float:'left',paddingLeft:'15px',paddingRight:'15px'}}>我是有底线的</p><p style={{width:260,height:9,borderBottom:'1px solid #cccccc',float:'left'}} ></p></div>:''}\n\t\t \t<div className=\"basic-con\">\n\t\t \t\t<div className=\"legend\">\n\t\t \t\t\t<div className=\"legend-left\">\n\t\t \t\t\t\t<p>\n\t\t \t\t\t\t\t<span className=\"txts bule-div\" >当前时间</span>\n\t\t \t\t\t\t\t<span className=\"txts grey-div\">过去时间</span>\n\t\t \t\t\t\t\t<span className=\"circle red\"></span>\n\t\t \t\t\t\t\t<span className=\"txt\" >催款回款</span>\n\t\t \t\t\t\t\t<span className=\"circle green\"></span>\n\t\t \t\t\t\t\t<span className=\"txt\" >工位变更</span>\n\t\t \t\t\t\t\t<span className=\"circle grey-span\"></span>\n\t\t \t\t\t\t\t<span className=\"txt\" >回款完成</span>\n\t\t \t\t\t\t</p>\n\t\t \t\t\t</div>\n\t\t \t\t</div>\n\t\t \t\t<SearchForm  onSubmit={this.onSubmit} Ids={communityids} onChange={this.onChange} onFilter={this.onFilter}/>\n\n\t\t \t</div>\n\n\t\t\t<table className=\"basic-table\" >\n\t\t\t\t<thead>\n\t\t\t\t\t<tr ref={tr=>{this.trLength = tr}}>\n\t\t\t\t\t\t<th onClick={this.onPreYear} className=\"pre-year\">\n\t\t\t\t\t\t\t{currentYear -1}年 <span className=\"prev\"></span>\n\t\t\t\t\t\t</th>\n\t\t\t\t\t\t<th>1月</th>\n\t\t\t\t\t\t<th>2月</th>\n\t\t\t\t\t\t<th>3月</th>\n\t\t\t\t\t\t<th>4月</th>\n\t\t\t\t\t\t<th>5月</th>\n\t\t\t\t\t\t<th>6月</th>\n\t\t\t\t\t\t<th>7月</th>\n\t\t\t\t\t\t<th>8月</th>\n\t\t\t\t\t\t<th>9月</th>\n\t\t\t\t\t\t<th>10月</th>\n\t\t\t\t\t\t<th>11月</th>\n\t\t\t\t\t\t<th>12月</th>\n\t\t\t\t\t\t<th onClick={this.onNextYear} className=\"next-year\">\n\t\t\t\t\t\t\t\t{currentYear*1+1}年 <span className=\"next\"></span>\n\t\t\t\t\t\t</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t{this.renderNone(showNone)}\n\n\t\t\t\t\n\n\n\n\t\t\t</table>\n\n\n\t\t\t<Dialog\n\t\t\t\ttitle=\"撤场日期\"\n\t\t\t\tmodal={true}\n\t\t\t\tonClose={this.openDismantlingDialog}\n\t\t\t\topen={this.state.dismantling}\n\t\t\t\tcontentStyle={{width:445}}\n\t\t\t\t>\n\t\t\t\t<DismantlingForm   onCancel={this.openDismantlingDialog} detail={this.state.detail} />\n\t\t\t </Dialog>\n\n\t\t</div>\n\t\t);\n\n\n\t}\n\n}\n"]}