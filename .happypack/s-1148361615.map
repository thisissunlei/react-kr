{"version":3,"sources":["src/Containers/Operation/CustomerManage/Agreement/LessorManage/List/EditDetailForm.js"],"names":["NewCreateForm","props","onSubmit","bind","onCancel","detail","dispatch","values","_this","callAPI","then","response","show","message","type","catch","err","error","handleSubmit","pristine","reset","console","log","marginTop","marginBottom","width","textAlign","paddingRight","paddingLeft","PropTypes","func","object","validate","errors","corporationName","corporationAddress","form","initialValues","enableflag","enableReinitialize","keepDirtyOnReinitialize"],"mappings":"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","file":"EditDetailForm.js","sourceRoot":"/Users/liuyihao/Code/kr-admin","sourcesContent":["import React, {\n\tComponent,\n\tPropTypes\n} from 'react';\nimport {\n\tconnect\n} from 'kr/Redux';\n\nimport {\n\treduxForm,\n\tformValueSelector,\n\tinitialize\n} from 'redux-form';\nimport {\n\tActions,\n\tStore\n} from 'kr/Redux';\nimport {\n\tKrField,\n\tGrid,\n\tRow,\n\tCol,\n\tButton,\n\tNotify,\n\tButtonGroup,\n\tListGroup,\n\tListGroupItem\n} from 'kr-ui';\n\n\nclass NewCreateForm extends Component {\n\n\tstatic PropTypes = {\n\t\tonSubmit: React.PropTypes.func,\n\t\tonCancel: React.PropTypes.func,\n\t\tdetail: React.PropTypes.object,\n\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.onSubmit = this.onSubmit.bind(this);\n\t\tthis.onCancel = this.onCancel.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tlet {\n\t\t\tdetail\n\t\t} = this.props;\n\t\t//detail.enableflag = detail.enableflag.toString();\n\t\tStore.dispatch(initialize('newCreateForm', detail));\n\t}\n\n\tonSubmit(values) {\n\n\n\t\tvalues = Object.assign({}, values);\n\n\t\tvar _this = this;\n\n\t\tStore.dispatch(Actions.callAPI('editFnaCorporation', {}, values)).then(function(response) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: '编辑成功！',\n\t\t\t\ttype: 'success',\n\t\t\t}]);\n\n\t\t\tconst {\n\t\t\t\tonSubmit\n\t\t\t} = _this.props;\n\t\t\tonSubmit && onSubmit();\n\n\t\t}).catch(function(err) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: err.message,\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t});\n\n\n\t}\n\n\tonCancel() {\n\t\tconst {\n\t\t\tonCancel\n\t\t} = this.props;\n\t\tonCancel && onCancel();\n\n\t}\n\n\trender() {\n\n\t\tconst {\n\t\t\terror,\n\t\t\thandleSubmit,\n\t\t\tpristine,\n\t\t\treset,\n\t\t\tdetail\n\t\t} = this.props;\n\n\n\t\tconsole.log('detail', detail);\n\n\n\t\treturn (\n\t\t\t<form onSubmit={handleSubmit(this.onSubmit)} style={{marginTop:40}}>\n\t\t\t\t\t\t\t<KrField name=\"corporationName\" grid={1/2} type=\"text\" label=\"出租方名称\" requireLabel={true}/>\n\n\t\t\t\t\t\t\t<KrField name=\"enableflag\" grid={1/2}  left={20} component=\"group\" label=\"是否启用\" requireLabel={true}>\n\t\t\t\t\t\t\t<div className=\"listRadio\">\n\t\t\t\t\t\t\t\t<KrField name=\"enableflag\" label=\"是\" component=\"radio\" type=\"radio\" value=\"ENABLE\"/>\n\t\t\t\t\t\t\t\t<KrField name=\"enableflag\" label=\"否\" component=\"radio\" type=\"radio\" value=\"DISENABLE\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</KrField>\n\n\t\t\t\t\t\t\t<KrField name=\"corporationAddress\" grid={1/2} component=\"text\" type=\"text\" label=\"详细地址\" requireLabel={true}/>\n\t\t\t\t\t\t\t <KrField name=\"corporationDesc\" component=\"textarea\" label=\"备注\"  placeholder=\"备注信息\"/>\n\n\n\t\t\t\t\t\t\t<Grid style={{marginBottom:10}}>\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col md={12}>\n\t\t\t\t\t\t\t\t\t<ListGroup>\n\t\t\t\t\t\t\t\t\t\t<ListGroupItem style={{width:'45%',textAlign:'right',paddingRight:15}}><Button  label=\"确定\" type=\"submit\" joinEditForm height={34}/></ListGroupItem>\n\t\t\t\t\t\t\t\t\t\t<ListGroupItem style={{width:'45%',textAlign:'left',paddingLeft:15}}><Button  label=\"取消\" type=\"button\" cancle={true} onTouchTap={this.onCancel} height={34}/></ListGroupItem>\n\t\t\t\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t</form>\n\n\t\t);\n\t}\n}\n\n\nconst validate = values => {\n\n\tconst errors = {}\n\n\tif (!values.corporationName) {\n\t\terrors.corporationName = '请填写出租方名称';\n\t}\n\tif (!values.corporationAddress) {\n\t\terrors.corporationAddress = '请填写详细地址';\n\t}\n\n\treturn errors\n}\n\nexport default reduxForm({\n\tform: 'newCreateForm',\n\tinitialValues: {\n\t\tenableflag: 'ENABLE'\n\t},\n\tvalidate,\n\tenableReinitialize: true,\n\tkeepDirtyOnReinitialize: true\n})(NewCreateForm);\n"]}