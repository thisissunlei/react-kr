{"version":3,"sources":["src/Containers/Operation/CustomerManage/CustomerList/SearchUpperForm/index.js"],"names":["SearchUpperForm","props","onChangeIntend","person","dispatch","value","onChangeSign","renderSigned","flag","searchParams","searchSignParams","cityList","intentionCities","communityList","intentionCommunities","levelList","levelIds","sourceList","sourceIds","belongCity","cities","belongCommunity","communities","selectData","marginLeft","marginTop","width","display","color","fontSize","clickDiv","event","setState","dateBoxDevelop","state","customerClick","onSubmit","bind","onCancel","dateBoxStyle","height","operType","values","prevProps","prevState","scrollTop","handleSubmit","marginBottom","propTypes","PropTypes","func","form","enableReinitialize","keepDirtyOnReinitialize"],"mappings":";;;;;;;;;;AAAA;;;;AAIA;;AAGA;;AAOA;;;;AACA;;AAWA;;AAWA;;;;;;;;;;IAEMA,e;;;AAOL,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA,gIACZA,KADY;;AAAA,QA2BnBC,cA3BmB,GA2BJ,UAACC,MAAD,EAAU;AACxB,gBAAMC,QAAN,CAAe,uBAAO,iBAAP,EAAyB,sBAAzB,EAAgDD,OAAOE,KAAvD,CAAf;AACG,GA7Be;;AAAA,QA8BhBC,YA9BgB,GA8BH,UAACH,MAAD,EAAU;AACzB,gBAAMC,QAAN,CAAe,uBAAO,iBAAP,EAAyB,aAAzB,EAAuCD,OAAOE,KAA9C,CAAf;AACG,GAhCe;;AAAA,QAkCnBE,YAlCmB,GAkCN,YAAI;AAAA,qBAC4B,MAAKN,KADjC;AAAA,OACRO,IADQ,eACRA,IADQ;AAAA,OACHC,YADG,eACHA,YADG;AAAA,OACUC,gBADV,eACUA,gBADV;;AAEZ,OAAGD,YAAH,EAAgB;AACf,QAAIE,WAASF,aAAaG,eAA1B;AACA,QAAIC,gBAAcJ,aAAaK,oBAA/B;AACA,QAAIC,YAAUN,aAAaO,QAA3B;AACA,QAAIC,aAAWR,aAAaS,SAA5B;AACA;AACD,OAAGR,gBAAH,EAAoB;AACnB,QAAIS,aAAWT,iBAAiBU,MAAhC;AACA,QAAIC,kBAAgBX,iBAAiBY,WAArC;AACA;;AAGC,OAAIC,aAAW,EAAf;AACM,OAAGf,QAAM,IAAT,EAAc;AACpBe,iBAAY;AAAA;AAAA;AAAK,oDAAS,MAAM,IAAE,CAAjB,EAAoB,OAAO,EAA3B,EAAgC,MAAK,SAArC,EAA+C,MAAK,MAApD,EAA2D,OAAM,0BAAjE,GAAL;AAChB,oDAAS,OAAO,EAAhB,EAAoB,MAAM,IAAE,CAA5B,EAAgC,OAAO,EAACC,YAAW,CAAC,CAAb,EAAvC,EAAwD,MAAK,QAA7D,EAAsE,MAAK,QAA3E,EAAoF,OAAM,0BAA1F;AACC,eAASL;AADV,OADgB;AAIhB,oDAAU,MAAM,IAAE,CAAlB,EAAqB,OAAO,EAA5B,EAAgC,MAAK,aAArC,EAAoD,OAAO,EAACM,WAAU,CAAX,EAA3D,EAA0E,WAAU,YAApF,EAAiG,OAAM,0BAAvG,EAA8G,QAAQ,KAAtH,EAA6H,UAAU,MAAKnB,YAA5I,EAA0J,aAAY,4CAAtK,GAJgB;AAKhB;AAAA;AAAA,QAAS,MAAM,IAAE,CAAjB,EAAqB,WAAU,OAA/B,EAAuC,OAAM,0BAA7C,EAAoD,OAAO,EAACmB,WAAU,CAAX,EAA3D;AACA;AAAA;AAAA,SAAK,WAAU,aAAf;AACC;AAAA;AAAA;AACC;AAAA;AAAA;AAAe;AAAA;AAAA,YAAK,WAAU,eAAf,EAA+B,OAAO,EAACC,OAAM,GAAP,EAAtC;AAAoD,yDAAU,OAAO,EAACA,OAAM,GAAP,EAAWF,YAAW,CAAC,EAAvB,EAA0BC,WAAU,CAApC,EAAjB,EAAyD,MAAK,eAA9D,EAA8E,WAAU,MAAxF;AAApD;AAAf,SADD;AAEE;AAAA;AAAA,WAAK,WAAU,cAAf;AAA8B;AAAA;AAAA,YAAM,OAAO,EAACE,SAAQ,cAAT,EAAwBC,OAAM,MAA9B,EAAqCC,UAAS,IAA9C,EAAb;AAAA;AAAA;AAA9B,SAFF;AAGC;AAAA;AAAA;AAAe;AAAA;AAAA,YAAK,WAAU,aAAf;AAA6B,yDAAS,MAAK,aAAd,EAA4B,OAAO,EAACH,OAAM,GAAP,EAAWD,WAAU,CAArB,EAAnC,EAA4D,WAAU,MAAtE;AAA7B;AAAf;AAHD;AADD;AADA;AALgB,KAAZ;AAcE,IAfI,MAeA;AACGF,iBAAY;AAAA;AAAA;AAAK,oDAAS,MAAM,IAAE,CAAjB,EAAoB,OAAO,EAA3B,EAAgC,MAAK,SAArC,EAA+C,MAAK,MAApD,EAA2D,OAAM,0BAAjE,GAAL;AACb,oDAAS,OAAO,EAAhB,EAAoB,MAAM,IAAE,CAA5B,EAA+B,OAAO,EAACC,YAAW,CAAC,CAAb,EAAtC,EAAuD,MAAK,iBAA5D,EAA8E,MAAK,QAAnF,EAA4F,OAAM,0BAAlG;AACC,eAASb;AADV,OADa;AAIzB,oDAAU,MAAM,IAAE,CAAlB,EAAqB,OAAO,EAA5B,EAAgC,MAAK,sBAArC,EAA4D,OAAO,EAACc,WAAU,CAAX,EAAnE,EAAkF,WAAU,cAA5F,EAA4G,OAAM,0BAAlH,EAAyH,QAAQ,KAAjI,EAAwI,UAAU,MAAKvB,cAAvJ,EAAuK,aAAY,4CAAnL,GAJyB;AAKzB,oDAAU,MAAM,IAAE,CAAlB,EAAqB,OAAO,EAA5B,EAAgC,OAAO,EAACsB,YAAW,CAAC,CAAb,EAAeC,WAAU,CAAzB,EAAvC,EAAqE,MAAK,SAA1E,EAAoF,MAAK,QAAzF,EAAmG,OAAM,0BAAzG;AACC,eAASV;AADV,OALyB;AAQzB,oDAAU,MAAM,IAAE,CAAlB,EAAqB,OAAO,EAA5B,EAAgC,MAAK,UAArC,EAAgD,MAAK,QAArD,EAA+D,OAAO,EAACU,WAAU,CAAX,EAAtE,EAAqF,OAAM,0BAA3F;AACE,eAASR;AADX,OARyB;AAWzB;AAAA;AAAA,QAAS,MAAM,IAAE,CAAjB,EAAqB,WAAU,OAA/B,EAAuC,OAAM,0BAA7C,EAAoD,OAAO,EAACQ,WAAU,CAAX,EAA3D;AACA;AAAA;AAAA,SAAK,WAAU,aAAf;AACC;AAAA;AAAA;AACC;AAAA;AAAA;AAAe;AAAA;AAAA,YAAK,WAAU,eAAf,EAA+B,OAAO,EAACC,OAAM,GAAP,EAAtC;AAAoD,yDAAU,OAAO,EAACA,OAAM,GAAP,EAAWF,YAAW,CAAC,EAAvB,EAA0BC,WAAU,CAApC,EAAjB,EAAyD,MAAK,iBAA9D,EAAgF,WAAU,MAA1F;AAApD;AAAf,SADD;AAEE;AAAA;AAAA,WAAK,WAAU,cAAf;AAA8B;AAAA;AAAA,YAAM,OAAO,EAACE,SAAQ,cAAT,EAAwBC,OAAM,MAA9B,EAAqCC,UAAS,IAA9C,EAAb;AAAA;AAAA;AAA9B,SAFF;AAGC;AAAA;AAAA;AAAe;AAAA;AAAA,YAAK,WAAU,aAAf;AAA6B,yDAAS,MAAK,eAAd,EAA8B,OAAO,EAACH,OAAM,GAAP,EAAWD,WAAU,CAArB,EAArC,EAA8D,WAAU,MAAxE;AAA7B;AAAf;AAHD;AADD;AADA;AAXyB,KAAZ;AAoBP;;AAER,UACCF,UADD;AAGA,GA1FkB;;AAAA,QAsGnBO,QAtGmB,GAsGV,UAACC,KAAD,EAAS;AACjB,SAAKC,QAAL,CAAc;AACbC,oBAAe,CAAC,MAAKC,KAAL,CAAWD;AADd,IAAd;;AAIA;AACA,GA5GkB;;AAAA,QA6GnBE,aA7GmB,GA6GL,YAAI;;AAEjB,SAAKH,QAAL,CAAc;AACbC,oBAAe;AADF,IAAd;AAGA,GAlHkB;;AAElB,QAAKG,QAAL,GAAgB,MAAKA,QAAL,CAAcC,IAAd,OAAhB;AACA,QAAKC,QAAL,GAAgB,MAAKA,QAAL,CAAcD,IAAd,OAAhB;AACA,QAAKH,KAAL,GAAW;AACVD,mBAAe,KADL;AAEVM,iBAAa,EAACd,WAAU,EAAX,EAAcD,YAAW,EAAzB,EAA6BgB,QAAO,MAApC,EAFH;AAGVC,aAASxC,MAAMwC;AAHL,GAAX;;AAJkB;AAUlB;;;;2BAGQC,M,EAAQ;AAAA,OAEbN,QAFa,GAGZ,KAAKnC,KAHO,CAEbmC,QAFa;;AAIhBA,eAAYA,SAASM,MAAT,CAAZ;AACA;;;6BAEU;AAAA,OAETJ,QAFS,GAGN,KAAKrC,KAHC,CAETqC,QAFS;;AAIVA,eAAYA,UAAZ;AACA;;;qCAkEkBK,S,EAAWC,S,EAAU;;AAEtC,yBAAE,2BAAF,EAA+BC,SAA/B,CAAyC,GAAzC;;AAGA,yBAAE,0BAAF,EAA8BA,SAA9B,CAAwC,GAAxC;;AAGA,yBAAE,wBAAF,EAA4BA,SAA5B,CAAsC,GAAtC;AAED;;;2BAiBQ;AAAA,OAEDC,YAFC,GAEa,KAAK7C,KAFlB,CAED6C,YAFC;AAAA,gBAG4B,KAAKZ,KAHjC;AAAA,OAGDK,YAHC,UAGDA,YAHC;AAAA,OAGYN,cAHZ,UAGYA,cAHZ;AAIN;AACA;AACA;AACA;AACA;AACA;;;AAGF,UACC;AAAA;AAAA,MAAK,OAAOM,YAAZ,EAA0B,WAAU,sBAApC,EAA2D,SAAS,KAAKJ,aAAzE;AACI;AAAA;AAAA,OAAM,UAAUW,aAAa,KAAKV,QAAlB,CAAhB;AACE,UAAK7B,YAAL,EADF;AAGH;AAAA;AAAA,QAAM,OAAO,EAACkB,WAAU,CAAX,EAAasB,cAAa,CAA1B,EAA4BvB,YAAW,CAAC,EAAxC,EAAb;AACC;AAAA;AAAA;AACC;AAAA;AAAA,UAAK,IAAI,EAAT,EAAa,OAAM,QAAnB;AACC;AAAA;AAAA;AACC;AAAA;AAAA,YAAM,WAAU,eAAhB;AAAgC,wDAAS,OAAM,cAAf,EAAoB,MAAK,QAAzB,EAAkC,kBAAlC;AAAhC,UADD;AAEC,uDAAS,OAAM,cAAf,EAAoB,MAAK,QAAzB,EAAkC,QAAQ,IAA1C,EAAgD,YAAY,KAAKc,QAAjE;AAFD;AADD;AADD;AADD;AAHG;AADJ,IADD;AAkBA;;;;;;AA3JItC,e,CAEEgD,S,GAAY;AAClBZ,WAAU,gBAAMa,SAAN,CAAgBC,IADR;AAElBZ,WAAU,gBAAMW,SAAN,CAAgBC;AAFR,C;;eA6JL,0BAAU,EAACC,MAAK,iBAAN,EAAwBC,oBAAmB,IAA3C,EAAgDC,yBAAwB,IAAxE,EAAV,EAAyFrD,eAAzF,C;;;;;;;;;;+BA/JTA,e","file":"index.js","sourceRoot":"/Users/liuyihao/Code/kr-admin","sourcesContent":["import React, {\n\tComponent,\n\tPropTypes\n} from 'react';\nimport {\n\tconnect\n} from 'kr/Redux';\nimport {\n\tobserver\n} from 'mobx-react';\nimport {\n\tActions,\n\tStore\n} from 'kr/Redux';\nimport $ from 'jquery';\nimport {\n\treduxForm,\n\tformValueSelector,\n\tinitialize,\n\tchange,\n\tarrayPush,\n\tarrayInsert,\n\tFieldArray,\n\treset\n} from 'redux-form';\n\nimport {\n\tKrField,\n\tGrid,\n\tRow,\n\tCol,\n\tButton,\n\tButtonGroup,\n\tListGroup,\n\tListGroupItem\n} from 'kr-ui';\n\nimport './index.less';\n@observer\nclass SearchUpperForm extends Component {\n\n\tstatic propTypes = {\n\t\tonSubmit: React.PropTypes.func,\n\t\tonCancel: React.PropTypes.func,\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.onSubmit = this.onSubmit.bind(this);\n\t\tthis.onCancel = this.onCancel.bind(this);\n\t\tthis.state={\n\t\t\tdateBoxDevelop:false,\n\t\t\tdateBoxStyle:{marginTop:35,marginLeft:26 ,height:\"auto\"},\n\t\t\toperType:props.operType\n\t\t}\n\n\t}\n\t\n\n\tonSubmit(values) {\n\t  const {\n\t\t   onSubmit\n\t\t} = this.props;\n\t\tonSubmit && onSubmit(values);\n\t}\n\n\tonCancel() {\n\t   const {\n\t\t\tonCancel\n\t\t} = this.props;\n\t\tonCancel && onCancel();\t\t\n\t}\n\n\tonChangeIntend=(person)=>{\n\t\tStore.dispatch(change('SearchUpperForm','intentionCommunityId',person.value));\n    }\n    onChangeSign=(person)=>{\n\t\tStore.dispatch(change('SearchUpperForm','communityId',person.value));\n    }\n\n\trenderSigned=()=>{\n\t\t   let {flag,searchParams,searchSignParams}=this.props;\n\t\t    if(searchParams){\n\t\t    \tvar cityList=searchParams.intentionCities;\n\t\t\t    var communityList=searchParams.intentionCommunities;\n\t\t\t    var levelList=searchParams.levelIds;\n\t\t\t    var sourceList=searchParams.sourceIds;\n\t\t    }\n\t\t    if(searchSignParams){\n\t\t    \tvar belongCity=searchSignParams.cities;\n\t\t\t    var belongCommunity=searchSignParams.communities\n\t\t    }\n\n\t\t\t\n\t\t      var selectData='';\n              if(flag=='签约'){\n\t\t\t     selectData=(<div><KrField grid={1/2} right={34}  name=\"company\" type=\"text\" label=\"公司名称\"/> \n\t\t\t\t<KrField right={34} grid={1/2}  style={{marginLeft:-5}} name=\"cityId\" type=\"select\" label=\"签约城市\" \n\t\t\t\t options={belongCity}\n\t\t\t\t/>\n\t\t\t\t<KrField  grid={1/2} right={34} name=\"communityId\"  style={{marginTop:4}} component='searchSign' label=\"签约社区\" inline={false} onChange={this.onChangeSign} placeholder='请输入社区名称'/>\n\t\t\t\t<KrField grid={1/1}  component=\"group\" label=\"签约时间\" style={{marginTop:3}}>\n\t\t\t\t<div className='ui-listDate'>\n\t\t\t\t\t<ListGroup>\n\t\t\t\t\t\t<ListGroupItem><div className='ui-date-start' style={{width:260}} ><KrField  style={{width:260,marginLeft:-10,marginTop:2}} name=\"signStartDate\" component=\"date\" /></div></ListGroupItem>\n\t\t\t\t\t\t\t<div className='ui-line-down'><span style={{display:'inline-block',color:'#666',fontSize:'14'}}>至</span></div>\n\t\t\t\t\t\t<ListGroupItem><div className='ui-date-end'><KrField name=\"signEndDate\" style={{width:260,marginTop:2}} component=\"date\" /></div></ListGroupItem>\n\t\t\t\t\t</ListGroup>\n                </div>\n\t\t\t\t</KrField></div>) \n\t\t       }else{\n                 selectData=(<div><KrField grid={1/2} right={34}  name=\"company\" type=\"text\" label=\"公司名称\"/>\n                <KrField right={34} grid={1/2} style={{marginLeft:-5}} name=\"intentionCityId\" type=\"select\" label=\"意向城市\" \n                 options={cityList}\n                />\n\t\t\t\t<KrField  grid={1/2} right={34} name=\"intentionCommunityId\" style={{marginTop:4}} component='searchIntend'  label=\"意向社区\" inline={false} onChange={this.onChangeIntend} placeholder='请输入社区名称'/>\n\t\t\t\t<KrField  grid={1/2} right={34} style={{marginLeft:-5,marginTop:4}}  name=\"levelId\" type=\"select\"  label=\"客户分类\" \n\t\t\t\t options={levelList} \n\t\t\t\t/>\n\t\t\t\t<KrField  grid={1/2} right={34} name=\"sourceId\" type=\"select\"  style={{marginTop:4}} label=\"客户来源\" \n\t\t\t\t  options={sourceList}\n\t\t\t\t></KrField>\n\t\t\t\t<KrField grid={1/1}  component=\"group\" label=\"创建时间\" style={{marginTop:3}}>\n\t\t\t\t<div className='ui-listDate'>\n\t\t\t\t\t<ListGroup>\n\t\t\t\t\t\t<ListGroupItem><div className='ui-date-start' style={{width:260}} ><KrField  style={{width:260,marginLeft:-10,marginTop:2}} name=\"createStartDate\" component=\"date\" /></div></ListGroupItem>\n\t\t\t\t\t\t\t<div className='ui-line-down'><span style={{display:'inline-block',color:'#666',fontSize:'14'}}>至</span></div>\n\t\t\t\t\t\t<ListGroupItem><div className='ui-date-end'><KrField name=\"createEndDate\" style={{width:260,marginTop:2}} component=\"date\" /></div></ListGroupItem>\n\t\t\t\t\t</ListGroup>\n                </div>\n\t\t\t\t</KrField></div>)\n\t\t       }\t\t       \n\t\t\n\t\treturn (             \n\t\t\tselectData   \t\t\t\t\n\t\t);\n\t}\n\tcomponentDidUpdate(prevProps, prevState){\n\t\t\n\t\t\t$('.m-merchants .dialog-body').scrollTop(558);\n\n\t\t\n\t\t\t$('.m-personal .dialog-body').scrollTop(558);\n\n\t\t\n\t\t\t$('.m-signed .dialog-body').scrollTop(558);\n\t\t\n\t}\n\tclickDiv=(event)=>{\n\t\tthis.setState({\n\t\t\tdateBoxDevelop:!this.state.dateBoxDevelop,\n\t\t})\n\n\t\t// var tt=$('.m-merchants .dialog-body').;\n\t}\n\tcustomerClick=()=>{\n\n\t\tthis.setState({\n\t\t\tdateBoxDevelop:false,\n\t\t})\n\t}\n\n\t\n\n\trender() {\n\n\t   let {handleSubmit}=this.props;\n\t   let {dateBoxStyle,dateBoxDevelop}=this.state;\n\t   // if(dateBoxDevelop){\n\t   // \tdateBoxStyle.width=\"558px\";\n\t   // }else{\n\t   // \tdateBoxStyle.width=\"auto\";\n\t   // }\n\t   // console.log(dateBoxDevelop,\">>>>>>\")\n\n\n\t\treturn(\n\t\t\t<div style={dateBoxStyle} className='customer-searchUpper' onclick={this.customerClick}>\n\t\t\t    <form onSubmit={handleSubmit(this.onSubmit)}>\n\t\t\t\t    {this.renderSigned()}\n\n\t\t\t\t<Grid style={{marginTop:7,marginBottom:5,marginLeft:-24}}>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col md={12} align=\"center\">\n\t\t\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t\t\t<div  className='ui-btn-center'><Button  label=\"确定\" type=\"submit\" joinEditForm /></div>\n\t\t\t\t\t\t\t\t<Button  label=\"取消\" type=\"button\" cancle={true} onTouchTap={this.onCancel} />\n\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Grid>\n\t\t\t\t</form>  \n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\nexport default reduxForm({form:'searchUpperForm',enableReinitialize:true,keepDirtyOnReinitialize:true})(SearchUpperForm);\n"]}