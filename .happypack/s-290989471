'use strict';

//工位
//======================
var Station = function Station(x, y, width, height, basic, index) {

  this.index = Number(index);
  this.x = Number(x);
  this.y = Number(y);
  this.width = Number(width);
  this.height = Number(height);
  this.strokeStyle = 'red';
  this.fillStyle = '#28C288';
  this.defaultFillStyle = 'transparent';
  this.textStyle = '#499DF1';
  this.checked = false;

  //工位信息
  this.basic = basic;
  this.default = {
    x: Number(x),
    y: Number(y)
  };

  //dom
  this.dialog = {
    open: false,
    ele: null
  };
};

Station.prototype.getIndex = function () {
  return this.index;
};

Station.prototype.position = function (x, y) {

  if (arguments.length === 2) {
    this.x = Number(x) - Number(this.width / 2);
    this.y = Number(y) - Number(this.height / 2);
  }

  var position = {
    x: this.x,
    y: this.y
  };

  return position;
};

Station.prototype.reset = function (context) {
  context.clearRect(this.x, this.y, this.width, this.height);
};

Station.prototype.create = function (context) {
  this.reset(context);
  this.stroke(context);
  this.fillText(context);
};

Station.prototype.getChecked = function () {
  return this.checked;
};

Station.prototype.setChecked = function (value) {
  this.checked = value;
};

//拖拽创建
Station.prototype.dragCreate = function (context) {};

Station.prototype.stroke = function (context) {

  context.moveTo(this.x, this.y);
  context.beginPath();
  context.rect(this.x, this.y, this.width, this.height);
  //context.closePath();

  context.strokeStyle = this.strokeStyle;
  //context.stroke();

  this.fillStyle = this.defaultFillStyle;
  if (this.checked) {
    this.fillStyle = 'red';
  }

  this.fill(context);
};

//中心点
Station.prototype.centerPoint = function (context) {
  context.beginPath();
  context.arc(this.x + this.width / 2, this.y + this.height / 2, 2, 0, 2 * Math.PI);
  context.stroke();
};

Station.prototype.fillText = function (context) {
  var basic = this.basic;
  var text = basic.name;
  var measureText = context.measureText(text);

  //this.centerPoint(context);

  context.beginPath();
  context.font = "12px Verdana";
  context.fillStyle = this.textStyle;
  context.textBaseline = "middle";
  context.fillText(text, this.x + this.width / 2 - measureText.width / 2, this.y + this.height / 2);
  context.closePath();
};

//填充颜色
Station.prototype.fill = function (context) {
  context.fillStyle = this.fillStyle;
  context.fillRect(Number(this.x), Number(this.y), this.width, this.height);
};

Station.prototype.getBasicInfo = function () {
  var basic = this.basic;
  return basic;
};

Station.prototype.closeDialog = function () {
  var ele = this.dialog.ele;
  if (ele === null) {
    return;
  }
  ele.style.display = 'none';
};

Station.prototype.openDialog = function () {
  var ele = this.dialog.ele;
  if (ele === null) {
    ele = this.createDialog();
  }
  this.renderDialog();
  ele.style.display = 'block';
};

Station.prototype.renderDialog = function () {
  var basic = this.basic;
  var stationEle = this.dialog.ele;
  stationEle.innerHTML = basic.name + (this.checked ? '选中' : '未选中');
};

//工位信息
Station.prototype.createDialog = function () {

  var basic = this.getBasicInfo();

  var stationEle = document.createElement('div');
  stationEle.style.width = '200px';
  stationEle.style.height = '200px';
  stationEle.style.border = '1px solid #ddd';
  stationEle.style.borderRadius = '4px';
  stationEle.style.position = 'fixed';
  stationEle.style.top = this.y + 'px';
  stationEle.style.left = this.x + 'px';
  stationEle.style.background = '#fff';

  stationEle.innerHTML = basic.name + (this.checked ? '选中' : '未选中');

  this.dialog.ele = stationEle;

  document.body.appendChild(stationEle);

  return stationEle;
};

module.exports = Station;
;

var _temp = function () {
  if (typeof __REACT_HOT_LOADER__ === 'undefined') {
    return;
  }

  __REACT_HOT_LOADER__.register(Station, 'Station', '/Users/liuyihao/Code/kr-admin/src/Components/PlanMap/Lib/Station.js');
}();

;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9Db21wb25lbnRzL1BsYW5NYXAvTGliL1N0YXRpb24uanMiXSwibmFtZXMiOlsiU3RhdGlvbiIsIngiLCJ5Iiwid2lkdGgiLCJoZWlnaHQiLCJiYXNpYyIsImluZGV4IiwiTnVtYmVyIiwic3Ryb2tlU3R5bGUiLCJmaWxsU3R5bGUiLCJkZWZhdWx0RmlsbFN0eWxlIiwidGV4dFN0eWxlIiwiY2hlY2tlZCIsImRlZmF1bHQiLCJkaWFsb2ciLCJvcGVuIiwiZWxlIiwicHJvdG90eXBlIiwiZ2V0SW5kZXgiLCJwb3NpdGlvbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInJlc2V0IiwiY29udGV4dCIsImNsZWFyUmVjdCIsImNyZWF0ZSIsInN0cm9rZSIsImZpbGxUZXh0IiwiZ2V0Q2hlY2tlZCIsInNldENoZWNrZWQiLCJ2YWx1ZSIsImRyYWdDcmVhdGUiLCJtb3ZlVG8iLCJiZWdpblBhdGgiLCJyZWN0IiwiZmlsbCIsImNlbnRlclBvaW50IiwiYXJjIiwiTWF0aCIsIlBJIiwidGV4dCIsIm5hbWUiLCJtZWFzdXJlVGV4dCIsImZvbnQiLCJ0ZXh0QmFzZWxpbmUiLCJjbG9zZVBhdGgiLCJmaWxsUmVjdCIsImdldEJhc2ljSW5mbyIsImNsb3NlRGlhbG9nIiwic3R5bGUiLCJkaXNwbGF5Iiwib3BlbkRpYWxvZyIsImNyZWF0ZURpYWxvZyIsInJlbmRlckRpYWxvZyIsInN0YXRpb25FbGUiLCJpbm5lckhUTUwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJ0b3AiLCJsZWZ0IiwiYmFja2dyb3VuZCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQ0E7QUFDQTtBQUNBLElBQUlBLFVBQVUsU0FBVkEsT0FBVSxDQUFTQyxDQUFULEVBQVdDLENBQVgsRUFBYUMsS0FBYixFQUFtQkMsTUFBbkIsRUFBMEJDLEtBQTFCLEVBQWdDQyxLQUFoQyxFQUFzQzs7QUFH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QUFJL0MsUUFBUSxLQUFLMEMsWUFBTCxFQUFaOztBQUVBLE1BQUlPLGFBQWFFLFNBQVNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBakI7QUFDQUgsYUFBV0wsS0FBWCxDQUFpQjlDLEtBQWpCLEdBQXlCLE9BQXpCO0FBQ0FtRCxhQUFXTCxLQUFYLENBQWlCN0MsTUFBakIsR0FBMEIsT0FBMUI7QUFDQWtELGFBQVdMLEtBQVgsQ0FBaUJTLE1BQWpCLEdBQTBCLGdCQUExQjtBQUNBSixhQUFXTCxLQUFYLENBQWlCVSxZQUFqQixHQUFnQyxLQUFoQztBQUNBTCxhQUFXTCxLQUFYLENBQWlCOUIsUUFBakIsR0FBNEIsT0FBNUI7QUFDQW1DLGFBQVdMLEtBQVgsQ0FBaUJXLEdBQWpCLEdBQXVCLEtBQUsxRCxDQUFMLEdBQU8sSUFBOUI7QUFDQW9ELGFBQVdMLEtBQVgsQ0FBaUJZLElBQWpCLEdBQXdCLEtBQUs1RCxDQUFMLEdBQU8sSUFBL0I7QUFDQXFELGFBQVdMLEtBQVgsQ0FBaUJhLFVBQWpCLEdBQThCLE1BQTlCOztBQUVBUixhQUFXQyxTQUFYLEdBQXVCbEQsTUFBTW9DLElBQU4sSUFBYyxLQUFLN0IsT0FBTCxHQUFhLElBQWIsR0FBa0IsS0FBaEMsQ0FBdkI7O0FBRUEsT0FBS0UsTUFBTCxDQUFZRSxHQUFaLEdBQWtCc0MsVUFBbEI7O0FBRUFFLFdBQVNPLElBQVQsQ0FBY0MsV0FBZCxDQUEwQlYsVUFBMUI7O0FBRUEsU0FBT0EsVUFBUDtBQUVELENBdEJEOztBQXdCQVcsT0FBT0MsT0FBUCxHQUFpQmxFLE9BQWpCOzs7Ozs7OztnQ0E1S0lBLE8iLCJmaWxlIjoiU3RhdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbGl1eWloYW8vQ29kZS9rci1hZG1pbiIsInNvdXJjZXNDb250ZW50IjpbIlxuLy/lt6XkvY1cbi8vPT09PT09PT09PT09PT09PT09PT09PVxudmFyIFN0YXRpb24gPSBmdW5jdGlvbih4LHksd2lkdGgsaGVpZ2h0LGJhc2ljLGluZGV4KXtcblxuXG4gIHRoaXMuaW5kZXggPSBOdW1iZXIoaW5kZXgpO1xuICB0aGlzLnggPSBOdW1iZXIoeCk7XG4gIHRoaXMueSA9IE51bWJlcih5KTtcbiAgdGhpcy53aWR0aCA9IE51bWJlcih3aWR0aCk7XG4gIHRoaXMuaGVpZ2h0ID0gTnVtYmVyKGhlaWdodCk7XG4gIHRoaXMuc3Ryb2tlU3R5bGUgPSAncmVkJztcbiAgdGhpcy5maWxsU3R5bGUgPSAnIzI4QzI4OCc7XG4gIHRoaXMuZGVmYXVsdEZpbGxTdHlsZSA9ICd0cmFuc3BhcmVudCc7XG4gIHRoaXMudGV4dFN0eWxlID0gJyM0OTlERjEnO1xuICB0aGlzLmNoZWNrZWQgPSBmYWxzZTtcblxuICAvL+W3peS9jeS/oeaBr1xuICB0aGlzLmJhc2ljID0gYmFzaWM7XG4gIHRoaXMuZGVmYXVsdCA9IHtcbiAgICAgIHg6TnVtYmVyKHgpLFxuICAgICAgeTpOdW1iZXIoeSlcbiAgfTtcblxuICAvL2RvbVxuICB0aGlzLmRpYWxvZyA9IHtcbiAgICBvcGVuOmZhbHNlLFxuICAgIGVsZTpudWxsXG4gIH07XG5cbn1cblxuU3RhdGlvbi5wcm90b3R5cGUuZ2V0SW5kZXggPSBmdW5jdGlvbigpe1xuICByZXR1cm4gdGhpcy5pbmRleDtcbn1cblxuU3RhdGlvbi5wcm90b3R5cGUucG9zaXRpb24gPSBmdW5jdGlvbih4LHkpe1xuXG4gIGlmKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpe1xuICAgICAgdGhpcy54ID0gTnVtYmVyKHgpLU51bWJlcih0aGlzLndpZHRoLzIpO1xuICAgICAgdGhpcy55ID0gTnVtYmVyKHkpLU51bWJlcih0aGlzLmhlaWdodC8yKTtcbiAgfVxuXG4gIHZhciBwb3NpdGlvbiA9IHtcbiAgICB4OnRoaXMueCxcbiAgICB5OnRoaXMueVxuICB9O1xuXG4gIHJldHVybiBwb3NpdGlvbjtcbn1cblxuU3RhdGlvbi5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbihjb250ZXh0KXtcbiAgY29udGV4dC5jbGVhclJlY3QodGhpcy54LHRoaXMueSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTtcbn1cblxuU3RhdGlvbi5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oY29udGV4dCl7XG4gIHRoaXMucmVzZXQoY29udGV4dCk7XG4gIHRoaXMuc3Ryb2tlKGNvbnRleHQpO1xuICB0aGlzLmZpbGxUZXh0KGNvbnRleHQpO1xufVxuXG5TdGF0aW9uLnByb3RvdHlwZS5nZXRDaGVja2VkID0gZnVuY3Rpb24oKXtcblx0cmV0dXJuIHRoaXMuY2hlY2tlZDtcbn1cblxuU3RhdGlvbi5wcm90b3R5cGUuc2V0Q2hlY2tlZCA9IGZ1bmN0aW9uKHZhbHVlKXtcblx0XHR0aGlzLmNoZWNrZWQgPSB2YWx1ZTtcbn1cblxuLy/mi5bmi73liJvlu7pcblN0YXRpb24ucHJvdG90eXBlLmRyYWdDcmVhdGUgPSBmdW5jdGlvbihjb250ZXh0KXtcblxufVxuXG5TdGF0aW9uLnByb3RvdHlwZS5zdHJva2UgPSBmdW5jdGlvbihjb250ZXh0KXtcblxuICBjb250ZXh0Lm1vdmVUbyh0aGlzLngsdGhpcy55KTtcbiAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgY29udGV4dC5yZWN0KHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCk7XG4gIC8vY29udGV4dC5jbG9zZVBhdGgoKTtcblxuICBjb250ZXh0LnN0cm9rZVN0eWxlPXRoaXMuc3Ryb2tlU3R5bGU7XG4gIC8vY29udGV4dC5zdHJva2UoKTtcblxuICB0aGlzLmZpbGxTdHlsZSA9IHRoaXMuZGVmYXVsdEZpbGxTdHlsZTtcbiAgaWYodGhpcy5jaGVja2VkKXtcbiAgICB0aGlzLmZpbGxTdHlsZT0ncmVkJztcbiAgfVxuXG4gIHRoaXMuZmlsbChjb250ZXh0KTtcblxufVxuXG4vL+S4reW/g+eCuVxuU3RhdGlvbi5wcm90b3R5cGUuY2VudGVyUG9pbnQgPSBmdW5jdGlvbihjb250ZXh0KXtcbiAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgY29udGV4dC5hcmModGhpcy54K3RoaXMud2lkdGgvMix0aGlzLnkrdGhpcy5oZWlnaHQvMiwyLDAsMipNYXRoLlBJKTtcbiAgY29udGV4dC5zdHJva2UoKTtcbn1cblxuU3RhdGlvbi5wcm90b3R5cGUuZmlsbFRleHQgPSBmdW5jdGlvbihjb250ZXh0KXtcbiAgdmFyIGJhc2ljID0gdGhpcy5iYXNpYztcbiAgdmFyIHRleHQgPSBiYXNpYy5uYW1lO1xuICB2YXIgbWVhc3VyZVRleHQgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpO1xuXG5cbiAgLy90aGlzLmNlbnRlclBvaW50KGNvbnRleHQpO1xuXG4gIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gIGNvbnRleHQuZm9udD1cIjEycHggVmVyZGFuYVwiO1xuICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMudGV4dFN0eWxlO1xuICBjb250ZXh0LnRleHRCYXNlbGluZT1cIm1pZGRsZVwiO1xuICBjb250ZXh0LmZpbGxUZXh0KHRleHQsdGhpcy54K3RoaXMud2lkdGgvMi1tZWFzdXJlVGV4dC53aWR0aC8yLHRoaXMueSt0aGlzLmhlaWdodC8yKTtcbiAgY29udGV4dC5jbG9zZVBhdGgoKTtcbn1cblxuLy/loavlhYXpopzoibJcblN0YXRpb24ucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbihjb250ZXh0KXtcbiAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLmZpbGxTdHlsZTtcbiAgY29udGV4dC5maWxsUmVjdChOdW1iZXIodGhpcy54KSxOdW1iZXIodGhpcy55KSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KTtcbn1cblxuU3RhdGlvbi5wcm90b3R5cGUuZ2V0QmFzaWNJbmZvID0gZnVuY3Rpb24oKXtcbiAgdmFyIGJhc2ljID0gdGhpcy5iYXNpYztcbiAgcmV0dXJuIGJhc2ljO1xufVxuXG5TdGF0aW9uLnByb3RvdHlwZS5jbG9zZURpYWxvZyA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGVsZSA9IHRoaXMuZGlhbG9nLmVsZTtcbiAgICBpZihlbGUgPT09IG51bGwpe1xuICAgICAgcmV0dXJuIDtcbiAgICB9XG4gICAgZWxlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG59XG5cblN0YXRpb24ucHJvdG90eXBlLm9wZW5EaWFsb2cgPSBmdW5jdGlvbigpe1xuICAgIHZhciBlbGUgPSB0aGlzLmRpYWxvZy5lbGU7XG4gICAgaWYoZWxlID09PSBudWxsKXtcbiAgICAgICBlbGUgID0gdGhpcy5jcmVhdGVEaWFsb2coKTtcbiAgICB9XG4gICAgdGhpcy5yZW5kZXJEaWFsb2coKTtcbiAgICBlbGUuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG59XG5cblN0YXRpb24ucHJvdG90eXBlLnJlbmRlckRpYWxvZyA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGJhc2ljID0gdGhpcy5iYXNpYztcbiAgICB2YXIgc3RhdGlvbkVsZSA9ICB0aGlzLmRpYWxvZy5lbGU7XG4gICAgc3RhdGlvbkVsZS5pbm5lckhUTUwgPSBiYXNpYy5uYW1lICsgKHRoaXMuY2hlY2tlZD8n6YCJ5LitJzon5pyq6YCJ5LitJyk7XG59XG5cbi8v5bel5L2N5L+h5oGvXG5TdGF0aW9uLnByb3RvdHlwZS5jcmVhdGVEaWFsb2cgPSBmdW5jdGlvbigpe1xuXG4gIHZhciBiYXNpYyA9IHRoaXMuZ2V0QmFzaWNJbmZvKCk7XG5cbiAgdmFyIHN0YXRpb25FbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgc3RhdGlvbkVsZS5zdHlsZS53aWR0aCA9ICcyMDBweCc7XG4gIHN0YXRpb25FbGUuc3R5bGUuaGVpZ2h0ID0gJzIwMHB4JztcbiAgc3RhdGlvbkVsZS5zdHlsZS5ib3JkZXIgPSAnMXB4IHNvbGlkICNkZGQnO1xuICBzdGF0aW9uRWxlLnN0eWxlLmJvcmRlclJhZGl1cyA9ICc0cHgnO1xuICBzdGF0aW9uRWxlLnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgc3RhdGlvbkVsZS5zdHlsZS50b3AgPSB0aGlzLnkrJ3B4JztcbiAgc3RhdGlvbkVsZS5zdHlsZS5sZWZ0ID0gdGhpcy54KydweCc7XG4gIHN0YXRpb25FbGUuc3R5bGUuYmFja2dyb3VuZCA9ICcjZmZmJztcblxuICBzdGF0aW9uRWxlLmlubmVySFRNTCA9IGJhc2ljLm5hbWUgKyAodGhpcy5jaGVja2VkPyfpgInkuK0nOifmnKrpgInkuK0nKTtcblxuICB0aGlzLmRpYWxvZy5lbGUgPSBzdGF0aW9uRWxlO1xuXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3RhdGlvbkVsZSk7XG5cbiAgcmV0dXJuIHN0YXRpb25FbGU7XG5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTdGF0aW9uO1xuIl19