{"version":3,"sources":["src/Containers/Operation/CustomerManage/Agreement/Renew/Edit/NewCreateForm.js"],"names":["NewCreateForm","decorate","props","context","setAllRent","list","_this","dispatch","callAPI","stationList","JSON","stringify","then","response","setState","allRent","catch","err","show","message","type","getSingleRent","item","mounth","rentBegin","leaseBeginDate","split","rentEnd","leaseEndDate","rentDay","rentMounth","years","a","console","log","mounthIndex","rentPriceByDay","unitprice","toFixed","dealRentName","name","nzhcn","cn","allRentName","encodeB","parseFloat","allRentNameArray","length","xiaoshu","stationRefs","onCancel","bind","onSubmit","onStationSubmit","onStationCancel","onStationDelete","onStationSelect","openStationDialog","onStationUnitPrice","openStationUnitPriceDialog","onChangeSearchPersonel","onStationVosChange","state","originStationVos","stationVos","delStationVos","selectedStation","openStation","openStationUnitPrice","index","value","form","price","map","indexOf","personel","mobile","filter","push","initialValues","nextProps","isInit","concat","changeValues","origin","isOk","station","id","contractmark","leaseBegindate","leaseEnddate","signdate","lessorAddress","firstpaydate","lessorContactid","totalrent","error","handleSubmit","pristine","reset","submitting","optionValues","fnaCorporationList","leaseId","corporationAddress","marginTop","stationType","stationName","marginBottom","marginRight","color","width","marginLeft","lessorContactName","requiredValue","pattern","customerName","communityName","communityAddress","paymentList","payTypeList","contractFileList","padding","textAlign","paddingRight","paddingLeft","DefaultPropTypes","PropTypes","object","func","selector","validate","errors","values","lessorContacttel","leaseAddress","wherefloor","leaseContacttel","isNaN","leaseContact","paymodel","contractcode","String","totaldeposit","enableReinitialize","keepDirtyOnReinitialize","lessorId","stationnum","boardroomnum"],"mappings":"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","file":"NewCreateForm.js","sourceRoot":"/Users/liuyihao/Code/kr-admin","sourcesContent":["import React, {\n\tComponent,\n\tPropTypes\n} from 'react';\nimport {\n\tconnect\n} from 'kr/Redux';\nimport Param from 'jquery-param';\nimport {\n\tFields\n} from 'redux-form';\nimport {\n\tBinder\n} from 'react-binding';\nimport ReactMixin from \"react-mixin\";\nimport LinkedStateMixin from 'react-addons-linked-state-mixin';\nimport dateFormat from 'dateformat';\nimport nzh from 'nzh';\nimport {\n\treduxForm,\n\tformValueSelector,\n\tinitialize,\n\tchange,\n\tarrayPush,\n\tarrayInsert,\n\tFieldArray\n} from 'redux-form';\n\nimport {\n\tActions,\n\tStore\n} from 'kr/Redux';\n\nimport AllStation from './AllStation';\n\nimport {\n\tMenu,\n\tMenuItem,\n\tDropDownMenu,\n\tIconMenu,\n\tDialog,\n\n\tTable,\n\tTableBody,\n\tTableHeader,\n\tTableHeaderColumn,\n\tTableRow,\n\tTableRowColumn,\n\tTableFooter,\n\tSection,\n\tKrField,\n\tGrid,\n\tRow,\n\tCol,\n\tButton,\n\tNotify,\n\tKrDate,\n\tDotTitle,\n\tButtonGroup,\n\tPaper,\n\tListGroup,\n\tListGroupItem,\n\tCircleStyle\n\n} from 'kr-ui';\n\n@ReactMixin.decorate(LinkedStateMixin)\nclass NewCreateForm extends Component {\n\n\tstatic DefaultPropTypes = {\n\t\tinitialValues: {\n\t\t\tcustomerName: '',\n\t\t\tcommunityName: '',\n\t\t\tlessorAddress: '',\n\t\t\tpayTypeList: [],\n\t\t\tpaymentList: [],\n\t\t\tfnaCorporationList: [],\n\t\t}\n\t}\n\n\tstatic PropTypes = {\n\t\tinitialValues: React.PropTypes.object,\n\t\tonSubmit: React.PropTypes.func,\n\t\tonCancel: React.PropTypes.func,\n\t}\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\n\t\t//stationsRefs表单\n\t\tthis.stationRefs = {};\n\n\t\tthis.onCancel = this.onCancel.bind(this);\n\t\tthis.onSubmit = this.onSubmit.bind(this);\n\n\t\tthis.onStationSubmit = this.onStationSubmit.bind(this);\n\t\tthis.onStationCancel = this.onStationCancel.bind(this);\n\n\t\tthis.onStationDelete = this.onStationDelete.bind(this);\n\t\tthis.onStationSelect = this.onStationSelect.bind(this);\n\n\t\tthis.openStationDialog = this.openStationDialog.bind(this);\n\t\tthis.onStationUnitPrice = this.onStationUnitPrice.bind(this);\n\t\tthis.openStationUnitPriceDialog = this.openStationUnitPriceDialog.bind(this);\n\t\tthis.onChangeSearchPersonel = this.onChangeSearchPersonel.bind(this);\n\t\tthis.onStationVosChange = this.onStationVosChange.bind(this);\n\t\tthis.state = {\n\t\t\toriginStationVos:[],\n\t\t\tstationVos: [],\n\t\t\tdelStationVos: [],\n\t\t\tselectedStation: [],\n\t\t\topenStation: false,\n\t\t\topenStationUnitPrice: false,\n\t\t\tallRent:'-1'\n\t\t}\n\n\t}\n\n\tonStationVosChange(index, value) {\n\t\tlet {\n\t\t\tstationVos\n\t\t} = this.state;\n\t\tstationVos[index].unitprice = value;\n\t\tthis.setState({\n\t\t\tstationVos\n\t\t});\n\t}\n\n\t//录入单价dialog\n\topenStationUnitPriceDialog() {\n\t\tthis.setState({\n\t\t\topenStationUnitPrice: !this.state.openStationUnitPrice\n\t\t});\n\t}\n\n\t//录入单价\n\tonStationUnitPrice(form) {\n\n\t\tvar value = form.price;\n\t\tlet {\n\t\t\tstationVos,\n\t\t\tselectedStation\n\t\t} = this.state;\n\n\t\tstationVos = stationVos.map(function(item, index) {\n\t\t\tif (selectedStation.indexOf(index) != -1) {\n\t\t\t\titem.unitprice = value;\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\n\t\tthis.setState({\n\t\t\tstationVos\n\t\t});\n\n\t\tthis.openStationUnitPriceDialog();\n\t}\n\n\tonChangeSearchPersonel(personel) {\n\t\tStore.dispatch(change('reduceCreateForm', 'lessorContacttel', personel.mobile));\n\t}\n\n\t// station list\n\tonStationCancel() {\n\t\tthis.openStationDialog();\n\t}\n\n\tonStationSubmit(stationVos) {\n\t\tlet _this = this;\n\t\tlet allRent = 0;\n\t\tthis.setAllRent(stationVos);\n\t\tthis.setState({\n\t\t\tstationVos\n\t\t});\n\n\t\tthis.openStationDialog();\n\t}\n\tsetAllRent=(list)=>{\n\t\tlet _this = this;\n\t\tStore.dispatch(Actions.callAPI('getAllRent',{stationList:JSON.stringify(list)})).then(function(response) {\n\t\t\t_this.setState({\n\t\t\t\tallRent:response\n\t\t\t})\n\t\t}).catch(function(err) {\n\t\t\tNotify.show([{\n\t\t\t\tmessage: err.message,\n\t\t\t\ttype: 'danger',\n\t\t\t}]);\n\t\t});\n\t}\n\tgetSingleRent=(item)=>{\n\t\t//年月日\n\t\tlet mounth = [31,28,31,30,31,30,31,31,30,31,30,31];\n\t\tlet rentBegin = dateFormat(item.leaseBeginDate, \"yyyy-mm-dd\").split('-');\n\t\tlet rentEnd = dateFormat(item.leaseEndDate, \"yyyy-mm-dd\").split('-');\n\t\tlet rentDay = 0;\n\t\tlet rentMounth = (rentEnd[0]-rentBegin[0])*12+(rentEnd[1]-rentBegin[1]);\n\t\tlet years = rentEnd[0];\n\t\tif(rentBegin[2]-rentEnd[2] == 1){\n\t\t\trentDay = 0;\n\t\t}else{\n\t\t\tlet a =rentEnd[2]-rentBegin[2];\n\t\t\tconsole.log('a',a);\n\t\t\tif(a>=0){\n\t\t\t\trentDay = a+1;\n\n\t\t\t}else{\n\t\t\t\tlet mounthIndex = rentEnd[1]-1;\n\t\t\t\tif((years%4==0 && years%100!=0)||(years%400==0) && rentEnd[1]==2 ){\n\t\t\t\t\trentDay = mounth[mounthIndex]+2+a;\n\t\t\t\t}\n\t\t\t\trentDay = mounth[mounthIndex]+1+a;\n\t\t\t\trentMounth = rentMounth-1;\n\t\t\t}\n\t\t}\n\t\tconsole.log('day',rentMounth,rentDay);\n\t\t//计算日单价\n\t\tlet rentPriceByDay =((item.unitprice*12)/365).toFixed(6);\n\t\t//工位总价钱\n\t\tlet allRent = (rentPriceByDay * rentDay) + (rentMounth*item.unitprice);\n\t\tallRent = allRent.toFixed(2)*1;\n\t\tconsole.log('allRent',allRent,rentPriceByDay);\n\t\treturn allRent;\n\t}\n\n\n\n\t//删除工位\n\tonStationDelete() {\n\t\tlet {\n\t\t\tselectedStation,\n\t\t\tstationVos,\n\t\t\tdelStationVos\n\t\t} = this.state;\n\n\t\tstationVos = stationVos.filter(function(item, index) {\n\t\t\tif (selectedStation.indexOf(index) != -1) {\n\t\t\t\tdelStationVos.push(item);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t});\n\t\tlet _this = this;\n\t\tlet allRent = 0;\n\t\tthis.setAllRent(stationVos);\n\n\n\t\tthis.setState({\n\t\t\tstationVos,\n\t\t\tdelStationVos,\n\t\t\tallRent\n\t\t});\n\n\n\t}\n\n\tonStationSelect(selectedStation) {\n\t\tthis.setState({\n\t\t\tselectedStation\n\t\t})\n\t}\n\n\topenStationDialog() {\n\t\tthis.setState({\n\t\t\topenStation: !this.state.openStation\n\t\t});\n\t}\n\n\tcomponentDidMount() {\n\t\tlet {\n\t\t\tinitialValues\n\t\t} = this.props;\n\t\tconsole.log('=====>',this.props.initialValues);\n\t\tStore.dispatch(initialize('reduceCreateForm', initialValues));\n\t}\n\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (!this.isInit && nextProps.stationVos.length) {\n\t\t\tlet stationVos = nextProps.stationVos;\n\t\t\tlet originStationVos = [].concat(stationVos);\n\t\t\tthis.setState({\n\t\t\t\tstationVos,\n\t\t\t\toriginStationVos\n\t\t\t});\n\t\t\tthis.isInit = true;\n\t\t};\n\t}\n\n\tonSubmit(form) {\n\t\tconsole.log('fffff');\n\n\t\tform = Object.assign({}, form);\n\n\t\tlet {\n\t\t\tchangeValues,\n\t\t\tinitialValues\n\t\t} = this.props;\n\t\tlet {\n\t\t\tstationVos,\n\t\t\tdelStationVos,\n\t\t\toriginStationVos\n\t\t} = this.state;\n\n\n\t\tdelStationVos = originStationVos.filter(function(origin){\n\t\t\t\tvar isOk = true;\n\t\t\t\tstationVos.map(function(station){\n\t\t\t\t\t\tif(station.id == origin.id){\n\t\t\t\t\t\t\t\tisOk = false;\n\t\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn isOk;\n\t\t});\n\t\t// form.contractmark = '';\n\t\tif(typeof form.contractmark == 'undefined'){\n\t\t\tform.contractmark = '';\n\t\t}\n\n\t\tform.leaseBegindate = dateFormat(stationVos[0].leaseBeginDate, \"yyyy-mm-dd hh:MM:ss\");\n\t\tform.leaseEnddate = dateFormat(stationVos[0].leaseEndDate, \"yyyy-mm-dd hh:MM:ss\");\n\t\tform.signdate = dateFormat(form.signdate, \"yyyy-mm-dd hh:MM:ss\");\n\t\tform.lessorAddress = changeValues.lessorAddress;\n\t\tform.firstpaydate = dateFormat(form.firstpaydate, \"yyyy-mm-dd hh:MM:ss\");\n\t\tform.lessorContactid = form.lessorContactid;\n\t\tform.totalrent = (this.state.allRent!='-1')?this.state.allRent:initialValues.totalrent;\n\n\t\tform.stationVos = JSON.stringify(stationVos);\n\t\tform.delStationVos = JSON.stringify(delStationVos);\n\t\tconsole.log('contractmark',form);\n\t\tconst {\n\t\t\tonSubmit\n\t\t} = this.props;\n\t\tonSubmit && onSubmit(form);\n\t}\n\n\tonCancel() {\n\t\tconst {\n\t\t\tonCancel\n\t\t} = this.props;\n\t\tonCancel && onCancel();\n\t}\n\tdealRentName=(allRent)=>{\n\t\tlet name = '';\n\t\tvar nzhcn = nzh.cn;\n\t\tif(!allRent){\n\t\t\treturn '零';\n\t\t}\n\t\tlet  allRentName = nzhcn.encodeB(parseFloat(allRent));\n\t\tlet allRentNameArray = allRentName.split('点');\n\t\tif(allRentNameArray.length==1){\n\t\t\tname = allRentNameArray[0] + '元整';\n\t\t}else{\n\t\t\tlet xiaoshu = allRentNameArray[1];\n\t\t\tname = allRentNameArray[0]+'元'+xiaoshu[0]+'角';\n\t\t\tif(xiaoshu[1]){\n\t\t\t\tname = name+xiaoshu[1]+'分';\n\t\t\t}\n\t\t}\n\t\treturn name;\n\t}\n\n\trender() {\n\n\t\tlet {\n\t\t\terror,\n\t\t\thandleSubmit,\n\t\t\tpristine,\n\t\t\treset,\n\t\t\tsubmitting,\n\t\t\tinitialValues,\n\t\t\tchangeValues,\n\t\t\toptionValues\n\t\t} = this.props;\n\n\t\tlet {\n\t\t\tfnaCorporationList\n\t\t} = optionValues;\n\n\t\tfnaCorporationList && fnaCorporationList.map(function(item, index) {\n\t\t\tif (initialValues.leaseId == item.id) {\n\t\t\t\tchangeValues.lessorAddress = item.corporationAddress;\n\t\t\t}\n\t\t});\n\n\t\tlet {\n\t\t\tstationVos,\n\t\t\tallRent\n\t\t} = this.state;\n\t\tallRent = (allRent!='-1')?allRent:initialValues.totalrent;\n\t\tlet allRentName = this.dealRentName(allRent);\n\n\n\t\treturn (\n\t\t\t<Paper width={968}>\n\n<form onSubmit={handleSubmit(this.onSubmit)} >\n\t\t\t<CircleStyle num={1} info='租赁明细'  >\n\t\t\t<div className=\"detailList\" style={{marginTop:'-50px'}}>\n\t\t\t\t <DotTitle title='租赁明细'>\n\t\t\t\t      <Grid style={{marginTop:'-40px'}}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col align=\"right\">\n\t\t\t\t\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t\t\t\t\t<Button label=\"删除\"  onTouchTap={this.onStationDelete} />\n\t\t\t\t\t\t\t\t\t\t<Button label=\"续租\"  onTouchTap={this.openStationDialog} />\n\t\t\t\t\t\t\t\t  </ButtonGroup>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t<div style={{marginTop:\"-10px\"}}>\n\t\t\t\t<Table  displayCheckbox={true} onSelect={this.onStationSelect}>\n\t\t\t\t<TableHeader>\n\t\t\t\t<TableHeaderColumn>类别</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn>编号／名称</TableHeaderColumn>\n\t\t\t\t<TableHeaderColumn>单价(元/月)</TableHeaderColumn>\n\t\t\t\t\t<TableHeaderColumn>续租开始时间</TableHeaderColumn>\n\t\t\t\t\t\t<TableHeaderColumn>续租结束日期</TableHeaderColumn>\n\t\t\t\t\t\t</TableHeader>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{stationVos.map((item,index)=>{\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TableRow key={index}>\n\t\t\t\t\t\t\t\t\t<TableRowColumn>{(item.stationType == 1) ?'工位':'会议室'}</TableRowColumn>\n\t\t\t\t\t\t\t\t\t<TableRowColumn>{item.stationName}</TableRowColumn>\n\t\t\t\t\t\t\t\t\t<TableRowColumn>\n\t\t\t\t\t\t\t\t\t\t\t{item.unitprice}\n\t\t\t\t\t\t\t\t\t</TableRowColumn>\n\t\t\t\t\t\t\t\t\t<TableRowColumn> <KrDate value={item.leaseBeginDate}/></TableRowColumn>\n\t\t\t\t\t\t\t\t\t<TableRowColumn><KrDate value={item.leaseEndDate}/></TableRowColumn>\n\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</DotTitle>\n                     <div style={{marginTop:'-20px',marginBottom:60}}>服务费总计：<span style={{marginRight:50,color:'red'}}>￥{allRent}</span><span>{allRentName}</span></div>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</CircleStyle>\n\t\t\t\t<CircleStyle num={2} info='合同文本信息' circle='bottom'>\n\n\t\t\t\t<KrField grid={1/2}  name=\"mainbillid\" type=\"hidden\" component=\"input\" />\n\t\t\t\t<KrField grid={1/2}  name=\"contractstate\" type=\"hidden\" component=\"input\" />\n\t\t\t\t<KrField grid={1/2}  name=\"contracttype\" type=\"hidden\" component=\"input\" />\n\t\t\t\t<KrField grid={1/2}  name=\"contractVersionType\" type=\"hidden\" component=\"input\" />\n\n\t\t\t\t<KrField name=\"leaseId\" style={{width:370,marginLeft:70}} component=\"select\" label=\"出租方\" options={optionValues.fnaCorporationList} requireLabel={true} />\n\t\t\t\t<KrField style={{width:370,marginLeft:90}} name=\"lessorAddress\" type=\"text\" component=\"labelText\" label=\"地址\" inline={false} value={changeValues.lessorAddress}  defaultValue=\"无\"/>\n\t\t\t\t<KrField style={{width:370,marginLeft:70}} name=\"lessorContactid\" component=\"searchPersonel\" label=\"联系人\" onChange={this.onChangeSearchPersonel} placeholder={optionValues.lessorContactName} requireLabel={true}/>\n\t\t\t\t<KrField style={{width:370,marginLeft:90}} name=\"lessorContacttel\" type=\"text\" component=\"input\" label=\"电话\" requireLabel={true}\n\t\t\t\trequiredValue={true} pattern={/(^((\\+86)|(86))?[1][3456789][0-9]{9}$)|(^(0\\d{2,3}-\\d{7,8})(-\\d{1,4})?$)/} errors={{requiredValue:'电话号码为必填项',pattern:'请输入正确电话号'}}/>\n\n\t\t\t\t<KrField style={{width:370,marginLeft:70}} component=\"labelText\" label=\"承租方\" inline={false} value={optionValues.customerName} requireLabel={true}/>\n\n\t\t\t\t<KrField style={{width:370,marginLeft:90}} name=\"leaseAddress\" type=\"text\" component=\"input\" label=\"地址\" requireLabel={true}\n\t\t\t\trequiredValue={true} pattern={/^.{0,120}$/} errors={{requiredValue:'地址为必填项',pattern:'地址最大60位'}} />\n\n\t\t\t\t<KrField style={{width:370,marginLeft:70}} name=\"leaseContact\" type=\"text\" component=\"input\" label=\"联系人\" requireLabel={true}\n\t\t\t\trequiredValue={true} pattern={/^.{0,20}$/} errors={{requiredValue:'联系人为必填项',pattern:'联系人最大20位'}} />\n\t\t\t\t<KrField style={{width:370,marginLeft:90}} name=\"leaseContacttel\" type=\"text\" component=\"input\" label=\"电话\" requireLabel={true}\n\t\t\t\trequiredValue={true} pattern={/(^((\\+86)|(86))?[1][3456789][0-9]{9}$)|(^(0\\d{2,3}-\\d{7,8})(-\\d{1,4})?$)/} errors={{requiredValue:'电话号码为必填项',pattern:'请输入正确电话号'}}/>\n\n\t\t\t\t<KrField style={{width:370,marginLeft:70}} name=\"communityid\" component=\"labelText\" label=\"所属社区\" inline={false} value={optionValues.communityName} />\n\n\t\t\t\t<KrField style={{width:370,marginLeft:90}} name=\"communityAddress\" component=\"labelText\" label=\"地址\" inline={false} value={optionValues.communityAddress} />\n\t\t\t\t<KrField style={{width:370,marginLeft:70}} name=\"contractcode\" type=\"text\" component=\"input\" label=\"合同编号\"  requireLabel={true}\n\t\t\t\trequiredValue={true} pattern={/^.{0,50}$/} errors={{requiredValue:'合同编号为必填项',pattern:'合同编号最大50位'}} />\n\n\t\t\t\t<KrField name=\"paymodel\" style={{width:370,marginLeft:90}} component=\"select\" label=\"付款方式\" options={optionValues.paymentList} requireLabel={true}/>\n\t\t\t\t<KrField name=\"paytype\" style={{width:370,marginLeft:70}} component=\"select\" label=\"支付方式\" options={optionValues.payTypeList} />\n\t\t\t\t<KrField name=\"firstpaydate\" style={{width:370,marginLeft:90}} component=\"date\" label=\"首付款时间\" requireLabel={true} />\n\n\t\t\t\t<KrField style={{width:370,marginLeft:70}} name=\"signdate\"  component=\"date\"  label=\"签署时间\" requireLabel={true}/>\n\n\t\t\t\t<KrField style={{width:370,marginLeft:90}} name=\"totalrent\" type=\"text\" component=\"labelText\" label=\"租金总额\" placeholder=\"\" inline={false} value={allRent} defaultValue={initialValues.totalrent} requireLabel={true}\n\t\t\t\trequiredValue={true} pattern={/^\\d{0,16}(\\.\\d{0,2})?$/} errors={{requiredValue:'租金总额为必填项',pattern:'请输入正数金额，小数点后最多两位'}} />\n\t\t\t\t<KrField style={{width:370,marginLeft:70}}  name=\"totaldeposit\" type=\"text\" component=\"input\" label=\"押金总额\" requireLabel={true}\n\t\t\t\trequiredValue={true} pattern={/^\\d{0,16}(\\.\\d{0,2})?$/} errors={{requiredValue:'押金总额为必填项',pattern:'请输入正数金额，小数点后最多两位'}} />\n\n\t\t\t\t<KrField style={{width:830,marginLeft:70}} name=\"contractmark\" component=\"textarea\" label=\"备注\" maxSize={200}/>\n\t\t\t\t</CircleStyle>\n\t\t\t\t<KrField style={{width:830,marginLeft:90,marginTop:'-20px'}} name=\"fileIdList\" component=\"file\" label=\"合同附件\" defaultValue={optionValues.contractFileList}/>\n\t\t\t\t<Grid style={{padding:'10px 0 50px'}}>\n\t\t\t\t\t\t<Row >\n\t\t\t\t\t\t<ListGroup>\n\t\t\t\t\t\t\t<ListGroupItem style={{width:'45%',textAlign:'right',paddingRight:15}}><Button  label=\"确定\" type=\"submit\" disabled={pristine || submitting} width={100} height={40} fontSize={16}/></ListGroupItem>\n\t\t\t\t\t\t\t<ListGroupItem style={{width:'45%',textAlign:'left',paddingLeft:15}}> <Button  label=\"取消\" cancle={true} type=\"button\"  onTouchTap={this.onCancel} width={100} height={40} fontSize={16}/> </ListGroupItem>\n\t\t\t\t\t\t</ListGroup>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t</form>\n\n\t\t\t\t\t<Dialog\n\t\t\t\t\t\ttitle=\"分配工位\"\n\t\t\t\t\t\topen={this.state.openStation}\n\t\t\t\t\t\tmodal={true}\n\t\t\t\t\t\tautoScrollBodyContent={true}\n\t\t\t\t\t\tautoDetectWindowHeight={true} onClose={this.onStationCancel}>\n\t\t\t\t\t\t\t\t<AllStation onSubmit={this.onStationSubmit} onCancel={this.onStationCancel} changeValues={this.props.changeValues}/>\n\t\t\t\t\t  </Dialog>\n\n\n\t\t\t</Paper>);\n\t}\n}\nconst selector = formValueSelector('reduceCreateForm');\nconst validate = values => {\n\n\tconst errors = {}\n\n\tif (!values.leaseId) {\n\t\terrors.leaseId = '请填写出租方';\n\t}\n\n\tif (!values.lessorContactid) {\n\t\terrors.lessorContactid = '请填写出租方联系人';\n\t}\n\n\tif (!values.lessorContacttel) {\n\t\terrors.lessorContacttel = '请填写出租方联系电话';\n\t}\n\n\tif (!values.leaseAddress) {\n\t\terrors.leaseAddress = '请填写承租方地址';\n\t}\n\tif (!values.wherefloor) {\n\t\terrors.wherefloor = '请先选择楼层';\n\t}\n\n\tif (!values.leaseContacttel) {\n\t\terrors.leaseContacttel = '请填写承租方电话';\n\t}\n\n\tif (!values.leaseAddress) {\n\t\terrors.leaseAddress = '请填写承租方地址';\n\t}\n\n\tif (values.leaseAddress && !isNaN(values.leaseAddress)) {\n\t\terrors.leaseAddress = '承租方地址不能为数字';\n\t}\n\n\tif (!values.leaseContact) {\n\t\terrors.leaseContact = '请填写承租方联系人';\n\t}\n\n\t// if (!values.fileIdList) {\n\t// \terrors.fileIdList = '请填写合同附件';\n\t// }\n\n\tif (!values.paymodel) {\n\t\terrors.paymodel = '请填写付款方式';\n\t}\n\n\n\tif (!values.signdate) {\n\t\terrors.signdate = '请填写签署时间';\n\t}\n\n\tif (!values.contractcode) {\n\t\terrors.contractcode = '请填写合同编号';\n\t}\n\n\tif (!String(values.totaldeposit)) {\n\t\terrors.totaldeposit = '请填写押金总额';\n\t}\n\n\n\n\treturn errors\n}\n\nNewCreateForm = reduxForm({\n\tform: 'reduceCreateForm',\n\tvalidate,\n\tenableReinitialize: true,\n\tkeepDirtyOnReinitialize: true\n})(NewCreateForm);\n\nexport default connect((state) => {\n\n\tlet changeValues = {};\n\n\tchangeValues.lessorId = selector(state, 'lessorId');\n\tchangeValues.leaseId = selector(state, 'leaseId');\n\tchangeValues.stationnum = selector(state, 'stationnum') || 0;\n\tchangeValues.boardroomnum = selector(state, 'boardroomnum') || 0;\n\tchangeValues.leaseBegindate = selector(state, 'leaseBegindate') || 0;\n\tchangeValues.leaseEnddate = selector(state, 'leaseEnddate') || 0;\n\n\n\treturn {\n\t\tchangeValues\n\t}\n\n})(NewCreateForm);\n"]}